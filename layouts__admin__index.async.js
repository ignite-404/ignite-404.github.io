"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[812],{96871:function(un,A,t){t.d(A,{Z:function(){return h}});var T=t(5574),F=t.n(T),k=t(67294),B=t(46629),j=t(18629),g=t(85893);function h(M){var O=M.className,l=(0,k.useState)(""),I=F()(l,2),D=I[0],S=I[1];return(0,j.Z)(function(){S(B.ND.utc().add(B.Mg,"hour").format("MM/DD HH:mm:ss"))},1e3,{immediate:!0}),(0,g.jsx)("div",{className:O||"text-overline text-tiny font-thin uppercase",children:D})}},79339:function(un,A,t){t.r(A),t.d(A,{default:function(){return Vn}});var T=t(15009),F=t.n(T),k=t(99289),B=t.n(k),j=t(47650),g=t(83062),h=t(14726),M=t(7134),O=t(97857),l=t.n(O),I=t(5574),D=t.n(I),S=t(30699),p=t(66419),ln=t(50472),dn=t(45360),cn=t(85576),mn=t(40056),y=t(11346),P=t(84567),E=t(67294),n=t(85893),hn=function(){var o=(0,E.useState)(!1),a=D()(o,2),u=a[0],i=a[1],v=(0,E.useState)(void 0),x=D()(v,2),r=x[0],m=x[1],f=r||{},H=r!=null,Z=function(e){m(e?{Home:!0,RootCategory:!0,Dashboard:!0,Search:!0}:void 0)},c=function(e){i(!0),S.x1.mallAdmin.settingRefreshViewCache(l()({},e)).then(function(C){(0,p._y)(C,function(){dn.ZP.success("\u7F13\u5B58\u5237\u65B0\u6210\u529F\uFF01"),Z(!1)})}).finally(function(){i(!1)})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(cn.Z,{open:H,title:"\u5237\u65B0\u7F13\u5B58",confirmLoading:u,okText:"\u5237\u65B0\u7F13\u5B58",onOk:function(){c(f)},onCancel:function(){Z(!1)},children:[(0,n.jsx)(mn.Z,{style:{marginBottom:10},message:"\u521A\u66F4\u65B0\u4E86\u6570\u636E\uFF0C\u4F46\u662F\u7528\u6237\u7AEF\u5374\u6CA1\u6709\u663E\u793A\uFF0C\u53EF\u4EE5\u5C1D\u8BD5\u5237\u65B0\u7F13\u5B58",type:"warning"}),(0,n.jsxs)(y.Z,{children:[(0,n.jsx)(y.Z.Item,{label:"\u9996\u9875",children:(0,n.jsx)(P.Z,{checked:f.Home,onChange:function(e){m(l()(l()({},r),{},{Home:e.target.checked}))},children:"\u9996\u9875"})}),(0,n.jsx)(y.Z.Item,{label:"\u5206\u7C7B",children:(0,n.jsx)(P.Z,{checked:f.RootCategory,onChange:function(e){m(l()(l()({},r),{},{RootCategory:e.target.checked}))},children:"\u5206\u7C7B"})}),(0,n.jsx)(y.Z.Item,{label:"\u62A5\u8868\u7EDF\u8BA1",children:(0,n.jsx)(P.Z,{checked:f.Dashboard,onChange:function(e){m(l()(l()({},r),{},{Dashboard:e.target.checked}))},children:"\u62A5\u8868\u7EDF\u8BA1"})}),(0,n.jsx)(y.Z.Item,{label:"\u641C\u7D22",children:(0,n.jsx)(P.Z,{checked:f.Search,onChange:function(e){m(l()(l()({},r),{},{Search:e.target.checked}))},children:"\u641C\u7D22\u9875\u9762"})})]})]}),(0,n.jsx)(g.Z,{title:"\u5237\u65B0\u7F13\u5B58",children:(0,n.jsx)(h.ZP,{size:"small",icon:(0,n.jsx)(ln.Z,{stroke:1}),type:"dashed",onClick:function(){Z(!0)}})})]})},vn=t(16308),xn=t(53524),jn=t(12843),K=t(13129),gn=t(25619),fn=t(63070),W=t(64491),N=t(33192),$=t(4525),G=t(46295),Y=t(82686),Zn=t(87753),pn=t(16623),yn=t(39276),Cn=t(99105),An=t(83121),Fn=t(97975),Bn=t(77249),In=t(55046),L=t(50286),Q=t(15741),V=t(45991),X=t(17226),J=t(39336),b=t(14738),w=t(2809),Dn=t(28451),q=t(31837),_=t(19707),d=t(35291),nn=[{name:"\u7EDF\u8BA1",path:"/admin/dashboard/home",key:"dashboard",icon:(0,n.jsx)(vn.Z,{stroke:1}),children:[{name:"\u7EDF\u8BA1\u62A5\u8868",path:"/admin/dashboard/home",icon:(0,n.jsx)(xn.Z,{stroke:1})},{name:"\u9500\u552E\u7EDF\u8BA1",path:"/admin/dashboard/sales",icon:(0,n.jsx)(jn.Z,{stroke:1})},{name:"\u5173\u952E\u8BCD",path:"/admin/dashboard/keywords",icon:(0,n.jsx)(K.Z,{stroke:1})},{name:"\u6D3B\u8DC3\u65F6\u95F4",path:"/admin/dashboard/activity",icon:(0,n.jsx)(gn.Z,{stroke:1})},{name:"\u6D3B\u8DC3\u57CE\u5E02",path:"/admin/dashboard/activity-geo",icon:(0,n.jsx)(fn.Z,{stroke:1})}]},{name:"\u5546\u54C1",path:"/admin/catalog/goods",key:"catalog",icon:(0,n.jsx)(W.Z,{stroke:1}),children:[{name:"\u5546\u54C1\u7BA1\u7406",path:"/admin/catalog/goods",icon:(0,n.jsx)(N.Z,{stroke:1})},{name:"\u54C1\u724C\u7BA1\u7406",path:"/admin/catalog/brand",icon:(0,n.jsx)($.Z,{stroke:1})},{name:"\u5206\u7C7B\u7BA1\u7406",path:"/admin/catalog/category",icon:(0,n.jsx)(G.Z,{stroke:1})},{name:"\u6807\u7B7E\u7BA1\u7406",path:"/admin/catalog/tag",icon:(0,n.jsx)(Y.Z,{stroke:1})}]},{name:"\u4FC3\u9500",path:"/admin/marketing/coupon",key:"marketing",icon:(0,n.jsx)(Zn.Z,{stroke:1}),children:[{name:"\u6298\u6263",path:"/admin/marketing/discount",icon:(0,n.jsx)(pn.Z,{stroke:1})},{name:"\u4F18\u60E0\u5238",path:"/admin/marketing/coupon",icon:(0,n.jsx)(yn.Z,{stroke:1})},{name:"\u9884\u552E\u5361",path:"/admin/marketing/gift-card",icon:(0,n.jsx)(Cn.Z,{stroke:1})}]},{name:"\u5E93\u5B58",path:"/admin/wms/stock/list",key:"warehouse",icon:(0,n.jsx)(An.Z,{stroke:1}),children:[{name:"\u91C7\u8D2D\u5355",path:"/admin/wms/stock/list",icon:(0,n.jsx)(Fn.Z,{stroke:1})},{name:"\u5E93\u5B58\u67E5\u8BE2",path:"/admin/wms/stock/items",icon:(0,n.jsx)(Bn.Z,{stroke:1})},{name:"\u4ED3\u5E93\u7BA1\u7406",path:"/admin/wms/warehouse",icon:(0,n.jsx)(In.Z,{stroke:1})},{name:"\u4F9B\u5E94\u5546\u7BA1\u7406",path:"/admin/wms/supplier",icon:(0,n.jsx)(L.Z,{stroke:1})}]},{name:"\u8BBE\u7F6E",path:"/admin/settings/store",key:"settings",icon:(0,n.jsx)(Q.Z,{stroke:1}),children:[{name:"\u5546\u57CE\u7BA1\u7406",path:"/admin/settings/store",icon:(0,n.jsx)(V.Z,{stroke:1})},{name:"\u7528\u6237\u7BA1\u7406",path:"/admin/settings/store-user",icon:(0,n.jsx)(X.Z,{stroke:1})},{name:"\u7CFB\u7EDF\u7BA1\u7406\u5458",path:"/admin/settings/admin",icon:(0,n.jsx)(L.Z,{stroke:1})},{name:"\u5FAE\u4FE1\u8BBE\u7F6E",path:"/admin/settings/wechat",icon:(0,n.jsx)(J.Z,{stroke:1})},{name:"\u8D26\u5355\u5BF9\u8D26",path:"/admin/settings/bill-verification",icon:(0,n.jsx)(b.Z,{stroke:1})},{name:"\u6D3B\u52A8\u65E5\u5FD7",path:"/admin/settings/activity-log",icon:(0,n.jsx)(w.Z,{stroke:1})},{name:"\u7CFB\u7EDF\u8BBE\u7F6E",icon:(0,n.jsx)(Dn.Z,{}),children:[{name:"\u56FD\u5BB6\u548C\u5730\u533A",path:"/admin/settings/area",icon:(0,n.jsx)(q.Z,{stroke:1})},{name:"\u73AF\u5883\u53D8\u91CF",path:"/admin/settings/env",icon:(0,n.jsx)(_.Z,{stroke:1})},{name:"\u5E73\u53F0\u914D\u7F6E",path:"/admin/settings/system/common"}]}]}];(0,d.$H)(nn);var Pn=nn,En=t(37545),U=t(38295),Rn=t(55932),Tn=t(80918),tn=t(68421),an=t(57381),sn=t(71230),en=t(15746),on=t(4393),rn=t(22181),kn=function(){return(0,n.jsx)(sn.Z,{justify:"center",style:{marginTop:"100px"},children:(0,n.jsx)(en.Z,{span:12,children:(0,n.jsx)(on.Z,{title:"\u63D0\u793A",children:(0,n.jsx)(rn.ZP,{status:"warning",title:"\u7BA1\u7406\u5458\u8D26\u53F7",subTitle:"\u7BA1\u7406\u5458\u8D26\u53F7\u88AB\u7981\u7528",extra:(0,n.jsx)(h.ZP,{type:"primary",onClick:function(){(0,d.rf)()},children:"\u7ACB\u5373\u767B\u5F55"})})})})})},Mn=function(){return(0,n.jsx)(sn.Z,{justify:"center",style:{paddingTop:"100px"},children:(0,n.jsx)(en.Z,{span:12,children:(0,n.jsx)(on.Z,{title:"\u63D0\u793A",children:(0,n.jsx)(rn.ZP,{status:"403",title:"\u7BA1\u7406\u5458\u8D26\u53F7",subTitle:"\u7BA1\u7406\u5458\u8D26\u53F7\u672A\u767B\u5F55",extra:(0,n.jsx)(h.ZP,{type:"primary",onClick:function(){(0,d.rf)()},children:"\u7ACB\u5373\u767B\u5F55"})})})})})},Xn=function(){return _jsx(Row,{justify:"center",style:{marginTop:"100px"},children:_jsx(Col,{span:12,children:_jsx(Card,{title:"\u63D0\u793A",children:_jsx(Result,{status:"warning",title:"\u7BA1\u7406\u5458\u8D26\u53F7",subTitle:"\u7BA1\u7406\u5458\u8D26\u53F7\u88AB\u7981\u7528",extra:_jsx(Button,{type:"primary",onClick:function(){redirectToLogin()},children:"\u7ACB\u5373\u767B\u5F55"})})})})})};function On(o){var a,u=o.children,i=(0,U.o)(),v=(0,j.TH)(),x=((a=i.adminAuthResult)===null||a===void 0?void 0:a.Admin)||{},r=(0,tn.Z)(i.queryAdminAuthResult,{manual:!0});return(0,E.useEffect)(function(){(0,p.lk)()?r.run():i.adminAuthResult=void 0},[v.pathname]),!(0,d.KY)(x)&&r.loading?(0,n.jsx)(an.Z,{spinning:r.loading,size:"large",fullscreen:!0,tip:(0,n.jsx)("p",{children:"\u52A0\u8F7D\u767B\u5F55\u4FE1\u606F..."})}):(0,d.KY)(x)?x.IsActive?(0,n.jsx)(n.Fragment,{children:u}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(kn,{})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Mn,{})})}function Sn(o){var a=o.children,u=(0,U.o)(),i=(0,j.TH)(),v=(0,tn.Z)(u.queryAdminPermission,{manual:!0});return E.useEffect(function(){(0,p.lk)()&&(0,d.KY)(u.admin)?v.run():u.adminPermissions=void 0},[i.pathname,u.admin]),u.adminPermissions==null&&v.loading?(0,n.jsx)(an.Z,{spinning:v.loading,size:"large",fullscreen:!0,tip:(0,n.jsx)("p",{children:"\u52A0\u8F7D\u6743\u9650\u4FE1\u606F..."})}):(0,n.jsx)(n.Fragment,{children:a})}var Ln=t(35839);function Un(o){var a=o.children;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(Ln.Z,{children:(0,n.jsx)(On,{children:(0,n.jsx)(Sn,{children:a})})})})}var zn=[{name:"\u5546\u54C1",path:"/admin/catalog/goods",key:"catalog",icon:(0,n.jsx)(W.Z,{stroke:1}),children:[{name:"\u5546\u54C1\u7BA1\u7406",path:"/admin/catalog/goods",icon:(0,n.jsx)(N.Z,{stroke:1})},{name:"\u54C1\u724C\u7BA1\u7406",path:"/admin/catalog/brand",icon:(0,n.jsx)($.Z,{stroke:1})},{name:"\u5206\u7C7B\u7BA1\u7406",path:"/admin/catalog/category",icon:(0,n.jsx)(G.Z,{stroke:1})},{name:"\u6807\u7B7E\u7BA1\u7406",path:"/admin/catalog/tag",icon:(0,n.jsx)(Y.Z,{stroke:1})}]},{name:"\u8BBE\u7F6E",path:"/admin/settings/store",key:"settings",icon:(0,n.jsx)(Q.Z,{stroke:1}),children:[{name:"\u5546\u57CE\u7BA1\u7406",path:"/admin/settings/store",icon:(0,n.jsx)(V.Z,{stroke:1})},{name:"\u7528\u6237\u7BA1\u7406",path:"/admin/settings/store-user",icon:(0,n.jsx)(X.Z,{stroke:1})},{name:"\u7CFB\u7EDF\u7BA1\u7406\u5458",path:"/admin/settings/admin",icon:(0,n.jsx)(L.Z,{stroke:1})},{name:"\u5FAE\u4FE1\u8BBE\u7F6E",path:"/admin/settings/wechat",icon:(0,n.jsx)(J.Z,{stroke:1})},{name:"\u56FD\u5BB6\u548C\u5730\u533A",path:"/admin/settings/area",icon:(0,n.jsx)(q.Z,{stroke:1})},{name:"\u73AF\u5883\u53D8\u91CF",path:"/admin/settings/env",icon:(0,n.jsx)(_.Z,{stroke:1})},{name:"\u8D26\u5355\u5BF9\u8D26",path:"/admin/settings/bill-verification",icon:(0,n.jsx)(b.Z,{stroke:1})},{name:"\u6D3B\u52A8\u65E5\u5FD7",path:"/admin/settings/activity-log",icon:(0,n.jsx)(w.Z,{stroke:1})}]}],Hn=zn,Kn=t(5753),Wn=t(70917),Nn=t(99115),$n=t(17777),Gn=t(14123),Yn=t(96871),Qn=t(40531),z=t(74621);function Vn(){var o,a,u=(0,j.pC)(),i=(0,U.o)(),v=(0,j.TH)(),x=(0,d.tC)()?Hn:Pn,r=(0,d.Oj)(x,function(Z){return(0,d.eg)(i.adminPermissions,Z)}),m=(0,p.zO)((0,d.vW)((o=i.admin)===null||o===void 0?void 0:o.User)||"--",8),f=(0,Rn.SZ)((a=i.admin)===null||a===void 0||(a=a.User)===null||a===void 0?void 0:a.Avatar),H=function(){var c;return(0,p.zd)()?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{display:"none"},children:"in iframe"}),u]}):(0,n.jsx)(Tn.f,{location:v,appList:(0,d.tC)()?Kn.Z:En.Z,theme:"light",navTheme:"light",layout:"top",fixedHeader:!0,splitMenus:!0,logo:(0,n.jsx)(z.Zd,{onClick:function(){j.m8.push({pathname:"/admin"})}}),title:"\u7BA1\u7406\u7AEF",menu:{request:function(){var s=B()(F()().mark(function C(){return F()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",r);case 1:case"end":return R.stop()}},C)}));function e(){return s.apply(this,arguments)}return e}(),params:r},menuItemRender:function(e,C){return(0,z.Pp)(e,C)},actionsRender:function(){return[(0,n.jsx)(Wn.pD,{}),(0,n.jsx)(hn,{}),(0,n.jsx)(g.Z,{title:"TODO",children:(0,n.jsx)(h.ZP,{type:"primary",size:"small",shape:"circle",icon:(0,n.jsx)(Nn.Z,{size:15})})}),(0,n.jsx)(g.Z,{title:"Search",children:(0,n.jsx)(h.ZP,{type:"primary",size:"small",shape:"circle",icon:(0,n.jsx)(K.Z,{size:15})})}),(0,n.jsx)(g.Z,{title:"Profile",children:(0,n.jsx)(h.ZP,{type:"primary",size:"small",shape:"circle",icon:(0,n.jsx)($n.Z,{size:15})})}),(0,n.jsx)(g.Z,{title:"FQ&A",children:(0,n.jsx)(h.ZP,{type:"primary",size:"small",shape:"circle",icon:(0,n.jsx)(Gn.Z,{size:15})})})]},waterMarkProps:{content:["\u7BA1\u7406\u7AEF\uFF1A".concat(m),((c=i.admin)===null||c===void 0||(c=c.User)===null||c===void 0||(c=c.UserMobile)===null||c===void 0?void 0:c.MobilePhone)||""].filter(function(s){return s.length>0})},avatarProps:{icon:(0,n.jsx)(M.C,{src:f,children:m}),title:(0,n.jsxs)("div",{className:"flex flex-col items-start",children:[(0,n.jsx)("div",{className:"text-body",children:m}),(0,n.jsx)(Yn.Z,{})]}),onClick:function(e){j.m8.push({pathname:"/admin/ucenter"})}},token:z.RZ,children:(0,n.jsx)(Qn.Z,{menus:x,children:u})})};return(0,n.jsx)(Un,{children:H()})}}}]);
