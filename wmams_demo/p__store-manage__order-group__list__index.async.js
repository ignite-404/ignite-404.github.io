"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2146],{74590:function(T,c,e){var t=e(17061),l=e.n(t),n=e(17156),r=e.n(n),a=e(27424),o=e.n(a),m=e(83062),y=e(14726),E=e(67294),j=e(85893);c.Z=function(f){var O=f.action,p=f.confirmText,x=f.hide,Z=(0,E.useState)(!1),D=o()(Z,2),L=D[0],N=D[1],v=p||"\u786E\u5B9A\u5220\u9664\uFF1F",$=function(){var u=r()(l()().mark(function i(){return l()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(confirm(v)){d.next=2;break}return d.abrupt("return");case 2:return N(!0),d.prev=3,d.next=6,O();case 6:return d.prev=6,N(!1),d.finish(6);case 9:case"end":return d.stop()}},i,null,[[3,,6,9]])}));return function(){return u.apply(this,arguments)}}();return x?null:(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(m.Z,{title:v,children:(0,j.jsx)(y.ZP,{loading:L,danger:!0,type:"link",onClick:function(){$()},children:"\u5220\u9664"})})})}},23806:function(T,c,e){var t=e(1288),l=e(85893);c.Z=function(n){var r=n.model,a=n.fallback;if(r==null||r==null)return null;var o=r==null?void 0:r.CreationTime,m=r==null?void 0:r.LastModificationTime;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{style:{},children:[(0,l.jsx)("div",{children:(0,l.jsx)(t.Z,{prefix:(0,l.jsx)("span",{children:"\u521B\u5EFA\uFF1A"}),onlyDate:!0,timeStr:o,fallback:a})}),(0,l.jsx)("div",{children:(0,l.jsx)(t.Z,{prefix:(0,l.jsx)("span",{children:"\u4FEE\u6539\uFF1A"}),onlyDate:!0,timeStr:m,fallback:a})})]})})}},1288:function(T,c,e){var t=e(78957),l=e(83062),n=e(46629),r=e(85893);c.Z=function(a){var o,m=a.timeStr,y=a.fallback,E=a.onlyDate,j=a.prefix,f=(o=(0,n.mg)(m))===null||o===void 0?void 0:o.add(n.Mg,"hour");if(!f)return y||null;var O=(0,n.ND)().utc().add(n.Mg,"hour"),p=f.isSame(O,"year"),x=f.diff(O,"day"),Z=p?f.format(n.AK):f.format(n.vc),D=function(){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(t.Z,{direction:"horizontal",children:[(0,r.jsx)("div",{children:f.fromNow()}),(0,r.jsx)("div",{children:f.format(n.On)})]}),(0,r.jsx)("div",{children:f.format(n.t9)})]})};return(0,r.jsx)(l.Z,{title:D(),children:(0,r.jsxs)(t.Z,{direction:"horizontal",children:[j,(0,r.jsx)("div",{className:"inline-block cursor-pointer hover:bg-orange-500",children:E?f.format(n.vc):f.format(n.dq)})]})})}},68043:function(T,c,e){e.r(c),e.d(c,{default:function(){return X}});var t=e(17061),l=e.n(t),n=e(17156),r=e.n(n),a=e(42122),o=e.n(a),m=e(27424),y=e.n(m),E=e(68421),j=e(78957),f=e(45360),O=e(4393),p=e(14726),x=e(80799),Z=e(87735),D=e(67294),L=e(74590),N=e(23806),v=e(30967),$=e(46629),u=e(47650),i=e(42838),B=e(85576),d=e(57381),g=e(11346),G=e(25278),s=e(85893),J=function(I){var S=I.show,b=I.hide,M=I.data,z=I.ok,V=(0,D.useState)(!1),U=y()(V,2),Q=U[0],F=U[1],K=(0,D.useState)({}),Y=y()(K,2),A=Y[0],W=Y[1],_=function(h){var P;h.Name=(P=h.Name)===null||P===void 0?void 0:P.trim(),!(0,i.Wq)(h.Name)&&(F(!0),v.x1.mallManager.orderGroupSave(o()({},h)).then(function(R){(0,i._y)(R,function(){f.ZP.success("\u4FDD\u5B58\u6210\u529F"),z()})}).finally(function(){F(!1)}))};return(0,D.useEffect)(function(){W(o()({},M))},[M]),(0,D.useEffect)(function(){S||W({})},[S]),(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(B.Z,{title:"\u6279\u6B21",open:S,onCancel:function(){return b()},destroyOnClose:!0,footer:(0,s.jsxs)(j.Z,{children:[(0,s.jsx)(L.Z,{action:r()(l()().mark(function C(){var h;return l()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,v.x1.mallManager.orderGroupDelete({Id:A.Id});case 2:h=R.sent,(0,i._y)(h,function(){b(),z()});case 4:case"end":return R.stop()}},C)})),hide:(0,i.Wq)(A.Id)}),(0,s.jsx)(p.ZP,{type:"primary",loading:Q,onClick:function(){_(A)},children:"\u4FDD\u5B58"})]}),children:(0,s.jsx)(d.Z,{spinning:Q,children:(0,s.jsxs)(g.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,s.jsxs)(g.Z.Item,{label:"\u540D\u79F0",required:!0,children:[(0,s.jsx)(G.Z,{count:{show:!0,max:20},maxLength:20,value:A.Name||"",onChange:function(h){W(o()(o()({},A),{},{Name:h.target.value}))}}),(0,i.Wq)(A.Name)&&(0,s.jsx)("p",{style:{color:"red"},children:"\u5FC5\u586B"})]}),(0,s.jsx)(g.Z.Item,{label:"\u63CF\u8FF0",rules:[{max:50}],children:(0,s.jsx)(G.Z.TextArea,{value:A.Description||"",onChange:function(h){W(o()(o()({},A),{},{Description:h.target.value}))}})})]})})})})},X=function(){var I,S=(0,E.Z)(v.x1.mallManager.orderGroupQueryPaging,{manual:!0}),b=S.loading,M=((I=S.data)===null||I===void 0?void 0:I.data)||{},z=(0,D.useState)({Page:1}),V=y()(z,2),U=V[0],Q=V[1],F=(0,D.useState)(void 0),K=y()(F,2),Y=K[0],A=K[1],W=function(){S.run(o()({},U))},_=[{title:"\u540D\u79F0",render:function(h,P){return(0,s.jsx)(u.rU,{to:{pathname:"/store-manage/order-group/detail",search:Z.stringify({id:P.Id})},target:"_blank",children:P.Name})}},{title:"\u63CF\u8FF0",render:function(h,P){return P.Description||"--"}},{title:"\u65F6\u95F4",render:function(h,P){return(0,s.jsx)(N.Z,{model:P})}},{title:"\u64CD\u4F5C",width:200,render:function(h,P){return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(j.Z,{direction:"horizontal",children:(0,s.jsx)(L.Z,{action:r()(l()().mark(function R(){var w;return l()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,v.x1.mallManager.orderGroupDelete({Id:P==null?void 0:P.Id});case 2:w=H.sent,(0,i._y)(w,function(){f.ZP.success("\u5220\u9664\u6210\u529F"),W()});case 4:case"end":return H.stop()}},R)}))})})})}}];return(0,D.useEffect)(function(){W()},[U]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(J,{show:Y!=null,hide:function(){return A(void 0)},data:Y||{},ok:function(){A(void 0),W()}}),(0,s.jsx)(O.Z,{title:"\u8BA2\u5355\u6279\u6B21",extra:(0,s.jsx)(p.ZP,{type:"primary",onClick:function(){A({Name:"\u8BA2\u5355\u6279\u6B21-".concat($.ND.utc().add($.Mg,"hour").format($.vc)),Description:void 0})},children:"\u65B0\u589E"}),children:(0,s.jsx)(x.Z,{rowKey:function(h){return h.Id||""},loading:b,columns:_,dataSource:M.Items||[],pagination:{showSizeChanger:!1,pageSize:20,current:U.Page,total:M.TotalCount,onChange:function(h){Q(o()(o()({},U),{},{Page:h}))}}})})]})}},85576:function(T,c,e){e.d(c,{Z:function(){return $}});var t=e(56080),l=e(38657),n=e(56745),r=e(67294),a=e(93967),o=e.n(a),m=e(40974),y=e(8745),E=e(53124),j=e(35792),f=e(32409),O=e(4941),p=e(71194),x=function(u,i){var B={};for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&i.indexOf(d)<0&&(B[d]=u[d]);if(u!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,d=Object.getOwnPropertySymbols(u);g<d.length;g++)i.indexOf(d[g])<0&&Object.prototype.propertyIsEnumerable.call(u,d[g])&&(B[d[g]]=u[d[g]]);return B};const Z=u=>{const{prefixCls:i,className:B,closeIcon:d,closable:g,type:G,title:s,children:J,footer:X}=u,I=x(u,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:S}=r.useContext(E.E_),b=S(),M=i||S("modal"),z=(0,j.Z)(b),[V,U,Q]=(0,p.ZP)(M,z),F=`${M}-confirm`;let K={};return G?K={closable:g!=null?g:!1,title:"",footer:"",children:r.createElement(f.O,Object.assign({},u,{prefixCls:M,confirmPrefixCls:F,rootPrefixCls:b,content:J}))}:K={closable:g!=null?g:!0,title:s,footer:X!==null&&r.createElement(O.$,Object.assign({},u)),children:J},V(r.createElement(m.s,Object.assign({prefixCls:M,className:o()(U,`${M}-pure-panel`,G&&F,G&&`${F}-${G}`,B,Q,z)},I,{closeIcon:(0,O.b)(M,d),closable:g},K)))};var D=(0,y.i)(Z),L=e(94423);function N(u){return(0,t.ZP)((0,t.uW)(u))}const v=n.Z;v.useModal=L.Z,v.info=function(i){return(0,t.ZP)((0,t.cw)(i))},v.success=function(i){return(0,t.ZP)((0,t.vq)(i))},v.error=function(i){return(0,t.ZP)((0,t.AQ)(i))},v.warning=N,v.warn=N,v.confirm=function(i){return(0,t.ZP)((0,t.Au)(i))},v.destroyAll=function(){for(;l.Z.length;){const i=l.Z.pop();i&&i()}},v.config=t.ai,v._InternalPanelDoNotUseOrYouWillBeFired=D;var $=v},29335:function(T){function c(t,l){return Object.prototype.hasOwnProperty.call(t,l)}T.exports=function(t,l,n,r){l=l||"&",n=n||"=";var a={};if(typeof t!="string"||t.length===0)return a;var o=/\+/g;t=t.split(l);var m=1e3;r&&typeof r.maxKeys=="number"&&(m=r.maxKeys);var y=t.length;m>0&&y>m&&(y=m);for(var E=0;E<y;++E){var j=t[E].replace(o,"%20"),f=j.indexOf(n),O,p,x,Z;f>=0?(O=j.substr(0,f),p=j.substr(f+1)):(O=j,p=""),x=decodeURIComponent(O),Z=decodeURIComponent(p),c(a,x)?e(a[x])?a[x].push(Z):a[x]=[a[x],Z]:a[x]=Z}return a};var e=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"}},33120:function(T){var c=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};T.exports=function(n,r,a,o){return r=r||"&",a=a||"=",n===null&&(n=void 0),typeof n=="object"?t(l(n),function(m){var y=encodeURIComponent(c(m))+a;return e(n[m])?t(n[m],function(E){return y+encodeURIComponent(c(E))}).join(r):y+encodeURIComponent(c(n[m]))}).join(r):o?encodeURIComponent(c(o))+a+encodeURIComponent(c(n)):""};var e=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"};function t(n,r){if(n.map)return n.map(r);for(var a=[],o=0;o<n.length;o++)a.push(r(n[o],o));return a}var l=Object.keys||function(n){var r=[];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&r.push(a);return r}},87735:function(T,c,e){c.decode=c.parse=e(29335),c.encode=c.stringify=e(33120)}}]);
