"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8835],{74590:function(z,S,e){var i=e(15009),C=e.n(i),W=e(99289),m=e.n(W),R=e(5574),N=e.n(R),P=e(83062),n=e(14726),K=e(67294),g=e(85893);S.Z=function(M){var T=M.action,_=M.confirmText,b=M.hide,$=(0,K.useState)(!1),d=N()($,2),L=d[0],p=d[1],o=_||"\u786E\u5B9A\u5220\u9664\uFF1F",G=function(){var t=m()(C()().mark(function r(){return C()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(confirm(o)){l.next=2;break}return l.abrupt("return");case 2:return p(!0),l.prev=3,l.next=6,T();case 6:return l.prev=6,p(!1),l.finish(6);case 9:case"end":return l.stop()}},r,null,[[3,,6,9]])}));return function(){return t.apply(this,arguments)}}();return b?null:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(P.Z,{title:o,children:(0,g.jsx)(n.ZP,{loading:L,danger:!0,type:"link",onClick:function(){G()},children:"\u5220\u9664"})})})}},11587:function(z,S,e){e.r(S),e.d(S,{default:function(){return U}});var i=e(5574),C=e.n(i),W=e(68421),m=e(14726),R=e(4393),N=e(80799),P=e(67294),n=e(85893),K=function(s){var D=s.model,E=s.children,y=s.deletedNotice;return D==null||D.IsDeleted?y||(0,n.jsx)("span",{children:"\u8D44\u6E90\u5DF2\u7ECF\u88AB\u5220\u9664"}):(0,n.jsx)(n.Fragment,{children:E})},g=e(30699),M=e(15009),T=e.n(M),_=e(99289),b=e.n(_),$=e(97857),d=e.n($),L=e(45360),p=e(85576),o=e(78957),G=e(57381),t=e(11346),r=e(25278),Z=e(74590),l=e(66419),u=function(s){var D=s.show,E=s.hide,y=s.data,x=s.ok,O=(0,P.useState)(!1),v=C()(O,2),F=v[0],B=v[1],f=(0,P.useState)({}),h=C()(f,2),a=h[0],j=h[1],Q=function(c){var V;c.Name=(V=c.Name)===null||V===void 0?void 0:V.trim(),!(0,l.Wq)(c.Name)&&(B(!0),g.x1.mallAdmin.tagSaveTag(d()({},c)).then(function(I){I.data.Error?L.ZP.error(I.data.Error.Message):(L.ZP.success("\u4FDD\u5B58\u6210\u529F"),x())}).finally(function(){B(!1)}))};return(0,P.useEffect)(function(){j(d()({},y||{}))},[y]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p.Z,{title:"\u6807\u7B7E",open:D,onCancel:function(){return E()},footer:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(Z.Z,{action:b()(T()().mark(function A(){var c;return T()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,g.x1.mallAdmin.tagDelete({Id:a.Id});case 2:c=I.sent,(0,l._y)(c,function(){E(),x()});case 4:case"end":return I.stop()}},A)})),hide:(0,l.Wq)(a.Id)}),(0,n.jsx)(m.ZP,{type:"primary",onClick:function(){Q(a)},children:"\u4FDD\u5B58"})]}),children:(0,n.jsx)(G.Z,{spinning:F,children:(0,n.jsxs)(t.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,n.jsxs)(t.Z.Item,{label:"\u540D\u79F0",required:!0,children:[(0,n.jsx)(r.Z,{count:{show:!0,max:20},maxLength:20,value:a.Name||"",onChange:function(c){j(d()(d()({},a),{},{Name:c.target.value}))}}),(0,l.Wq)(a.Name)&&(0,n.jsx)("p",{style:{color:"red"},children:"\u5FC5\u586B"})]}),(0,n.jsx)(t.Z.Item,{label:"\u63CF\u8FF0",children:(0,n.jsx)(r.Z.TextArea,{maxLength:200,value:a.Description||"",onChange:function(c){j(d()(d()({},a),{},{Description:c.target.value}))}})}),(0,n.jsx)(t.Z.Item,{label:"\u63D0\u793A",children:(0,n.jsx)(r.Z,{maxLength:50,value:a.Alert||"",onChange:function(c){j(d()(d()({},a),{},{Alert:c.target.value}))}})}),(0,n.jsx)(t.Z.Item,{label:"\u8FDE\u63A5",tooltip:"\u6682\u4E0D\u53EF\u7528",children:(0,n.jsx)(r.Z,{maxLength:1e3,value:a.Link||"",onChange:function(c){j(d()(d()({},a),{},{Link:c.target.value}))}})})]})})})})},U=function(){var s,D=(0,P.useState)(void 0),E=C()(D,2),y=E[0],x=E[1],O=(0,W.Z)(g.x1.mallAdmin.tagListTags),v=((s=O.data)===null||s===void 0||(s=s.data)===null||s===void 0?void 0:s.Data)||[],F=function(){O.run({})},B=[{title:"\u540D\u79F0",render:function(h,a){return a.Name||"--"}},{title:"\u63CF\u8FF0",render:function(h,a){return a.Description||"--"}},{title:"\u63D0\u793A",render:function(h,a){return a.Alert||"--"}},{title:"\u94FE\u63A5",render:function(h,a){return a.Link||"--"}},{title:"\u64CD\u4F5C",width:200,render:function(h,a){return(0,n.jsx)(K,{model:a,children:(0,n.jsx)(m.ZP.Group,{children:(0,n.jsx)(m.ZP,{type:"link",onClick:function(){x(a)},children:"\u7F16\u8F91"})})})}}];return(0,P.useEffect)(function(){F()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u,{show:y!=null,hide:function(){return x(void 0)},data:y||{},ok:function(){x(void 0),F()}}),(0,n.jsx)(R.Z,{title:"\u6807\u7B7E",extra:(0,n.jsx)(m.ZP,{type:"primary",onClick:function(){x({})},children:"\u65B0\u589E"}),children:(0,n.jsx)(N.Z,{rowKey:function(h){return h.Id||""},loading:O.loading,columns:B,dataSource:v||[],pagination:!1})})]})}},85576:function(z,S,e){e.d(S,{Z:function(){return G}});var i=e(56080),C=e(38657),W=e(56745),m=e(67294),R=e(93967),N=e.n(R),P=e(40974),n=e(8745),K=e(53124),g=e(35792),M=e(32409),T=e(4941),_=e(71194),b=function(t,r){var Z={};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&r.indexOf(l)<0&&(Z[l]=t[l]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,l=Object.getOwnPropertySymbols(t);u<l.length;u++)r.indexOf(l[u])<0&&Object.prototype.propertyIsEnumerable.call(t,l[u])&&(Z[l[u]]=t[l[u]]);return Z};const $=t=>{const{prefixCls:r,className:Z,closeIcon:l,closable:u,type:U,title:s,children:D,footer:E}=t,y=b(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:x}=m.useContext(K.E_),O=x(),v=r||x("modal"),F=(0,g.Z)(O),[B,f,h]=(0,_.ZP)(v,F),a=`${v}-confirm`;let j={};return U?j={closable:u!=null?u:!1,title:"",footer:"",children:m.createElement(M.O,Object.assign({},t,{prefixCls:v,confirmPrefixCls:a,rootPrefixCls:O,content:D}))}:j={closable:u!=null?u:!0,title:s,footer:E!==null&&m.createElement(T.$,Object.assign({},t)),children:D},B(m.createElement(P.s,Object.assign({prefixCls:v,className:N()(f,`${v}-pure-panel`,U&&a,U&&`${a}-${U}`,Z,h,F)},y,{closeIcon:(0,T.b)(v,l),closable:u},j)))};var d=(0,n.i)($),L=e(94423);function p(t){return(0,i.ZP)((0,i.uW)(t))}const o=W.Z;o.useModal=L.Z,o.info=function(r){return(0,i.ZP)((0,i.cw)(r))},o.success=function(r){return(0,i.ZP)((0,i.vq)(r))},o.error=function(r){return(0,i.ZP)((0,i.AQ)(r))},o.warning=p,o.warn=p,o.confirm=function(r){return(0,i.ZP)((0,i.Au)(r))},o.destroyAll=function(){for(;C.Z.length;){const r=C.Z.pop();r&&r()}},o.config=i.ai,o._InternalPanelDoNotUseOrYouWillBeFired=d;var G=o}}]);
