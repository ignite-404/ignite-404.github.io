!(function(){var zt=Object.defineProperty,$t=Object.defineProperties;var Qt=Object.getOwnPropertyDescriptors;var kt=Object.getOwnPropertySymbols;var Ft=Object.prototype.hasOwnProperty,Rt=Object.prototype.propertyIsEnumerable;var Lt=(Ee,te,a)=>te in Ee?zt(Ee,te,{enumerable:!0,configurable:!0,writable:!0,value:a}):Ee[te]=a,wt=(Ee,te)=>{for(var a in te||(te={}))Ft.call(te,a)&&Lt(Ee,a,te[a]);if(kt)for(var a of kt(te))Rt.call(te,a)&&Lt(Ee,a,te[a]);return Ee},Ut=(Ee,te)=>$t(Ee,Qt(te));var Wt=(Ee,te)=>{var a={};for(var M in Ee)Ft.call(Ee,M)&&te.indexOf(M)<0&&(a[M]=Ee[M]);if(Ee!=null&&kt)for(var M of kt(Ee))te.indexOf(M)<0&&Rt.call(Ee,M)&&(a[M]=Ee[M]);return a};(self.webpackChunk=self.webpackChunk||[]).push([[7913],{97321:function(Ee,te,a){"use strict";a.d(te,{Z:function(){return R}});var M=a(4942),u=a(1413),pe=a(45987),V=a(97685),ee=a(21770),k=a(28459),B=a(7134),w=a(93967),m=a.n(w),l=a(67294),x=a(80171),_=a(74902),b=a(21687),S=a(90814),I=a(98082),c=a(10915),g=a(97435),L=a(11568),F=function(v){return{backgroundColor:v.colorPrimaryBg,borderColor:v.colorPrimary}},re=function(v){return(0,M.Z)({backgroundColor:v.colorBgContainerDisabled,borderColor:v.colorBorder,cursor:"not-allowed"},v.componentCls,{"&-description":{color:v.colorTextDisabled},"&-title":{color:v.colorTextDisabled},"&-avatar":{opacity:"0.25"}})},Se=new L.E4("card-loading",{"0%":{backgroundPosition:"0 50%"},"50%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),Q=function(v){var nt;return(0,M.Z)({},v.componentCls,(nt={position:"relative",display:"inline-block",width:"320px",marginInlineEnd:"16px",marginBlockEnd:"16px",color:v.colorText,fontSize:v.fontSize,lineHeight:v.lineHeight,verticalAlign:"top",backgroundColor:v.colorBgContainer,borderRadius:v.borderRadius,overflow:"auto",cursor:"pointer",transition:"all 0.3s","&:after":{position:"absolute",insetBlockStart:2,insetInlineEnd:2,width:0,height:0,opacity:0,transition:"all 0.3s "+v.motionEaseInOut,borderBlockEnd:"".concat(v.borderRadius+4,"px  solid transparent"),borderInlineStart:"".concat(v.borderRadius+4,"px  solid transparent"),borderStartEndRadius:"".concat(v.borderRadius,"px"),content:"''"},"&:last-child":{marginInlineEnd:0},"& + &":{marginInlineStart:"0 !important"},"&-bordered":{border:"".concat(v.lineWidth,"px solid ").concat(v.colorBorder)},"&-group":{display:"inline-block","&-sub-check-card":{display:"flex",flexDirection:"column",gap:"8px","&-title":{cursor:"pointer",paddingBlock:v.paddingXS,display:"flex",gap:4,alignItems:"center"},"&-panel":{visibility:"initial",transition:"all 0.3s",opacity:1,"&-collapse":{display:"none",visibility:"hidden",opacity:0}}}}},(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)(nt,"".concat(v.componentCls,"-loading"),{overflow:"hidden",userSelect:"none","&-content":{padding:v.paddingMD}}),"&:focus",F(v)),"&-checked",(0,u.Z)((0,u.Z)({},F(v)),{},{"&:after":{opacity:1,border:"".concat(v.borderRadius+4,"px solid ").concat(v.colorPrimary),borderBlockEnd:"".concat(v.borderRadius+4,"px  solid transparent"),borderInlineStart:"".concat(v.borderRadius+4,"px  solid transparent"),borderStartEndRadius:"".concat(v.borderRadius,"px")}})),"&-disabled",re(v)),"&[disabled]",re(v)),"&-checked&-disabled",{"&:after":{position:"absolute",insetBlockStart:2,insetInlineEnd:2,width:0,height:0,border:"".concat(v.borderRadius+4,"px solid ").concat(v.colorTextDisabled),borderBlockEnd:"".concat(v.borderRadius+4,"px  solid transparent"),borderInlineStart:"".concat(v.borderRadius+4,"px  solid transparent"),borderStartEndRadius:"".concat(v.borderRadius,"px"),content:"''"}}),"&-lg",{width:440}),"&-sm",{width:212}),"&-cover",{paddingInline:v.paddingXXS,paddingBlock:v.paddingXXS,img:{width:"100%",height:"100%",overflow:"hidden",borderRadius:v.borderRadius}}),"&-content",{display:"flex",paddingInline:v.paddingSM,paddingBlock:v.padding}),(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)(nt,"&-body",{paddingInline:v.paddingSM,paddingBlock:v.padding}),"&-avatar-header",{display:"flex",alignItems:"center"}),"&-avatar",{paddingInlineEnd:8}),"&-detail",{overflow:"hidden",width:"100%","> div:not(:last-child)":{marginBlockEnd:4}}),"&-header",{display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:v.lineHeight,"&-left":{display:"flex",alignItems:"center",gap:v.sizeSM,minWidth:0}}),"&-title",{overflow:"hidden",color:v.colorTextHeading,fontWeight:"500",fontSize:v.fontSize,whiteSpace:"nowrap",textOverflow:"ellipsis",display:"flex",alignItems:"center",justifyContent:"space-between","&-with-ellipsis":{display:"inline-block"}}),"&-description",{color:v.colorTextSecondary}),"&:not(".concat(v.componentCls,"-disabled)"),{"&:hover":{borderColor:v.colorPrimary}})))};function me(Te){return(0,I.Xj)("CheckCard",function(v){var nt=(0,u.Z)((0,u.Z)({},v),{},{componentCls:".".concat(Te)});return[Q(nt)]})}var G=a(85893),ge=["prefixCls","className","style","options","loading","multiple","bordered","onChange"],it=function(v){var nt=v.prefixCls,U=v.hashId;return(0,G.jsx)("div",{className:m()("".concat(nt,"-loading-content"),U),children:(0,G.jsx)(b.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1})})},st=(0,l.createContext)(null),_e=function(v){var nt=(0,l.useState)(!1),U=(0,V.Z)(nt,2),C=U[0],h=U[1],p=I.Ow.useToken(),T=p.hashId,e="".concat(v.prefix,"-sub-check-card");return(0,G.jsxs)("div",{className:m()(e,T),children:[(0,G.jsxs)("div",{className:m()("".concat(e,"-title"),T),onClick:function(){h(!C)},children:[(0,G.jsx)(S.Z,{style:{transform:"rotate(".concat(C?90:0,"deg)"),transition:"transform 0.3s"}}),v.title]}),(0,G.jsx)("div",{className:m()("".concat(e,"-panel"),T,(0,M.Z)({},"".concat(e,"-panel-collapse"),C)),children:v.children})]})},bt=function(v){var nt=v.prefixCls,U=v.className,C=v.style,h=v.options,p=h===void 0?[]:h,T=v.loading,e=T===void 0?!1:T,Pe=v.multiple,be=Pe===void 0?!1:Pe,Ce=v.bordered,xe=Ce===void 0?!0:Ce,Ze=v.onChange,Me=(0,pe.Z)(v,ge),We=(0,l.useContext)(k.ZP.ConfigContext),Oe=(0,l.useCallback)(function(){return p==null?void 0:p.map(function($e){return typeof $e=="string"?{title:$e,value:$e}:$e})},[p]),ue=We.getPrefixCls("pro-checkcard",nt),ze=me(ue),je=ze.wrapSSR,ut=ze.hashId,Xe="".concat(ue,"-group"),Ie=(0,g.Z)(Me,["children","defaultValue","value","disabled","size"]),dt=(0,ee.Z)(v.defaultValue,{value:v.value,onChange:v.onChange}),ot=(0,V.Z)(dt,2),ke=ot[0],lt=ot[1],Le=(0,l.useRef)(new Map),Ne=function(et){var Fe;(Fe=Le.current)===null||Fe===void 0||Fe.set(et,!0)},xt=function(et){var Fe;(Fe=Le.current)===null||Fe===void 0||Fe.delete(et)},ft=function(et){if(!be){var Fe;Fe=ke,Fe===et.value?Fe=void 0:Fe=et.value,lt==null||lt(Fe)}if(be){var rt,we=[],tt=ke,Ae=tt==null?void 0:tt.includes(et.value);we=(0,_.Z)(tt||[]),Ae||we.push(et.value),Ae&&(we=we.filter(function(Re){return Re!==et.value}));var Ke=Oe(),He=(rt=we)===null||rt===void 0||(rt=rt.filter(function(Re){return Le.current.has(Re)}))===null||rt===void 0?void 0:rt.sort(function(Re,ct){var pt=Ke.findIndex(function(mt){return mt.value===Re}),Ct=Ke.findIndex(function(mt){return mt.value===ct});return pt-Ct});lt(He)}},qe=(0,l.useMemo)(function(){if(e)return new Array(p.length||l.Children.toArray(v.children).length||1).fill(0).map(function(Fe,rt){return(0,G.jsx)(R,{loading:!0},rt)});if(p&&p.length>0){var $e=ke,et=function Fe(rt){return rt.map(function(we){var tt;if(we.children&&we.children.length>0){var Ae,Ke;return(0,G.jsx)(_e,{title:we.title,prefix:Xe,children:Fe(we.children)},((Ae=we.value)===null||Ae===void 0?void 0:Ae.toString())||((Ke=we.title)===null||Ke===void 0?void 0:Ke.toString()))}return(0,G.jsx)(R,{disabled:we.disabled,size:(tt=we.size)!==null&&tt!==void 0?tt:v.size,value:we.value,checked:be?$e==null?void 0:$e.includes(we.value):$e===we.value,onChange:we.onChange,title:we.title,avatar:we.avatar,description:we.description,cover:we.cover},we.value.toString())})};return et(Oe())}return v.children},[Oe,e,be,p,v.children,v.size,ke]),Et=m()(Xe,U,ut);return je((0,G.jsx)(st.Provider,{value:{toggleOption:ft,bordered:xe,value:ke,disabled:v.disabled,size:v.size,loading:v.loading,multiple:v.multiple,registerValue:Ne,cancelValue:xt},children:(0,G.jsx)("div",(0,u.Z)((0,u.Z)({className:Et,style:C},Ie),{},{children:qe}))}))},ht=function(Te){return(0,G.jsx)(c._Y,{needDeps:!0,children:(0,G.jsx)(bt,(0,u.Z)({},Te))})},De=["prefixCls","className","avatar","title","description","cover","extra","style"],se=function(v){var nt=(0,ee.Z)(v.defaultChecked||!1,{value:v.checked,onChange:v.onChange}),U=(0,V.Z)(nt,2),C=U[0],h=U[1],p=(0,l.useContext)(st),T=(0,l.useContext)(k.ZP.ConfigContext),e=T.getPrefixCls,Pe=function(He){var Re,ct;v==null||(Re=v.onClick)===null||Re===void 0||Re.call(v,He);var pt=!C;p==null||(ct=p.toggleOption)===null||ct===void 0||ct.call(p,{value:v.value}),h==null||h(pt)},be=function(He){return He==="large"?"lg":He==="small"?"sm":""};(0,l.useEffect)(function(){var Ke;return p==null||(Ke=p.registerValue)===null||Ke===void 0||Ke.call(p,v.value),function(){var He;return p==null||(He=p.cancelValue)===null||He===void 0?void 0:He.call(p,v.value)}},[v.value]);var Ce=v.prefixCls,xe=v.className,Ze=v.avatar,Me=v.title,We=v.description,Oe=v.cover,ue=v.extra,ze=v.style,je=ze===void 0?{}:ze,ut=(0,pe.Z)(v,De),Xe=(0,u.Z)({},ut),Ie=e("pro-checkcard",Ce),dt=me(Ie),ot=dt.wrapSSR,ke=dt.hashId,lt=function(He,Re){return(0,G.jsx)("div",{className:m()("".concat(He,"-cover"),ke),children:typeof Re=="string"?(0,G.jsx)("img",{src:Re,alt:"checkcard"}):Re})};Xe.checked=C;var Le=!1;if(p){var Ne;Xe.disabled=v.disabled||p.disabled,Xe.loading=v.loading||p.loading,Xe.bordered=v.bordered||p.bordered,Le=p.multiple;var xt=p.multiple?(Ne=p.value)===null||Ne===void 0?void 0:Ne.includes(v.value):p.value===v.value;Xe.checked=Xe.loading?!1:xt,Xe.size=v.size||p.size}var ft=Xe.disabled,qe=ft===void 0?!1:ft,Et=Xe.size,$e=Xe.loading,et=Xe.bordered,Fe=et===void 0?!0:et,rt=Xe.checked,we=be(Et),tt=m()(Ie,xe,ke,(0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)((0,M.Z)({},"".concat(Ie,"-loading"),$e),"".concat(Ie,"-").concat(we),we),"".concat(Ie,"-checked"),rt),"".concat(Ie,"-multiple"),Le),"".concat(Ie,"-disabled"),qe),"".concat(Ie,"-bordered"),Fe),"".concat(Ie,"-ghost"),v.ghost)),Ae=(0,l.useMemo)(function(){if($e)return(0,G.jsx)(it,{prefixCls:Ie||"",hashId:ke});if(Oe)return lt(Ie||"",Oe);var Ke=Ze?(0,G.jsx)("div",{className:m()("".concat(Ie,"-avatar"),ke),children:typeof Ze=="string"?(0,G.jsx)(B.C,{size:48,shape:"square",src:Ze}):Ze}):null,He=(Me!=null?Me:ue)!=null&&(0,G.jsxs)("div",{className:m()("".concat(Ie,"-header"),ke),children:[(0,G.jsxs)("div",{className:m()("".concat(Ie,"-header-left"),ke),children:[(0,G.jsx)("div",{className:m()("".concat(Ie,"-title"),ke,(0,M.Z)({},"".concat(Ie,"-title-with-ellipsis"),typeof Me=="string")),children:Me}),v.subTitle?(0,G.jsx)("div",{className:m()("".concat(Ie,"-subTitle"),ke),children:v.subTitle}):null]}),ue&&(0,G.jsx)("div",{className:m()("".concat(Ie,"-extra"),ke),children:ue})]}),Re=We?(0,G.jsx)("div",{className:m()("".concat(Ie,"-description"),ke),children:We}):null,ct=m()("".concat(Ie,"-content"),ke,(0,M.Z)({},"".concat(Ie,"-avatar-header"),Ke&&He&&!Re));return(0,G.jsxs)("div",{className:ct,children:[Ke,He||Re?(0,G.jsxs)("div",{className:m()("".concat(Ie,"-detail"),ke),children:[He,Re]}):null]})},[Ze,$e,Oe,We,ue,ke,Ie,v.subTitle,Me]);return ot((0,G.jsxs)("div",{className:tt,style:je,onClick:function(He){!$e&&!qe&&Pe(He)},onMouseEnter:v.onMouseEnter,children:[Ae,v.children?(0,G.jsx)("div",{className:m()("".concat(Ie,"-body"),ke),style:v.bodyStyle,children:v.children}):null,v.actions?(0,G.jsx)(x.Z,{actions:v.actions,prefixCls:Ie}):null]}))};se.Group=ht;var R=se},74590:function(Ee,te,a){"use strict";var M=a(17061),u=a.n(M),pe=a(17156),V=a.n(pe),ee=a(27424),k=a.n(ee),B=a(83062),w=a(14726),m=a(67294),l=a(85893);te.Z=function(x){var _=x.action,b=x.confirmText,S=x.hide,I=(0,m.useState)(!1),c=k()(I,2),g=c[0],L=c[1],F=b||"\u786E\u5B9A\u5220\u9664\uFF1F",re=function(){var Se=V()(u()().mark(function Q(){return u()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(confirm(F)){G.next=2;break}return G.abrupt("return");case 2:return L(!0),G.prev=3,G.next=6,_();case 6:return G.prev=6,L(!1),G.finish(6);case 9:case"end":return G.stop()}},Q,null,[[3,,6,9]])}));return function(){return Se.apply(this,arguments)}}();return S?null:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(B.Z,{title:F,children:(0,l.jsx)(w.ZP,{loading:g,danger:!0,type:"link",onClick:function(){re()},children:"\u5220\u9664"})})})}},48382:function(Ee,te,a){"use strict";var M=a(27424),u=a.n(M),pe=a(98163),V=a(7134),ee=a(55241),k=a(67294),B=a(35291),w=a(42838),m=a(93338),l=a(85893);te.Z=function(x){var _=x.data,b=x.count,S=(0,k.useState)(void 0),I=u()(S,2),c=I[0],g=I[1],L=_||[],F=b||3,re=L.map(function(Q){return(0,B.u2)(Q)}),Se=function(me){return(0,l.jsx)("div",{style:{maxWidth:500},children:(0,l.jsx)(m.Z,{src:me.small||"",alt:""})})};return(0,w.G5)(re)?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{display:"none"},children:(0,l.jsx)(pe.Z.PreviewGroup,{preview:{current:Math.max(c||0,0),visible:c!=null,onVisibleChange:function(me,G,ge){g(me?ge:void 0)},onChange:function(me){c!=null&&g(me)}},children:re.map(function(Q,me){return(0,l.jsx)(pe.Z,{src:Q.large||"",alt:""},me)})})}),(0,l.jsx)("div",{style:{},children:(0,l.jsx)(V.C.Group,{maxCount:F,shape:"square",children:re.map(function(Q,me){return(0,l.jsx)(ee.Z,{title:"\u9884\u89C8",content:Se(Q),placement:"left",children:(0,l.jsx)(V.C,{style:{backgroundColor:"gray"},src:Q.small||"",size:"large",onClick:function(){g(me)}})},me)})})})]})}},96256:function(Ee,te,a){"use strict";var M=a(42122),u=a.n(M),pe=a(861),V=a.n(pe),ee=a(27424),k=a.n(ee),B=a(85980),w=a(34041),m=a(57381),l=a(67294),x=a(85893);te.Z=function(_){var b=_.onSearch,S=_.value,I=_.onChange,c=_.style,g=_.initItem,L=_.placeholder,F=_.props,re=(0,l.useState)(!1),Se=k()(re,2),Q=Se[0],me=Se[1],G=(0,l.useState)([]),ge=k()(G,2),it=ge[0],st=ge[1],_e=(0,B.Z)(function(ht){me(!0),b(ht).then(function(De){st(De||[])}).finally(function(){return me(!1)})},{wait:500});(0,l.useEffect)(function(){},[]);var bt=function(){var De=V()(it);return g&&!De.find(function(se){return se.value===g.value})&&De.push(g),De};return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(w.Z,u()({style:u()({minWidth:300},c),loading:Q,value:S,showSearch:!0,allowClear:!0,filterOption:!1,onSearch:function(De){_e.run(De)},onChange:function(De){var se=it.find(function(R){return R.value==De});I&&I(se)},onClear:function(){I&&I(void 0)},placeholder:L||"\u8F93\u5165\u5173\u952E\u8BCD",notFoundContent:Q&&(0,x.jsx)(m.Z,{size:"small"}),options:bt()},F))})}},64442:function(Ee,te,a){"use strict";var M=a(17061),u=a.n(M),pe=a(17156),V=a.n(pe),ee=a(96256),k=a(30967),B=a(42838),w=a(85893);te.Z=function(m){var l=m.selectedGoods,x=m.onChange,_=m.style,b=m.props,S=function(){var I=V()(u()().mark(function c(g){var L,F,re;return u()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!(0,B.Wq)(g)){Q.next=2;break}return Q.abrupt("return",[]);case 2:return Q.next=4,k.x1.mallAdmin.goodsQueryGoodsForSelection({Keyword:g,PageSize:20});case 4:return F=Q.sent,re=F==null||(L=F.data)===null||L===void 0||(L=L.Data)===null||L===void 0?void 0:L.map(function(me){return{label:me.Name||"--",value:me.Id||""}}),Q.abrupt("return",re||[]);case 7:case"end":return Q.stop()}},c)}));return function(g){return I.apply(this,arguments)}}();return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(ee.Z,{style:_,props:b,onSearch:function(){var I=V()(u()().mark(function c(g){return u()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,S(g);case 2:return F.abrupt("return",F.sent);case 3:case"end":return F.stop()}},c)}));return function(c){return I.apply(this,arguments)}}(),placeholder:"\u641C\u7D22\u5546\u54C1...",value:(l==null?void 0:l.Id)||void 0,initItem:l==null?void 0:{label:l.Name||"",value:l.Id||""},onChange:function(c){x&&x(c==null?void 0:{Id:c.value,Name:c.label})}})})}},48746:function(Ee,te,a){"use strict";var M=a(17061),u=a.n(M),pe=a(17156),V=a.n(pe),ee=a(96256),k=a(35291),B=a(30967),w=a(42838),m=a(85893);te.Z=function(l){var x=l.selectedSku,_=l.onChange,b=l.style,S=l.props,I=function(){var c=V()(u()().mark(function g(L){var F,re,Se;return u()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:if(!(0,w.Wq)(L)){me.next=2;break}return me.abrupt("return",[]);case 2:return me.next=4,B.x1.mallAdmin.skuQuerySkuForSelection({Keywords:L,Take:20});case 4:return re=me.sent,Se=re==null||(F=re.data)===null||F===void 0||(F=F.Data)===null||F===void 0?void 0:F.map(function(G){return{label:(0,k.CQ)(G)||"--",value:G.Id||"--"}}),me.abrupt("return",Se||[]);case 7:case"end":return me.stop()}},g)}));return function(L){return c.apply(this,arguments)}}();return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(ee.Z,{style:b,props:S,onSearch:function(){var c=V()(u()().mark(function g(L){return u()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,I(L);case 2:return re.abrupt("return",re.sent);case 3:case"end":return re.stop()}},g)}));return function(g){return c.apply(this,arguments)}}(),placeholder:"\u641C\u7D22\u5546\u54C1...",value:(x==null?void 0:x.Id)||void 0,initItem:x==null?void 0:{label:(0,k.CQ)(x)||"",value:x.Id||""},onChange:function(g){_&&_(g==null?void 0:{Id:g.value,Name:g.label})}})})}},60512:function(Ee,te,a){"use strict";var M=a(42122),u=a.n(M),pe=a(78957),V=a(25278),ee=a(35291),k=a(85893);te.Z=function(B){var w=B.link,m=B.onChange;return w?(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(pe.Z,{direction:"vertical",style:{width:"100%"},children:[(0,k.jsx)(V.Z,{placeholder:"wx.navigateTo(some-url-scheme)",addonBefore:"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F",value:w.WxMiniProgramUrl||"",onChange:function(x){var _=w;_=u()(u()({},_),{},{WxMiniProgramUrl:x.target.value}),_=(0,ee.WZ)(_),m(_)}}),(0,k.jsx)(V.Z,{addonBefore:"\u652F\u4ED8\u5B9D\u5C0F\u7A0B\u5E8F",value:w.AlipayMiniProgramUrl||"",onChange:function(x){var _=w;_=u()(u()({},_),{},{AlipayMiniProgramUrl:x.target.value}),_=(0,ee.WZ)(_),m(_)}}),(0,k.jsx)(V.Z,{addonBefore:"APP",value:w.AppUrl||"",onChange:function(x){var _=w;_=u()(u()({},_),{},{AppUrl:x.target.value}),_=(0,ee.WZ)(_),m(_)}}),(0,k.jsx)(V.Z,{addonBefore:"H5",value:w.H5Url||"",onChange:function(x){var _=w;_=u()(u()({},_),{},{H5Url:x.target.value}),_=(0,ee.WZ)(_),m(_)}})]})}):null}},88208:function(Ee,te,a){"use strict";var M=a(68421),u=a(34041),pe=a(67294),V=a(30967),ee=a(42838),k=a(85893);te.Z=function(B){var w,m=B.value,l=B.onChange,x=(0,M.Z)(V.x1.mallAdmin.brandListBrand,{manual:!0}),_=((w=x.data)===null||w===void 0||(w=w.data)===null||w===void 0?void 0:w.Data)||[];return(0,pe.useEffect)(function(){x.run({})},[]),(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(u.Z,{loading:x.loading,value:m||void 0,onChange:function(S){l&&l(_.find(function(I){return I.Id==S}))},placeholder:"\u8F93\u5165\u62FC\u97F3\u7F29\u5199\u53EF\u4EE5\u641C\u7D22...",allowClear:!0,showSearch:!0,filterOption:function(S,I){var c=I==null?void 0:I.label;return(0,ee.Wq)(S)||(0,ee.Wq)(c)?!1:c.toLowerCase().indexOf(S.toLowerCase())>=0},options:_.map(function(b,S){return{label:"".concat(b.Name,"-").concat((0,ee.Te)(b.Name||"")||"N/A"),value:b.Id||"",key:S}})})})}},6526:function(Ee,te,a){"use strict";var M=a(861),u=a.n(M),pe=a(68421),V=a(39019),ee=a(67294),k=a(35291),B=a(30967),w=a(42838),m=a(85893);te.Z=function(l){var x,_=l.value,b=l.onChange,S=(0,pe.Z)(B.x1.mallAdmin.categoryQueryAntdTree,{manual:!0}),I=((x=S.data)===null||x===void 0||(x=x.data)===null||x===void 0?void 0:x.Data)||[],c=I.flatMap(function(F){return(0,k.iL)(F)}),g=u()(new Set(c.map(function(F){return F.key||""}))),L=I.map(function(F){return(0,k.Sc)(F,function(re){return"".concat(re.title,"-").concat((0,w.Te)(re.title||"")||"N/A")})});return(0,ee.useEffect)(function(){S.run({})},[]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(V.Z,{loading:S.loading,value:_,onChange:function(re){var Se;b&&b((Se=c.find(function(Q){return Q.key==re}))===null||Se===void 0?void 0:Se.raw_data)},placeholder:"\u8F93\u5165\u62FC\u97F3\u7F29\u5199\u53EF\u4EE5\u641C\u7D22...",treeData:L,treeExpandedKeys:g,treeDefaultExpandAll:!0,allowClear:!0,showSearch:!0,treeNodeFilterProp:"label",filterTreeNode:void 0})})}},9417:function(Ee,te,a){"use strict";a.d(te,{Z:function(){return Be}});var M=a(17061),u=a.n(M),pe=a(17156),V=a.n(pe),ee=a(42122),k=a.n(ee),B=a(27424),w=a.n(B),m=a(45360),l=a(67294),x=a(32096),_=a(87462),b=a(97326),S=a(89611);function I(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,(0,S.Z)(i,o)}var c,g=new Uint8Array(16);function L(){if(!c&&(c=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(g)}var F=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function re(i){return typeof i=="string"&&F.test(i)}for(var Se=re,Q=[],me=0;me<256;++me)Q.push((me+256).toString(16).substr(1));function G(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Q[i[o+0]]+Q[i[o+1]]+Q[i[o+2]]+Q[i[o+3]]+"-"+Q[i[o+4]]+Q[i[o+5]]+"-"+Q[i[o+6]]+Q[i[o+7]]+"-"+Q[i[o+8]]+Q[i[o+9]]+"-"+Q[i[o+10]]+Q[i[o+11]]+Q[i[o+12]]+Q[i[o+13]]+Q[i[o+14]]+Q[i[o+15]]).toLowerCase();if(!Se(n))throw TypeError("Stringified UUID is invalid");return n}var ge=G;function it(i,o,n){i=i||{};var r=i.random||(i.rng||L)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,o){n=n||0;for(var t=0;t<16;++t)o[n+t]=r[t];return o}return ge(r)}var st=it;function _e(i){return l.createElement("i",{className:"rmel-iconfont rmel-icon-"+i.type})}function bt(i){return l.createElement("div",{className:"rc-md-navigation "+(i.visible?"visible":"in-visible")},l.createElement("div",{className:"navigation-nav left"},l.createElement("div",{className:"button-wrap"},i.left)),l.createElement("div",{className:"navigation-nav right"},l.createElement("div",{className:"button-wrap"},i.right)))}function ht(i){return l.createElement("div",{className:"tool-bar",style:i.style},i.children)}var De=a(26729),se=function(i){I(o,i);function o(){for(var n,r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];return n=i.call.apply(i,[this].concat(t))||this,n.EVENT_CHANGE="a1",n.EVENT_FULL_SCREEN="a2",n.EVENT_VIEW_CHANGE="a3",n.EVENT_KEY_DOWN="a4",n.EVENT_EDITOR_KEY_DOWN="a5",n.EVENT_FOCUS="a5",n.EVENT_BLUR="a6",n.EVENT_SCROLL="a7",n.EVENT_LANG_CHANGE="b1",n}return o}(De.EventEmitter),R=new se,Te=se,v={clearTip:"Are you sure you want to clear all contents?",btnHeader:"Header",btnClear:"Clear",btnBold:"Bold",btnItalic:"Italic",btnUnderline:"Underline",btnStrikethrough:"Strikethrough",btnUnordered:"Unordered list",btnOrdered:"Ordered list",btnQuote:"Quote",btnLineBreak:"Line break",btnInlineCode:"Inline code",btnCode:"Code",btnTable:"Table",btnImage:"Image",btnLink:"Link",btnUndo:"Undo",btnRedo:"Redo",btnFullScreen:"Full screen",btnExitFullScreen:"Exit full screen",btnModeEditor:"Only display editor",btnModePreview:"Only display preview",btnModeAll:"Display both editor and preview",selectTabMap:"Actual input when typing a Tab key",tab:"Tab",spaces:"Spaces"},nt={clearTip:"\u60A8\u786E\u5B9A\u8981\u6E05\u7A7A\u6240\u6709\u5185\u5BB9\u5417\uFF1F",btnHeader:"\u6807\u9898",btnClear:"\u6E05\u7A7A",btnBold:"\u52A0\u7C97",btnItalic:"\u659C\u4F53",btnUnderline:"\u4E0B\u5212\u7EBF",btnStrikethrough:"\u5220\u9664\u7EBF",btnUnordered:"\u65E0\u5E8F\u5217\u8868",btnOrdered:"\u6709\u5E8F\u5217\u8868",btnQuote:"\u5F15\u7528",btnLineBreak:"\u6362\u884C",btnInlineCode:"\u884C\u5185\u4EE3\u7801",btnCode:"\u4EE3\u7801\u5757",btnTable:"\u8868\u683C",btnImage:"\u56FE\u7247",btnLink:"\u94FE\u63A5",btnUndo:"\u64A4\u9500",btnRedo:"\u91CD\u505A",btnFullScreen:"\u5168\u5C4F",btnExitFullScreen:"\u9000\u51FA\u5168\u5C4F",btnModeEditor:"\u4EC5\u663E\u793A\u7F16\u8F91\u5668",btnModePreview:"\u4EC5\u663E\u793A\u9884\u89C8",btnModeAll:"\u663E\u793A\u7F16\u8F91\u5668\u4E0E\u9884\u89C8",selectTabMap:"\u6309\u4E0B Tab \u952E\u65F6\u5B9E\u9645\u7684\u8F93\u5165",tab:"\u5236\u8868\u7B26",spaces:"\u7A7A\u683C"},U=function(){function i(){this.langs={enUS:v,zhCN:nt},this.current="enUS",this.setUp()}var o=i.prototype;return o.setUp=function(){if(typeof window!="undefined"){var r="enUS";if(navigator.language){var t=navigator.language.split("-");r=t[0],t.length!==1&&(r+=t[t.length-1].toUpperCase())}if(navigator.browserLanguage){var s=navigator.browserLanguage.split("-");r=s[0],s[1]&&(r+=s[1].toUpperCase())}this.current!==r&&this.isAvailable(r)&&(this.current=r,R.emit(R.EVENT_LANG_CHANGE,this,r,this.langs[r]))}},o.isAvailable=function(r){return typeof this.langs[r]!="undefined"},o.add=function(r,t){this.langs[r]=t},o.setCurrent=function(r){if(!this.isAvailable(r))throw new Error("Language "+r+" is not exists");this.current!==r&&(this.current=r,R.emit(R.EVENT_LANG_CHANGE,this,r,this.langs[r]))},o.get=function(r,t){var s=this.langs[this.current][r]||"";return t&&Object.keys(t).forEach(function(d){s=s.replace(new RegExp("\\{"+d+"\\}","g"),t[d])}),s},o.getCurrent=function(){return this.current},i}(),C=new U,h=C,p=a(43144),T=function(i){I(o,i);function o(){return i.apply(this,arguments)||this}var n=o.prototype;return n.getConfig=function(t,s){return typeof this.props.config[t]!="undefined"&&this.props.config[t]!==null?this.props.config[t]:s},(0,p.Z)(o,[{key:"editor",get:function(){return this.props.editor}},{key:"editorConfig",get:function(){return this.props.editorConfig}}]),o}(l.Component);T.pluginName="",T.align="left",T.defaultConfig={};var e=function(i){I(o,i);function o(){return i.apply(this,arguments)||this}var n=o.prototype;return n.render=function(){return l.createElement("span",{className:"rc-md-divider"})},o}(T);e.pluginName="divider";var Pe={start:0,end:0,text:""};function be(i,o){var n=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(n)return(n=n.call(i)).next.bind(n);if(Array.isArray(i)||(n=Ce(i))||o&&i&&typeof i.length=="number"){n&&(i=n);var r=0;return function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ce(i,o){if(i){if(typeof i=="string")return xe(i,o);var n=Object.prototype.toString.call(i).slice(8,-1);if(n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set")return Array.from(i);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(i,o)}}function xe(i,o){(o==null||o>i.length)&&(o=i.length);for(var n=0,r=new Array(o);n<o;n++)r[n]=i[n];return r}function Ze(i){if(!i||typeof i!="object")return i;var o=Array.isArray(i)?[]:{};if(i&&typeof i=="object")for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(i[n]&&typeof i[n]=="object"?o[n]=Ze(i[n]):o[n]=i[n]);return o}function Me(i){return typeof i=="undefined"||i===null||i===""}function We(i){return i&&(i instanceof Promise||(typeof i=="object"||typeof i=="function")&&typeof i.then=="function")}function Oe(i,o){for(var n="",r=o;r--;)n+=i;return n}function ue(i,o){var n=o.withKey,r=o.keyCode,t=o.key,s=o.aliasCommand,d={ctrlKey:i.ctrlKey,metaKey:i.metaKey,altKey:i.altKey,shiftKey:i.shiftKey,keyCode:i.keyCode,key:i.key};if(s&&(d.ctrlKey=d.ctrlKey||d.metaKey),n&&n.length>0)for(var D=be(n),H;!(H=D()).done;){var ve=H.value;if(typeof d[ve]!="undefined"&&!d[ve])return!1}else if(d.metaKey||d.ctrlKey||d.shiftKey||d.altKey)return!1;return d.key?d.key===t:d.keyCode===r}function ze(i,o){var n=i.split(`
`),r=i.substr(0,o).split(`
`),t=r.length,s=r[r.length-1].length,d=n[r.length-1],D=r.length>1?r[r.length-2]:null,H=n.length>r.length?n[r.length]:null;return{line:t,col:s,beforeText:i.substr(0,o),afterText:i.substr(o),curLine:d,prevLine:D,nextLine:H}}for(var je={bold:["**","**"],italic:["*","*"],underline:["++","++"],strikethrough:["~~","~~"],quote:[`
> `,`
`],inlinecode:["`","`"],code:["\n```\n","\n```\n"]},ut=1;ut<=6;ut++)je["h"+ut]=[`
`+Oe("#",ut)+" ",`
`];function Xe(i){for(var o=i.row,n=o===void 0?2:o,r=i.col,t=r===void 0?2:r,s=["|"],d=["|"],D=["|"],H="",ve=1;ve<=t;ve++)s.push(" Head |"),D.push(" --- |"),d.push(" Data |");for(var le=1;le<=n;le++)H+=`
`+d.join("");return s.join("")+`
`+D.join("")+H}function Ie(i,o){var n=o;if(n.substr(0,1)!==`
`&&(n=`
`+n),i==="unordered")return n.length>1?n.replace(/\n/g,`
* `).trim():"* ";var r=1;return n.length>1?n.replace(/\n/g,function(){return`
`+r+++". "}).trim():"1. "}function dt(i,o){return{text:i,newBlock:o,selection:{start:i.length,end:i.length}}}function ot(i,o,n){if(typeof je[o]!="undefined")return{text:""+je[o][0]+i+je[o][1],selection:{start:je[o][0].length,end:je[o][0].length+i.length}};switch(o){case"tab":var r=n.tabMapValue===1?"	":" ".repeat(n.tabMapValue),t=r+i.replace(/\n/g,`
`+r),s=i.includes(`
`)?i.match(/\n/g).length:0;return{text:t,selection:{start:n.tabMapValue,end:n.tabMapValue*(s+1)+i.length}};case"unordered":return dt(Ie("unordered",i),!0);case"order":return dt(Ie("order",i),!0);case"hr":return dt("---",!0);case"table":return{text:Xe(n),newBlock:!0};case"image":return{text:"!["+(i||n.target)+"]("+(n.imageUrl||"")+")",selection:{start:2,end:i.length+2}};case"link":return{text:"["+i+"]("+(n.linkUrl||"")+")",selection:{start:1,end:i.length+1}}}return{text:i,selection:{start:0,end:i.length}}}var ke=ot;function lt(i,o){var n={};return Object.keys(i).forEach(function(r){if(typeof o[r]=="undefined"){n[r]=i[r];return}if(typeof o[r]=="object"){Array.isArray(o[r])?n[r]=[].concat(o[r]):n[r]=lt(i[r],o[r]);return}n[r]=o[r]}),n}function Le(i){for(var o=(0,_.Z)({},i),n=arguments.length,r=new Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return r.forEach(function(s){typeof s=="object"&&(o=lt(o,s))}),o}function Ne(i,o){var n=ke("","image",{target:"Uploading_"+st(),imageUrl:""}).text,r=new Promise(function(t){var s=!0,d=function(ve){s&&console.warn("Deprecated: onImageUpload should return a Promise, callback will be removed in future"),t(ke("","image",{target:i.name,imageUrl:ve}).text)},D=o(i,d);We(D)&&(s=!1,D.then(d))});return{placeholder:n,uploaded:r}}var xt=Ne,ft={theme:"default",view:{menu:!0,md:!0,html:!0},canView:{menu:!0,md:!0,html:!0,both:!0,fullScreen:!0,hideMenu:!0},htmlClass:"",markdownClass:"",syncScrollMode:["rightFollowLeft","leftFollowRight"],imageUrl:"",imageAccept:"",linkUrl:"",loggerMaxSize:100,loggerInterval:600,table:{maxRow:4,maxCol:6},allowPasteImage:!0,onImageUpload:void 0,onCustomImageUpload:void 0,shortcuts:!0,onChangeTrigger:"both"},qe=ft,Et=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.el=l.createRef(),t}var n=o.prototype;return n.getElement=function(){return this.el.current},n.getHeight=function(){return this.el.current?this.el.current.offsetHeight:0},o}(l.Component),$e=function(i){I(o,i);function o(){return i.apply(this,arguments)||this}var n=o.prototype;return n.getHtml=function(){return typeof this.props.html=="string"?this.props.html:this.el.current?this.el.current.innerHTML:""},n.render=function(){return typeof this.props.html=="string"?l.createElement("div",{ref:this.el,dangerouslySetInnerHTML:{__html:this.props.html},className:this.props.className||"custom-html-style"}):l.createElement("div",{ref:this.el,className:this.props.className||"custom-html-style"},this.props.html)},o}(Et),et=null;function Fe(i,o){var n=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(n)return(n=n.call(i)).next.bind(n);if(Array.isArray(i)||(n=rt(i))||o&&i&&typeof i.length=="number"){n&&(i=n);var r=0;return function(){return r>=i.length?{done:!0}:{done:!1,value:i[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rt(i,o){if(i){if(typeof i=="string")return we(i,o);var n=Object.prototype.toString.call(i).slice(8,-1);if(n==="Object"&&i.constructor&&(n=i.constructor.name),n==="Map"||n==="Set")return Array.from(i);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return we(i,o)}}function we(i,o){(o==null||o>i.length)&&(o=i.length);for(var n=0,r=new Array(o);n<o;n++)r[n]=i[n];return r}var tt=function(i){I(o,i),o.use=function(t,s){s===void 0&&(s={});for(var d=0;d<o.plugins.length;d++)if(o.plugins[d].comp===t){o.plugins.splice(d,1,{comp:t,config:s});return}o.plugins.push({comp:t,config:s})},o.unuse=function(t){for(var s=0;s<o.plugins.length;s++)if(o.plugins[s].comp===t){o.plugins.splice(s,1);return}},o.unuseAll=function(){o.plugins=[]};function o(r){var t;return t=i.call(this,r)||this,t.nodeMdText=l.createRef(),t.nodeMdPreview=l.createRef(),t.nodeMdPreviewWrapper=l.createRef(),t.hasContentChanged=!0,t.composing=!1,t.pluginApis=new Map,t.scrollScale=1,t.isSyncingScroll=!1,t.shouldSyncScroll="md",t.keyboardListeners=[],t.emitter=new Te,t.config=Le(qe,t.props.config,t.props),t.state={text:(t.props.value||t.props.defaultValue||"").replace(/↵/g,`
`),html:"",view:t.config.view||qe.view,fullScreen:!1,plugins:t.getPlugins()},t.config.canView&&!t.config.canView.menu&&(t.state.view.menu=!1),t.nodeMdText=l.createRef(),t.nodeMdPreviewWrapper=l.createRef(),t.handleChange=t.handleChange.bind((0,b.Z)(t)),t.handlePaste=t.handlePaste.bind((0,b.Z)(t)),t.handleDrop=t.handleDrop.bind((0,b.Z)(t)),t.handleToggleMenu=t.handleToggleMenu.bind((0,b.Z)(t)),t.handleKeyDown=t.handleKeyDown.bind((0,b.Z)(t)),t.handleEditorKeyDown=t.handleEditorKeyDown.bind((0,b.Z)(t)),t.handleLocaleUpdate=t.handleLocaleUpdate.bind((0,b.Z)(t)),t.handleFocus=t.handleFocus.bind((0,b.Z)(t)),t.handleBlur=t.handleBlur.bind((0,b.Z)(t)),t.handleInputScroll=t.handleSyncScroll.bind((0,b.Z)(t),"md"),t.handlePreviewScroll=t.handleSyncScroll.bind((0,b.Z)(t),"html"),t}var n=o.prototype;return n.componentDidMount=function(){var t=this.state.text;this.renderHTML(t),R.on(R.EVENT_LANG_CHANGE,this.handleLocaleUpdate),h.setUp()},n.componentWillUnmount=function(){R.off(R.EVENT_LANG_CHANGE,this.handleLocaleUpdate)},n.componentDidUpdate=function(t){if(typeof this.props.value!="undefined"&&this.props.value!==this.state.text){var s=this.props.value;typeof s!="string"&&(s=String(s).toString()),s=s.replace(/↵/g,`
`),this.state.text!==s&&(this.setState({text:s}),this.renderHTML(s))}t.plugins!==this.props.plugins&&this.setState({plugins:this.getPlugins()})},n.isComposing=function(){return this.composing},n.getPlugins=function(){var t=this,s=[];if(this.props.plugins)for(var d=function(Je){if(Je===e.pluginName){s.push({comp:e,config:{}});return}for(var yt=Fe(o.plugins),Ve;!(Ve=yt()).done;){var vt=Ve.value;if(vt.comp.pluginName===Je){s.push(vt);return}}},D=Fe(this.props.plugins),H;!(H=D()).done;){var ve=H.value;ve==="fonts"?(d("font-bold"),d("font-italic"),d("font-underline"),d("font-strikethrough"),d("list-unordered"),d("list-ordered"),d("block-quote"),d("block-wrap"),d("block-code-inline"),d("block-code-block")):d(ve)}else s=[].concat(o.plugins);var le={};return s.forEach(function(ye){typeof le[ye.comp.align]=="undefined"&&(le[ye.comp.align]=[]);var Je=ye.comp.pluginName==="divider"?st():ye.comp.pluginName;le[ye.comp.align].push(l.createElement(ye.comp,{editor:t,editorConfig:t.config,config:(0,_.Z)({},ye.comp.defaultConfig||{},ye.config||{}),key:Je}))}),le},n.handleSyncScroll=function(t,s){var d=this;if(t===this.shouldSyncScroll){this.props.onScroll&&this.props.onScroll(s,t),this.emitter.emit(this.emitter.EVENT_SCROLL,s,t);var D=this.config.syncScrollMode,H=D===void 0?[]:D;H.includes(t==="md"?"rightFollowLeft":"leftFollowRight")&&(this.hasContentChanged&&this.nodeMdText.current&&this.nodeMdPreviewWrapper.current&&(this.scrollScale=this.nodeMdText.current.scrollHeight/this.nodeMdPreviewWrapper.current.scrollHeight,this.hasContentChanged=!1),this.isSyncingScroll||(this.isSyncingScroll=!0,requestAnimationFrame(function(){d.nodeMdText.current&&d.nodeMdPreviewWrapper.current&&(t==="md"?d.nodeMdPreviewWrapper.current.scrollTop=d.nodeMdText.current.scrollTop/d.scrollScale:d.nodeMdText.current.scrollTop=d.nodeMdPreviewWrapper.current.scrollTop*d.scrollScale),d.isSyncingScroll=!1})))}},n.renderHTML=function(t){var s=this;if(!this.props.renderHTML)return console.error("renderHTML props is required!"),Promise.resolve();var d=this.props.renderHTML(t);return We(d)?d.then(function(D){return s.setHtml(D)}):typeof d=="function"?this.setHtml(d()):this.setHtml(d)},n.setHtml=function(t){var s=this;return new Promise(function(d){s.setState({html:t},d)})},n.handleToggleMenu=function(){this.setView({menu:!this.state.view.menu})},n.handleFocus=function(t){var s=this.props.onFocus;s&&s(t),this.emitter.emit(this.emitter.EVENT_FOCUS,t)},n.handleBlur=function(t){var s=this.props.onBlur;s&&s(t),this.emitter.emit(this.emitter.EVENT_BLUR,t)},n.handleChange=function(t){t.persist();var s=t.target.value;this.setText(s,t)},n.handlePaste=function(t){if(!(!this.config.allowPasteImage||!this.config.onImageUpload)){var s=t.nativeEvent,d=(s.clipboardData||window.clipboardData).items;d&&(t.preventDefault(),this.uploadWithDataTransfer(d))}},n.handleDrop=function(t){if(this.config.onImageUpload){var s=t.nativeEvent;if(s.dataTransfer){var d=s.dataTransfer.items;d&&(t.preventDefault(),this.uploadWithDataTransfer(d))}}},n.handleEditorKeyDown=function(t){var s=this,d=t.keyCode,D=t.key,H=t.currentTarget;if((d===13||D==="Enter")&&this.composing===!1){var ve=H.value,le=H.selectionStart,ye=ze(ve,le),Je=function(){var Zt=H.value.substr(0,le-ye.curLine.length)+H.value.substr(le);s.setText(Zt,void 0,{start:le-ye.curLine.length,end:le-ye.curLine.length}),t.preventDefault()},yt=function(Zt){s.insertText(`
`+Zt,!1,{start:Zt.length+1,end:Zt.length+1}),t.preventDefault()},Ve=ye.curLine.match(/^(\s*?)\* /);if(Ve){if(/^(\s*?)\* $/.test(ye.curLine)){Je();return}yt(Ve[0]);return}var vt=ye.curLine.match(/^(\s*?)(\d+)\. /);if(vt){if(/^(\s*?)(\d+)\. $/.test(ye.curLine)){Je();return}var At=""+vt[1]+(parseInt(vt[2],10)+1)+". ";yt(At);return}}this.emitter.emit(this.emitter.EVENT_EDITOR_KEY_DOWN,t)},n.handleLocaleUpdate=function(){this.forceUpdate()},n.getMdElement=function(){return this.nodeMdText.current},n.getHtmlElement=function(){return this.nodeMdPreviewWrapper.current},n.clearSelection=function(){this.nodeMdText.current&&this.nodeMdText.current.setSelectionRange(0,0,"none")},n.getSelection=function(){var t=this.nodeMdText.current;if(!t)return(0,_.Z)({},Pe);var s=t.selectionStart,d=t.selectionEnd,D=(t.value||"").slice(s,d);return{start:s,end:d,text:D}},n.setSelection=function(t){this.nodeMdText.current&&(this.nodeMdText.current.setSelectionRange(t.start,t.end,"forward"),this.nodeMdText.current.focus())},n.insertMarkdown=function(t,s){s===void 0&&(s={});var d=this.getSelection(),D=s?(0,_.Z)({},s):{};if(t==="image"&&(D=(0,_.Z)({},D,{target:s.target||d.text||"",imageUrl:s.imageUrl||this.config.imageUrl})),t==="link"&&(D=(0,_.Z)({},D,{linkUrl:this.config.linkUrl})),t==="tab"&&d.start!==d.end){var H=this.getMdValue().slice(0,d.start).lastIndexOf(`
`)+1;this.setSelection({start:H,end:d.end})}var ve=ke(d.text,t,D),le=ve.text,ye=ve.selection;if(ve.newBlock){var Je=ze(this.getMdValue(),d.start),yt=Je.col,Ve=Je.curLine;yt>0&&Ve.length>0&&(le=`
`+le,ye&&(ye.start++,ye.end++));var vt=Je.afterText;d.start!==d.end&&(vt=ze(this.getMdValue(),d.end).afterText),vt.trim()!==""&&vt.substr(0,2)!==`

`&&(vt.substr(0,1)!==`
`&&(le+=`
`),le+=`
`)}this.insertText(le,!0,ye)},n.insertPlaceholder=function(t,s){var d=this;this.insertText(t,!0),s.then(function(D){var H=d.getMdValue().replace(t,D);d.setText(H)})},n.insertText=function(t,s,d){t===void 0&&(t=""),s===void 0&&(s=!1);var D=this.state.text,H=this.getSelection(),ve=D.slice(0,H.start),le=D.slice(s?H.end:H.start,D.length);this.setText(ve+t+le,void 0,d?{start:d.start+ve.length,end:d.end+ve.length}:{start:H.start,end:H.start})},n.setText=function(t,s,d){var D=this;t===void 0&&(t="");var H=this.config.onChangeTrigger,ve=H===void 0?"both":H,le=t.replace(/↵/g,`
`);if(this.state.text!==t){this.setState({text:le}),this.props.onChange&&(ve==="both"||ve==="beforeRender")&&this.props.onChange({text:le,html:this.getHtmlValue()},s),this.emitter.emit(this.emitter.EVENT_CHANGE,t,s,typeof s=="undefined"),d&&setTimeout(function(){return D.setSelection(d)}),this.hasContentChanged||(this.hasContentChanged=!0);var ye=this.renderHTML(le);(ve==="both"||ve==="afterRender")&&ye.then(function(){D.props.onChange&&D.props.onChange({text:D.state.text,html:D.getHtmlValue()},s)})}},n.getMdValue=function(){return this.state.text},n.getHtmlValue=function(){return typeof this.state.html=="string"?this.state.html:this.nodeMdPreview.current?this.nodeMdPreview.current.getHtml():""},n.onKeyboard=function(t){var s=this;if(Array.isArray(t)){t.forEach(function(d){return s.onKeyboard(d)});return}this.keyboardListeners.includes(t)||this.keyboardListeners.push(t)},n.offKeyboard=function(t){var s=this;if(Array.isArray(t)){t.forEach(function(D){return s.offKeyboard(D)});return}var d=this.keyboardListeners.indexOf(t);d>=0&&this.keyboardListeners.splice(d,1)},n.handleKeyDown=function(t){for(var s=Fe(this.keyboardListeners),d;!(d=s()).done;){var D=d.value;if(ue(t,D)){t.preventDefault(),D.callback(t);return}}this.emitter.emit(this.emitter.EVENT_KEY_DOWN,t)},n.getEventType=function(t){switch(t){case"change":return this.emitter.EVENT_CHANGE;case"fullscreen":return this.emitter.EVENT_FULL_SCREEN;case"viewchange":return this.emitter.EVENT_VIEW_CHANGE;case"keydown":return this.emitter.EVENT_KEY_DOWN;case"editor_keydown":return this.emitter.EVENT_EDITOR_KEY_DOWN;case"blur":return this.emitter.EVENT_BLUR;case"focus":return this.emitter.EVENT_FOCUS;case"scroll":return this.emitter.EVENT_SCROLL}},n.on=function(t,s){var d=this.getEventType(t);d&&this.emitter.on(d,s)},n.off=function(t,s){var d=this.getEventType(t);d&&this.emitter.off(d,s)},n.setView=function(t){var s=this,d=(0,_.Z)({},this.state.view,t);this.setState({view:d},function(){s.emitter.emit(s.emitter.EVENT_VIEW_CHANGE,d)})},n.getView=function(){return(0,_.Z)({},this.state.view)},n.fullScreen=function(t){var s=this;this.state.fullScreen!==t&&this.setState({fullScreen:t},function(){s.emitter.emit(s.emitter.EVENT_FULL_SCREEN,t)})},n.registerPluginApi=function(t,s){this.pluginApis.set(t,s)},n.unregisterPluginApi=function(t){this.pluginApis.delete(t)},n.callPluginApi=function(t){var s=this.pluginApis.get(t);if(!s)throw new Error("API "+t+" not found");for(var d=arguments.length,D=new Array(d>1?d-1:0),H=1;H<d;H++)D[H-1]=arguments[H];return s.apply(void 0,D)},n.isFullScreen=function(){return this.state.fullScreen},n.uploadWithDataTransfer=function(t){var s=this,d=this.config.onImageUpload;if(d){var D=[];Array.prototype.forEach.call(t,function(H){if(H.kind==="file"&&H.type.includes("image")){var ve=H.getAsFile();if(ve){var le=xt(ve,d);D.push(Promise.resolve(le.placeholder)),le.uploaded.then(function(ye){var Je=s.getMdValue().replace(le.placeholder,ye),yt=ye.length-le.placeholder.length,Ve=s.getSelection();s.setText(Je,void 0,{start:Ve.start+yt,end:Ve.start+yt})})}}else H.kind==="string"&&H.type==="text/plain"&&D.push(new Promise(function(ye){return H.getAsString(ye)}))}),Promise.all(D).then(function(H){var ve=H.join(""),le=s.getSelection();s.insertText(ve,!0,{start:le.start===le.end?ve.length:0,end:ve.length})})}},n.render=function(){var t=this,s=this.state,d=s.view,D=s.fullScreen,H=s.text,ve=s.html,le=this.props,ye=le.id,Je=le.className,yt=Je===void 0?"":Je,Ve=le.style,vt=le.name,At=vt===void 0?"textarea":vt,Tt=le.autoFocus,Zt=le.placeholder,Nt=le.readOnly,Kt=this.config.canView&&this.config.canView.hideMenu&&!this.config.canView.menu,Bt=function(Vt){return t.state.plugins[Vt]||[]},Ot=!!d.menu,Ht=ye?ye+"_md":void 0,Gt=ye?ye+"_html":void 0;return l.createElement("div",{id:ye,className:"rc-md-editor "+(D?"full":"")+" "+yt,style:Ve,onKeyDown:this.handleKeyDown,onDrop:this.handleDrop},l.createElement(bt,{visible:Ot,left:Bt("left"),right:Bt("right")}),l.createElement("div",{className:"editor-container"},Kt&&l.createElement(ht,null,l.createElement("span",{className:"button button-type-menu",title:Ot?"hidden menu":"show menu",onClick:this.handleToggleMenu},l.createElement(_e,{type:"expand-"+(Ot?"less":"more")}))),l.createElement("section",{className:"section sec-md "+(d.md?"visible":"in-visible")},l.createElement("textarea",{id:Ht,ref:this.nodeMdText,name:At,autoFocus:Tt,placeholder:Zt,readOnly:Nt,value:H,className:"section-container input "+(this.config.markdownClass||""),wrap:"hard",onChange:this.handleChange,onScroll:this.handleInputScroll,onMouseOver:function(){return t.shouldSyncScroll="md"},onKeyDown:this.handleEditorKeyDown,onCompositionStart:function(){return t.composing=!0},onCompositionEnd:function(){return t.composing=!1},onPaste:this.handlePaste,onFocus:this.handleFocus,onBlur:this.handleBlur})),l.createElement("section",{className:"section sec-html "+(d.html?"visible":"in-visible")},l.createElement("div",{id:Gt,className:"section-container html-wrap",ref:this.nodeMdPreviewWrapper,onMouseOver:function(){return t.shouldSyncScroll="html"},onScroll:this.handlePreviewScroll},l.createElement($e,{html:ve,className:this.config.htmlClass,ref:this.nodeMdPreview})))))},o}(l.Component);tt.plugins=[],tt.addLocale=h.add.bind(h),tt.useLocale=h.setCurrent.bind(h),tt.getLocale=h.getCurrent.bind(h);var Ae=tt,Ke=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.timer=null,t.useTimer=t.getConfig("useTimer")||typeof requestAnimationFrame=="undefined",t.handleChange=t.handleChange.bind((0,b.Z)(t)),t.doResize=t.doResize.bind((0,b.Z)(t)),t}var n=o.prototype;return n.doResize=function(){var t=this,s=function(ye){ye.style.height="auto";var Je=Math.min(Math.max(t.getConfig("min"),ye.scrollHeight),t.getConfig("max"));return ye.style.height=Je+"px",Je};this.timer=null;var d=this.editor.getView(),D=this.editor.getMdElement(),H=this.editor.getHtmlElement();if(D&&d.md){var ve=s(D);H&&(H.style.height=ve+"px");return}H&&d.html&&s(H)},n.handleChange=function(){if(this.timer===null){if(this.useTimer){this.timer=window.setTimeout(this.doResize);return}this.timer=requestAnimationFrame(this.doResize)}},n.componentDidMount=function(){this.editor.on("change",this.handleChange),this.editor.on("viewchange",this.handleChange),this.handleChange()},n.componentWillUnmount=function(){this.editor.off("change",this.handleChange),this.editor.off("viewchange",this.handleChange),this.timer!==null&&this.useTimer&&(window.clearTimeout(this.timer),this.timer=null)},n.render=function(){return l.createElement("span",null)},o}(T);Ke.pluginName="auto-resize",Ke.align="left",Ke.defaultConfig={min:200,max:1/0,useTimer:!1};var He=function(i){I(o,i);function o(){return i.apply(this,arguments)||this}var n=o.prototype;return n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-code-block",title:h.get("btnCode"),onClick:function(){return t.editor.insertMarkdown("code")}},l.createElement(_e,{type:"code-block"}))},o}(T);He.pluginName="block-code-block";var Re=function(i){I(o,i);function o(){return i.apply(this,arguments)||this}var n=o.prototype;return n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-code-inline",title:h.get("btnInlineCode"),onClick:function(){return t.editor.insertMarkdown("inlinecode")}},l.createElement(_e,{type:"code"}))},o}(T);Re.pluginName="block-code-inline";var ct=function(i){I(o,i);function o(){return i.apply(this,arguments)||this}var n=o.prototype;return n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-quote",title:h.get("btnQuote"),onClick:function(){return t.editor.insertMarkdown("quote")}},l.createElement(_e,{type:"quote"}))},o}(T);ct.pluginName="block-quote";var pt=function(i){I(o,i);function o(){return i.apply(this,arguments)||this}var n=o.prototype;return n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-wrap",title:h.get("btnLineBreak"),onClick:function(){return t.editor.insertMarkdown("hr")}},l.createElement(_e,{type:"wrap"}))},o}(T);pt.pluginName="block-wrap";var Ct=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleClick=t.handleClick.bind((0,b.Z)(t)),t}var n=o.prototype;return n.handleClick=function(){if(this.editor.getMdValue()!==""&&window.confirm&&typeof window.confirm=="function"){var t=window.confirm(h.get("clearTip"));t&&this.editor.setText("")}},n.render=function(){return l.createElement("span",{className:"button button-type-clear",title:h.get("btnClear"),onClick:this.handleClick},l.createElement(_e,{type:"delete"}))},o}(T);Ct.pluginName="clear";var mt=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleKeyboard={key:"b",keyCode:66,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return t.editor.insertMarkdown("bold")}},t}var n=o.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-bold",title:h.get("btnBold"),onClick:function(){return t.editor.insertMarkdown("bold")}},l.createElement(_e,{type:"bold"}))},o}(T);mt.pluginName="font-bold";var _t=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleKeyboard={key:"i",keyCode:73,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return t.editor.insertMarkdown("italic")}},t}var n=o.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-italic",title:h.get("btnItalic"),onClick:function(){return t.editor.insertMarkdown("italic")}},l.createElement(_e,{type:"italic"}))},o}(T);_t.pluginName="font-italic";var St=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleKeyboard={key:"d",keyCode:68,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return t.editor.insertMarkdown("strikethrough")}},t}var n=o.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-strikethrough",title:h.get("btnStrikethrough"),onClick:function(){return t.editor.insertMarkdown("strikethrough")}},l.createElement(_e,{type:"strikethrough"}))},o}(T);St.pluginName="font-strikethrough";var It=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleKeyboard={key:"u",keyCode:85,withKey:["ctrlKey"],callback:function(){return t.editor.insertMarkdown("underline")}},t}var n=o.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-underline",title:h.get("btnUnderline"),onClick:function(){return t.editor.insertMarkdown("underline")}},l.createElement(_e,{type:"underline"}))},o}(T);It.pluginName="font-underline";var jt=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleClick=t.handleClick.bind((0,b.Z)(t)),t.handleChange=t.handleChange.bind((0,b.Z)(t)),t.state={enable:t.editor.isFullScreen()},t}var n=o.prototype;return n.handleClick=function(){this.editor.fullScreen(!this.state.enable)},n.handleChange=function(t){this.setState({enable:t})},n.componentDidMount=function(){this.editor.on("fullscreen",this.handleChange)},n.componentWillUnmount=function(){this.editor.off("fullscreen",this.handleChange)},n.render=function(){if(this.editorConfig.canView&&this.editorConfig.canView.fullScreen){var t=this.state.enable;return l.createElement("span",{className:"button button-type-fullscreen",title:h.get(t?"btnExitFullScreen":"btnFullScreen"),onClick:this.handleClick},l.createElement(_e,{type:t?"fullscreen-exit":"fullscreen"}))}return null},o}(T);jt.pluginName="full-screen",jt.align="right";var Mt=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleClose=t.handleClose.bind((0,b.Z)(t)),t}var n=o.prototype;return n.handleClose=function(t){t.stopPropagation();var s=this.props.onClose;typeof s=="function"&&s()},n.render=function(){return l.createElement("div",{className:"drop-wrap "+(this.props.show?"show":"hidden"),onClick:this.handleClose},this.props.children)},o}(l.Component),Dt=Mt,Y=function(i){I(o,i);function o(){return i.apply(this,arguments)||this}var n=o.prototype;return n.handleHeader=function(t){var s=this.props.onSelectHeader;typeof s=="function"&&s(t)},n.render=function(){return l.createElement("ul",{className:"header-list"},l.createElement("li",{className:"list-item"},l.createElement("h1",{onClick:this.handleHeader.bind(this,"h1")},"H1")),l.createElement("li",{className:"list-item"},l.createElement("h2",{onClick:this.handleHeader.bind(this,"h2")},"H2")),l.createElement("li",{className:"list-item"},l.createElement("h3",{onClick:this.handleHeader.bind(this,"h3")},"H3")),l.createElement("li",{className:"list-item"},l.createElement("h4",{onClick:this.handleHeader.bind(this,"h4")},"H4")),l.createElement("li",{className:"list-item"},l.createElement("h5",{onClick:this.handleHeader.bind(this,"h5")},"H5")),l.createElement("li",{className:"list-item"},l.createElement("h6",{onClick:this.handleHeader.bind(this,"h6")},"H6")))},o}(l.Component),Z=Y,A=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.show=t.show.bind((0,b.Z)(t)),t.hide=t.hide.bind((0,b.Z)(t)),t.state={show:!1},t}var n=o.prototype;return n.show=function(){this.setState({show:!0})},n.hide=function(){this.setState({show:!1})},n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-header",title:h.get("btnHeader"),onMouseEnter:this.show,onMouseLeave:this.hide},l.createElement(_e,{type:"font-size"}),l.createElement(Dt,{show:this.state.show,onClose:this.hide},l.createElement(Z,{onSelectHeader:function(d){return t.editor.insertMarkdown(d)}})))},o}(T);A.pluginName="header";var q=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.timerId=void 0,t.locked=!1,t.input=l.createRef(),t}var n=o.prototype;return n.click=function(){var t=this;this.locked||!this.input.current||(this.locked=!0,this.input.current.value="",this.input.current.click(),this.timerId&&window.clearTimeout(this.timerId),this.timerId=window.setTimeout(function(){t.locked=!1,window.clearTimeout(t.timerId),t.timerId=void 0},200))},n.componentWillUnmount=function(){this.timerId&&window.clearTimeout(this.timerId)},n.render=function(){return l.createElement("input",{type:"file",ref:this.input,accept:this.props.accept,style:{position:"absolute",zIndex:-1,left:0,top:0,width:0,height:0,opacity:0},onChange:this.props.onChange})},o}(l.Component),he=q,K=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.inputFile=l.createRef(),t.onImageChanged=t.onImageChanged.bind((0,b.Z)(t)),t.handleCustomImageUpload=t.handleCustomImageUpload.bind((0,b.Z)(t)),t.handleImageUpload=t.handleImageUpload.bind((0,b.Z)(t)),t.state={show:!1},t}var n=o.prototype;return n.handleImageUpload=function(){var t=this.editorConfig.onImageUpload;typeof t=="function"?this.inputFile.current&&this.inputFile.current.click():this.editor.insertMarkdown("image")},n.onImageChanged=function(t){var s=this.editorConfig.onImageUpload;if(s){var d=xt(t,s);this.editor.insertPlaceholder(d.placeholder,d.uploaded)}},n.handleCustomImageUpload=function(t){var s=this,d=this.editorConfig.onCustomImageUpload;if(d){var D=d.call(this,t);We(D)&&D.then(function(H){H&&H.url&&s.editor.insertMarkdown("image",{target:H.text,imageUrl:H.url})})}},n.render=function(){var t=this,s=!!this.editorConfig.onCustomImageUpload;return s?l.createElement("span",{className:"button button-type-image",title:h.get("btnImage"),onClick:this.handleCustomImageUpload},l.createElement(_e,{type:"image"})):l.createElement("span",{className:"button button-type-image",title:h.get("btnImage"),onClick:this.handleImageUpload,style:{position:"relative"}},l.createElement(_e,{type:"image"}),l.createElement(he,{accept:this.editorConfig.imageAccept||"",ref:this.inputFile,onChange:function(D){D.persist(),D.target.files&&D.target.files.length>0&&t.onImageChanged(D.target.files[0])}}))},o}(T);K.pluginName="image";var z=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleKeyboard={key:"k",keyCode:75,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return t.editor.insertMarkdown("link")}},t}var n=o.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-link",title:h.get("btnLink"),onClick:function(){return t.editor.insertMarkdown("link")}},l.createElement(_e,{type:"link"}))},o}(T);z.pluginName="link";var $=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleKeyboard={key:"7",keyCode:55,withKey:["ctrlKey","shiftKey"],aliasCommand:!0,callback:function(){return t.editor.insertMarkdown("order")}},t}var n=o.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-ordered",title:h.get("btnOrdered"),onClick:function(){return t.editor.insertMarkdown("order")}},l.createElement(_e,{type:"list-ordered"}))},o}(T);$.pluginName="list-ordered";var ne=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleKeyboard={key:"8",keyCode:56,withKey:["ctrlKey","shiftKey"],aliasCommand:!0,callback:function(){return t.editor.insertMarkdown("unordered")}},t}var n=o.prototype;return n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){var t=this;return l.createElement("span",{className:"button button-type-unordered",title:h.get("btnUnordered"),onClick:function(){return t.editor.insertMarkdown("unordered")}},l.createElement(_e,{type:"list-unordered"}))},o}(T);ne.pluginName="list-unordered";var f=100,y=function(){function i(n){n===void 0&&(n={}),this.record=[],this.recycle=[],this.initValue="";var r=n,t=r.maxSize,s=t===void 0?f:t;this.maxSize=s}var o=i.prototype;return o.push=function(r){for(var t=this.record.push(r);this.record.length>this.maxSize;)this.record.shift();return t},o.get=function(){return this.record},o.getLast=function(){var r=this.record.length;return this.record[r-1]},o.undo=function(r){var t=this.record.pop();if(typeof t=="undefined")return this.initValue;if(t!==r)return this.recycle.push(t),t;var s=this.record.pop();return typeof s=="undefined"?(this.recycle.push(t),this.initValue):(this.recycle.push(t),s)},o.redo=function(){var r=this.recycle.pop();if(typeof r!="undefined")return this.push(r),r},o.cleanRedo=function(){this.recycle=[]},o.getUndoCount=function(){return this.undo.length},o.getRedoCount=function(){return this.recycle.length},i}(),j=y,P=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleKeyboards=[],t.lastPop=null,t.handleChange=t.handleChange.bind((0,b.Z)(t)),t.handleRedo=t.handleRedo.bind((0,b.Z)(t)),t.handleUndo=t.handleUndo.bind((0,b.Z)(t)),t.handleKeyboards=[{key:"y",keyCode:89,withKey:["ctrlKey"],callback:t.handleRedo},{key:"z",keyCode:90,withKey:["metaKey","shiftKey"],callback:t.handleRedo},{key:"z",keyCode:90,aliasCommand:!0,withKey:["ctrlKey"],callback:t.handleUndo}],t.logger=new j({maxSize:t.editorConfig.loggerMaxSize}),t.editor.registerPluginApi("undo",t.handleUndo),t.editor.registerPluginApi("redo",t.handleRedo),t}var n=o.prototype;return n.handleUndo=function(){var t=this.logger.undo(this.editor.getMdValue());typeof t!="undefined"&&(this.pause(),this.lastPop=t,this.editor.setText(t),this.forceUpdate())},n.handleRedo=function(){var t=this.logger.redo();typeof t!="undefined"&&(this.lastPop=t,this.editor.setText(t),this.forceUpdate())},n.handleChange=function(t,s,d){var D=this;if(!(this.logger.getLast()===t||this.lastPop!==null&&this.lastPop===t)){if(this.logger.cleanRedo(),d){this.logger.push(t),this.lastPop=null,this.forceUpdate();return}this.timerId&&(window.clearTimeout(this.timerId),this.timerId=0),this.timerId=window.setTimeout(function(){D.logger.getLast()!==t&&(D.logger.push(t),D.lastPop=null,D.forceUpdate()),window.clearTimeout(D.timerId),D.timerId=0},this.editorConfig.loggerInterval)}},n.componentDidMount=function(){var t=this;this.editor.on("change",this.handleChange),this.handleKeyboards.forEach(function(s){return t.editor.onKeyboard(s)}),this.logger.initValue=this.editor.getMdValue(),this.forceUpdate()},n.componentWillUnmount=function(){var t=this;this.timerId&&window.clearTimeout(this.timerId),this.editor.off("change",this.handleChange),this.editor.unregisterPluginApi("undo"),this.editor.unregisterPluginApi("redo"),this.handleKeyboards.forEach(function(s){return t.editor.offKeyboard(s)})},n.pause=function(){this.timerId&&(window.clearTimeout(this.timerId),this.timerId=void 0)},n.render=function(){var t=this.logger.getUndoCount()>1||this.logger.initValue!==this.editor.getMdValue(),s=this.logger.getRedoCount()>0;return l.createElement(l.Fragment,null,l.createElement("span",{className:"button button-type-undo "+(t?"":"disabled"),title:h.get("btnUndo"),onClick:this.handleUndo},l.createElement(_e,{type:"undo"})),l.createElement("span",{className:"button button-type-redo "+(s?"":"disabled"),title:h.get("btnRedo"),onClick:this.handleRedo},l.createElement(_e,{type:"redo"})))},o}(T);P.pluginName="logger";var X;(function(i){i[i.SHOW_ALL=0]="SHOW_ALL",i[i.SHOW_MD=1]="SHOW_MD",i[i.SHOW_HTML=2]="SHOW_HTML"})(X||(X={}));var O=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.handleClick=t.handleClick.bind((0,b.Z)(t)),t.handleChange=t.handleChange.bind((0,b.Z)(t)),t.state={view:t.editor.getView()},t}var n=o.prototype;return n.handleClick=function(){switch(this.next){case X.SHOW_ALL:this.editor.setView({html:!0,md:!0});break;case X.SHOW_HTML:this.editor.setView({html:!0,md:!1});break;case X.SHOW_MD:this.editor.setView({html:!1,md:!0});break}},n.handleChange=function(t){this.setState({view:t})},n.componentDidMount=function(){this.editor.on("viewchange",this.handleChange)},n.componentWillUnmount=function(){this.editor.off("viewchange",this.handleChange)},n.getDisplayInfo=function(){var t=this.next;switch(t){case X.SHOW_ALL:return{icon:"view-split",title:"All"};case X.SHOW_HTML:return{icon:"visibility",title:"Preview"};default:return{icon:"keyboard",title:"Editor"}}},n.render=function(){if(this.isDisplay){var t=this.getDisplayInfo();return l.createElement("span",{className:"button button-type-mode",title:h.get("btnMode"+t.title),onClick:this.handleClick},l.createElement(_e,{type:t.icon}))}return null},(0,p.Z)(o,[{key:"isDisplay",get:function(){var t=this.editorConfig.canView;return t?[t.html,t.md,t.both].filter(function(s){return s}).length>=2:!1}},{key:"next",get:function(){var t=this.editorConfig.canView,s=this.state.view,d=[X.SHOW_ALL,X.SHOW_MD,X.SHOW_HTML];t&&(t.both||d.splice(d.indexOf(X.SHOW_ALL),1),t.md||d.splice(d.indexOf(X.SHOW_MD),1),t.html||d.splice(d.indexOf(X.SHOW_HTML),1));var D=X.SHOW_MD;if(s.html&&(D=X.SHOW_HTML),s.html&&s.md&&(D=X.SHOW_ALL),d.length===0)return D;if(d.length===1)return d[0];var H=d.indexOf(D);return H<d.length-1?d[H+1]:d[0]}}]),o}(T);O.pluginName="mode-toggle",O.align="right";var E=O,de=function(i){I(o,i);function o(r){var t;t=i.call(this,r)||this,t.config={padding:3,width:20,height:20};var s=r.maxRow,d=s===void 0?5:s,D=r.maxCol,H=D===void 0?6:D;return t.state={maxRow:d,maxCol:H,list:t.formatTableModel(d,H)},t}var n=o.prototype;return n.formatTableModel=function(t,s){t===void 0&&(t=0),s===void 0&&(s=0);var d=new Array(t).fill(void 0);return d.map(function(D){return new Array(s).fill(0)})},n.calcWrapStyle=function(){var t=this.state,s=t.maxRow,d=t.maxCol,D=this.config,H=D.width,ve=D.height,le=D.padding,ye=(H+le)*d-le,Je=(ve+le)*s-le;return{width:ye+"px",height:Je+"px"}},n.calcItemStyle=function(t,s){t===void 0&&(t=0),s===void 0&&(s=0);var d=this.config,D=d.width,H=d.height,ve=d.padding,le=(H+ve)*t,ye=(D+ve)*s;return{top:le+"px",left:ye+"px"}},n.getList=function(t,s){var d=this.state.list;return d.map(function(D,H){return D.map(function(ve,le){return H<=t&&le<=s?1:0})})},n.handleHover=function(t,s){this.setState({list:this.getList(t,s)})},n.handleSetTable=function(t,s){var d=this.props.onSetTable;typeof d=="function"&&d({row:t+1,col:s+1})},n.componentDidUpdate=function(t){this.props.visibility===!1&&t.visibility!==this.props.visibility&&this.setState({list:this.getList(-1,-1)})},n.render=function(){var t=this;return l.createElement("ul",{className:"table-list wrap",style:this.calcWrapStyle()},this.state.list.map(function(s,d){return s.map(function(D,H){return l.createElement("li",{className:"list-item "+(D===1?"active":""),key:d+"-"+H,style:t.calcItemStyle(d,H),onMouseOver:t.handleHover.bind(t,d,H),onClick:t.handleSetTable.bind(t,d,H)})})}))},o}(l.Component),fe=de,W=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.show=t.show.bind((0,b.Z)(t)),t.hide=t.hide.bind((0,b.Z)(t)),t.state={show:!1},t}var n=o.prototype;return n.show=function(){this.setState({show:!0})},n.hide=function(){this.setState({show:!1})},n.render=function(){var t=this,s=this.editorConfig.table||this.props.config;return l.createElement("span",{className:"button button-type-table",title:h.get("btnTable"),onMouseEnter:this.show,onMouseLeave:this.hide},l.createElement(_e,{type:"grid"}),l.createElement(Dt,{show:this.state.show,onClose:this.hide},l.createElement(fe,{visibility:this.state.show,maxRow:s.maxRow,maxCol:s.maxCol,onSetTable:function(D){return t.editor.insertMarkdown("table",D)}})))},o}(T);W.pluginName="table",W.defaultConfig={maxRow:6,maxCol:6};var ae=a(93967),N=a.n(ae),oe=function(i){I(o,i);function o(){return i.apply(this,arguments)||this}var n=o.prototype;return n.handleSelectMapValue=function(t){var s=this.props.onSelectMapValue;typeof s=="function"&&s(t)},n.render=function(){var t=this,s=this.props.value;return l.createElement("ul",{className:"tab-map-list"},[1,2,4,8].map(function(d){return l.createElement("li",{key:d,className:N()("list-item",{active:s===d})},l.createElement("div",{onClick:t.handleSelectMapValue.bind(t,d)},d===1?h.get("tab"):d+" "+h.get("spaces")))}))},o}(l.Component),Ge=oe,ce=function(i){I(o,i);function o(r){var t;return t=i.call(this,r)||this,t.show=t.show.bind((0,b.Z)(t)),t.hide=t.hide.bind((0,b.Z)(t)),t.handleChangeMapValue=t.handleChangeMapValue.bind((0,b.Z)(t)),t.state={tabMapValue:t.getConfig("tabMapValue"),show:!1},t.handleKeyboard={key:"Tab",keyCode:9,aliasCommand:!0,withKey:[],callback:function(){return t.editor.insertMarkdown("tab",{tabMapValue:t.state.tabMapValue})}},t}var n=o.prototype;return n.show=function(){this.setState({show:!0})},n.hide=function(){this.setState({show:!1})},n.handleChangeMapValue=function(t){this.setState({tabMapValue:t})},n.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},n.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},n.render=function(){return l.createElement("span",{className:"button button-type-header",title:h.get("selectTabMap"),onClick:this.show,onMouseLeave:this.hide},l.createElement(_e,{type:"tab"}),l.createElement(Dt,{show:this.state.show,onClose:this.hide},l.createElement(Ge,{value:this.state.tabMapValue,onSelectMapValue:this.handleChangeMapValue})))},o}(T);ce.pluginName="tab-insert",ce.defaultConfig={tabMapValue:1},Ae.use(A),Ae.use(mt),Ae.use(_t),Ae.use(It),Ae.use(St),Ae.use(ne),Ae.use($),Ae.use(ct),Ae.use(pt),Ae.use(Re),Ae.use(He),Ae.use(W),Ae.use(K),Ae.use(z),Ae.use(Ct),Ae.use(P),Ae.use(E),Ae.use(jt);var ie={Header:A,FontBold:mt,FontItalic:_t,FontUnderline:It,FontStrikethrough:St,ListUnordered:ne,ListOrdered:$,BlockQuote:ct,BlockWrap:pt,BlockCodeInline:Re,BlockCodeBlock:He,Table:W,Image:K,Link:z,Clear:Ct,Logger:P,ModeToggle:E,FullScreen:jt,AutoResize:Ke,TabInsert:ce},J=Ae,Qe=a(21274),at=a(85134),Ye=a(55932),Ue=a(55793),gt=a(85893),Be=function(i){var o=i.onChange,n=i.value,r=i.style,t=(0,l.useState)(!1),s=w()(t,2),d=s[0],D=s[1];return(0,gt.jsxs)(gt.Fragment,{children:[d&&(0,gt.jsx)(Qe.Z,{}),(0,gt.jsx)(J,{style:k()({height:"500px"},r||{}),value:n,renderHTML:function(ve){return(0,gt.jsx)(x.U,{remarkPlugins:[],children:ve})},onChange:function(ve){var le=ve.text,ye=ve.html;o&&o(le)},allowPasteImage:!0,onImageUpload:function(){var H=V()(u()().mark(function ve(le){var ye,Je;return u()().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:return Ve.prev=0,D(!0),Ve.next=4,(0,Ue.yE)(le,at.v.upload.maxSize);case 4:if(le=Ve.sent,!(le.size>at.v.upload.maxSize)){Ve.next=8;break}throw m.ZP.error("\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC71MB"),new Error("\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC71MB");case 8:return Ve.next=10,(0,Ue.ku)(le);case 10:if(ye=Ve.sent,Je=(0,Ye.Kk)(ye,{width:500}),!Je){Ve.next=16;break}return Ve.abrupt("return",Je);case 16:throw m.ZP.error("\u4E0A\u4F20\u5931\u8D25"),new Error("\u4E0A\u4F20\u5931\u8D25");case 18:return Ve.prev=18,D(!1),Ve.finish(18);case 21:case"end":return Ve.stop()}},ve,null,[[0,,18,21]])}));return function(ve){return H.apply(this,arguments)}}()})]})}},1260:function(Ee,te,a){"use strict";a.r(te),a.d(te,{default:function(){return Dt}});var M=a(42122),u=a.n(M),pe=a(27424),V=a.n(pe),ee=a(68421),k=a(78957),B=a(66309),w=a(40411),m=a(14726),l=a(67294),x=a(48382),_=a(23806),b=a(35291),S=a(30967),I=a(47650),c=a(42838),g=a(26089),L=a(33733);var F=(0,L.Z)("outline","file-import","IconFileImport",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3",key:"svg-1"}]]),re=a(17061),Se=a.n(re),Q=a(17156),me=a.n(Q),G=a(45360),ge=a(4393),it=a(65975),st=a(85576),_e=a(57381),bt=a(92398),ht=a(74590),De=a(71230),se=a(15746),R=a(11346),Te=a(72269),v=a(25278),nt=a(35001),U=a(60512),C=a(861),h=a.n(C),p=a(39019),T=a(55932),e=a(85893),Pe=function(Y){var Z,A=Y.value,q=Y.onChange,he=(0,ee.Z)(S.x1.sys.areaLoadTree,{manual:!0}),K=((Z=he.data)===null||Z===void 0||(Z=Z.data)===null||Z===void 0?void 0:Z.Data)||[],z=K.flatMap(function(f){return(0,b.iL)(f)}),$=h()(new Set(z.map(function(f){return f.key||""}))),ne=K.map(function(f){return(0,b.Sc)(f,function(y){var j,P=(0,T.Kk)((j=y.raw_data)===null||j===void 0?void 0:j.StorageMeta,{width:20});return(0,e.jsxs)(k.Z,{direction:"horizontal",children:[P&&(0,e.jsx)("img",{src:P,alt:""}),(0,e.jsx)("span",{children:"".concat(y.title,"-").concat((0,c.Te)(y.title||"")||"N/A")})]})})});return(0,l.useEffect)(function(){he.run({})},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(p.Z,{loading:he.loading,value:A,onChange:function(y){var j;q&&q((j=z.find(function(P){return P.key==y}))===null||j===void 0?void 0:j.raw_data)},placeholder:"\u8F93\u5165\u62FC\u97F3\u7F29\u5199\u53EF\u4EE5\u641C\u7D22...",treeData:ne,treeExpandedKeys:$,treeDefaultExpandAll:!0,allowClear:!0,showSearch:!0,treeNodeFilterProp:"label",filterTreeNode:void 0})})},be=a(88208),Ce=a(6526),xe=a(55742),Ze=a(34041),Me=a(84567),We=function(Y){var Z,A=Y.value,q=Y.onChange,he=Y.single,K=Y.single_select,z=(0,ee.Z)(S.x1.mallAdmin.tagListTags,{manual:!0}),$=((Z=z.data)===null||Z===void 0||(Z=Z.data)===null||Z===void 0?void 0:Z.Data)||[];return(0,l.useEffect)(function(){z.run({})},[]),he?(0,e.jsx)(xe.ZP.Group,{value:A==null?void 0:A.at(0),onChange:function(f){var y=$.filter(function(j){return j.Id==f.target.value});q&&q(y)},options:$.map(function(ne,f){return{label:ne.Name||"--",value:ne.Id||""}})}):K?(0,e.jsx)(Ze.Z,{style:{minWidth:200},placeholder:"\u9009\u62E9\u6807\u7B7E",value:A==null?void 0:A.at(0),onChange:function(f){var y=$.filter(function(j){return j.Id==f});q&&q(y)},allowClear:!0,onClear:function(){q&&q([])},options:$.map(function(ne,f){return{label:ne.Name||"--",value:ne.Id||""}})}):(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Me.Z.Group,{value:A,onChange:function(f){var y=$.filter(function(j){return f.indexOf(j.Id||"")>=0});q&&q(y)},options:$.map(function(ne,f){return{label:ne.Name||"--",value:ne.Id||""}})})})},Oe=a(9417),ue=a(97321),ze=function(Y){var Z,A=Y.data,q=Y.ok,he=Y.show,K=(0,l.useState)(!1),z=V()(K,2),$=z[0],ne=z[1],f=u()(u()({},A),{},{RedirectToUrl:(0,c.ZP)(A==null?void 0:A.RedirectToUrlJson)||{}}),y=q,j=l.useRef(null);(0,l.useEffect)(function(){he&&setTimeout(function(){var O;(O=j.current)===null||O===void 0||O.focus()},100)},[he]);var P=function(){return f.GoodsType!=b.CJ.Service,(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u53EA\u5141\u8BB8\u7535\u8BDD\u54A8\u8BE2",children:(0,e.jsx)(Te.Z,{checked:f.LimitedToContact,onChange:function(de){y(u()(u()({},f),{},{LimitedToContact:de}))}})})}),(0,e.jsx)(se.Z,{span:18,children:(0,e.jsx)(R.Z.Item,{label:"\u7535\u8BDD\u53F7\u7801",tooltip:"\u5F00\u542F\u540E\u5C55\u793A\u8054\u7CFB\u65B9\u5F0F",children:(0,e.jsx)(v.Z,{placeholder:"400-88888-xxx",disabled:!f.LimitedToContact,value:f.LimitedToContact&&f.ContactTelephone||"",onChange:function(de){y(u()(u()({},f),{},{ContactTelephone:de.target.value}))}})})})]})},X=function(){return f.GoodsType!=b.CJ.Service,(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u81EA\u52A8\u8DF3\u8F6C",tooltip:"\u5F00\u542F\u540E\u5546\u54C1\u8BE6\u60C5\u9875\u5C55\u793A\u8DF3\u8F6C\u6309\u94AE",children:(0,e.jsx)(Te.Z,{checked:f.LimitedToRedirect,onChange:function(de){y(u()(u()({},f),{},{LimitedToRedirect:de}))}})})}),(0,e.jsx)(se.Z,{span:18,children:(0,e.jsxs)(R.Z.Item,{label:"\u8DF3\u8F6C\u94FE\u63A5",children:[f.LimitedToRedirect&&(0,e.jsxs)(e.Fragment,{children:[(0,c.Wq)(f.RedirectToUrlJson)||(0,e.jsx)(nt.Z.Paragraph,{ellipsis:!0,code:!0,children:f.RedirectToUrlJson}),(0,e.jsx)(U.Z,{link:f.RedirectToUrl||{},onChange:function(de){y(u()(u()({},f),{},{RedirectToUrl:de,RedirectToUrlJson:JSON.stringify(de)}))}})]}),f.LimitedToRedirect||(0,e.jsx)("span",{children:"..."})]})})]})})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ge.Z,{title:"\u57FA\u7840\u4FE1\u606F",loading:$,style:{marginBottom:10},children:(0,e.jsxs)(R.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsx)(R.Z.Item,{label:"\u5546\u54C1\u7C7B\u578B",tooltip:"\u521B\u5EFA\u540E\u4E0D\u53EF\u4EE5\u4FEE\u6539",hidden:(0,b.tC)(),children:(0,e.jsx)(ue.Z.Group,{multiple:!1,value:f.GoodsType,onChange:function(E){y(u()(u()({},f),{},{GoodsType:E}))},disabled:!(0,c.Wq)(f.Id),options:[{title:"\u5B9E\u7269\u5546\u54C1",description:"\u9700\u8981\u7269\u6D41",value:b.CJ.Normal},{title:"\u865A\u62DF\u5546\u54C1",description:"\u4E0B\u5355\u751F\u6210\u6838\u9500\u5238\uFF0C\u65E0\u9700\u7269\u6D41",value:b.CJ.Virtual,disabled:!0},{title:"\u670D\u52A1\u5546\u54C1",description:"\u4E0B\u5355\u540E\u9884\u7EA6\u4E0A\u95E8\u670D\u52A1",value:b.CJ.Service}]})}),(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:12,children:(0,e.jsxs)(R.Z.Item,{label:"\u540D\u79F0",required:!0,children:[(0,e.jsx)(v.Z,{ref:j,autoFocus:!0,placeholder:"\u8F93\u5165\u5546\u54C1\u540D\u79F0\uFF0C\u6BD4\u5982\u3010\u81B3\u9B54\u5E08\u4FDD\u6E29\u676F\u3011",count:{show:!0,max:20},maxLength:20,required:!0,value:f.Name||"",onChange:function(E){var de=function(){return(0,c.Wq)(f.Id)?(0,c.uw)(E.target.value||""):f.SeoName||void 0};y(u()(u()({},f),{},{Name:E.target.value,SeoName:de()}))}}),(0,c.Wq)(f.Name)&&(0,e.jsx)("p",{style:{color:"red"},children:"\u4E0D\u80FD\u4E3A\u7A7A"})]})}),(0,e.jsx)(se.Z,{span:12,children:(0,e.jsx)(R.Z.Item,{label:"Seo Name",tooltip:"\u5728\u65B0\u5EFA\u65F6\u81EA\u52A8\u751F\u6210\uFF0C\u540E\u7EED\u9700\u8981\u624B\u52A8\u4FEE\u6539\u66F4\u65B0\uFF01",children:(0,e.jsx)(v.Z,{value:f.SeoName||"",onChange:function(E){y(u()(u()({},f),{},{SeoName:E.target.value}))}})})})]}),(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:12,children:(0,e.jsx)(R.Z.Item,{label:"\u7B80\u77ED\u4ECB\u7ECD",rules:[{max:50}],children:(0,e.jsx)(v.Z.TextArea,{placeholder:"\u5C06\u5728\u5546\u54C1\u8BE6\u60C5\u9875\u663E\u793A",value:f.Description||"",count:{show:!0,max:100},maxLength:100,onChange:function(E){y(u()(u()({},f),{},{Description:E.target.value}))}})})}),(0,e.jsx)(se.Z,{span:12,children:(0,e.jsx)(R.Z.Item,{label:"\u5E97\u5BB6\u8BC4\u8BBA",rules:[{max:50}],children:(0,e.jsx)(v.Z.TextArea,{placeholder:"\u53EF\u4EE5\u663E\u793A\u5728\u641C\u7D22\u7ED3\u679C\u4E2D",value:f.AdminComment||"",count:{show:!0,max:100},maxLength:100,onChange:function(E){y(u()(u()({},f),{},{AdminComment:E.target.value}))}})})})]}),(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:8,children:(0,e.jsx)(R.Z.Item,{label:"\u54C1\u724C",children:(0,e.jsx)(be.Z,{value:f.BrandId,onChange:function(E){y(u()(u()({},f),{},{BrandId:E==null?void 0:E.Id}))}})})}),(0,e.jsx)(se.Z,{span:8,children:(0,e.jsx)(R.Z.Item,{label:"\u5206\u7C7B",children:(0,e.jsx)(Ce.Z,{value:f.CategoryId,onChange:function(E){y(u()(u()({},f),{},{CategoryId:E==null?void 0:E.Id}))}})})}),(0,e.jsx)(se.Z,{span:24,children:(0,e.jsx)(R.Z.Item,{label:"\u6807\u7B7E",children:(0,e.jsx)(We,{value:((Z=f.Tags)===null||Z===void 0?void 0:Z.map(function(O){return O.Id||""}))||[],onChange:function(E){y(u()(u()({},f),{},{Tags:E}))}})})}),(0,e.jsx)(se.Z,{span:8,hidden:(0,b.tC)(),children:(0,e.jsx)(R.Z.Item,{label:"\u4EA7\u5730",children:(0,e.jsx)(Pe,{value:f.AreaId,onChange:function(E){y(u()(u()({},f),{},{AreaId:E==null?void 0:E.Id}))}})})})]}),P(),(0,b.tC)()||X(),(0,e.jsx)(De.Z,{gutter:10,hidden:(0,b.tC)(),children:(0,e.jsx)(se.Z,{span:24,children:(0,e.jsx)(R.Z.Item,{label:"\u5E93\u5B58\u6263\u51CF\u7B56\u7565",children:(0,e.jsx)(ue.Z.Group,{bordered:!0,value:f.StockDeductStrategy||"",onChange:function(E){y(u()(u()({},f),{},{StockDeductStrategy:E}))},options:b.qh.map(function(O){return{title:O.name||"",value:O.id||""}})})})})}),(0,e.jsx)(ge.Z,{size:"small",title:"\u72B6\u6001",bordered:!1,children:(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u7F6E\u9876\u5C55\u793A",children:(0,e.jsx)(Te.Z,{checked:f.StickyTop,onChange:function(E){y(u()(u()({},f),{},{StickyTop:E}))}})})}),(0,e.jsx)(se.Z,{span:6,children:(0,e.jsxs)(R.Z.Item,{label:"\u5728\u552E",children:[(0,e.jsx)(Te.Z,{checked:f.Published,onChange:function(E){y(u()(u()({},f),{},{Published:E}))}}),f.Published||(0,e.jsx)(it.Z,{message:"\u5546\u54C1\u4E0B\u6240\u6709sku\u90FD\u4E0D\u80FD\u9500\u552E"})]})})]})}),(0,e.jsx)(ge.Z,{size:"small",title:"\u9650\u5236",bordered:!1,children:(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u652F\u6301\u4E0B\u5355",children:(0,e.jsx)(Te.Z,{checked:f.PlaceOrderSupported,onChange:function(E){y(u()(u()({},f),{},{PlaceOrderSupported:E}))}})})}),(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u652F\u6301\u552E\u540E",children:(0,e.jsx)(Te.Z,{checked:f.AfterSalesSupported,onChange:function(E){y(u()(u()({},f),{},{AfterSalesSupported:E}))}})})})]})}),(0,e.jsx)(ge.Z,{size:"small",title:"\u914D\u9001",bordered:!1,children:(0,e.jsx)(De.Z,{gutter:10,children:(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u652F\u6301\u8D27\u5230\u4ED8\u6B3E",children:(0,e.jsx)(Te.Z,{checked:f.OfflinePaymentSupported,onChange:function(E){y(u()(u()({},f),{},{OfflinePaymentSupported:E}))}})})})})}),(0,e.jsx)(ge.Z,{size:"small",title:"\u5176\u4ED6",bordered:!1,children:(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u53EF\u4EE5\u8BC4\u8BBA",children:(0,e.jsx)(Te.Z,{checked:f.CommentSupported,onChange:function(E){y(u()(u()({},f),{},{CommentSupported:E}))}})})}),(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u4EC5\u4F5C\u4E3A\u4FE1\u606F\u9875",children:(0,e.jsx)(Te.Z,{checked:f.DisplayAsInformationPage,onChange:function(E){y(u()(u()({},f),{},{DisplayAsInformationPage:E}))}})})})]})}),(0,e.jsx)(De.Z,{gutter:10,children:(0,e.jsx)(se.Z,{span:24,children:(0,e.jsxs)(R.Z.Item,{label:"\u5546\u54C1\u8BE6\u60C5",rules:[{max:1e4}],children:[(0,e.jsx)(it.Z,{message:"\u4F7F\u7528markdown\u8BED\u6CD5",style:{marginBottom:10}}),(0,e.jsx)(Oe.Z,{value:f.DetailInformation||"",onChange:function(E){y(u()(u()({},f),{},{DetailInformation:E}))}})]})})})]})})})},je=a(83062),ut=a(98163),Xe=a(13275),Ie=a(77953),dt=a(85134),ot=a(55793);var ke=(0,L.Z)("outline","arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);var lt=(0,L.Z)("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),Le=a(70278);var Ne=(0,L.Z)("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]),xt=function(Y){var Z=Y.data,A=Y.ok,q=Y.count,he=Y.maxSize,K=Y.title,z=Y.skus,$=(0,l.useRef)(null),ne=(0,l.useState)([]),f=V()(ne,2),y=f[0],j=f[1],P=(0,b.zH)(Z||[]),X=function(ie){A&&A(ie.map(function(J,Qe){return u()(u()({},J),{},{DisplayOrder:Qe})}))},O=q||20,E=O-P.length,de=he||dt.v.upload.maxSize,fe=function(ie,J){var Qe=z||[],at=Qe.find(function(Ye){return Ye.Id==ie.SkuId});return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(k.Z,{direction:"horizontal",children:[(0,e.jsxs)(m.ZP.Group,{children:[(0,e.jsx)(je.Z,{title:"\u5411\u524D\u79FB\u52A8",children:(0,e.jsx)(m.ZP,{type:"dashed",disabled:J<=0,icon:(0,e.jsx)(ke,{stroke:1}),onClick:function(){var Ue=h()(P);(0,c.qW)(Ue,J-1,J),X(Ue)}})}),(0,e.jsx)(je.Z,{title:"\u5411\u540E\u79FB\u52A8",children:(0,e.jsx)(m.ZP,{type:"dashed",disabled:J>=P.length-1,icon:(0,e.jsx)(lt,{stroke:1}),onClick:function(){var Ue=h()(P);(0,c.qW)(Ue,J,J+1),X(Ue)}})}),(0,e.jsx)(je.Z,{title:"\u5220\u9664",children:(0,e.jsx)(m.ZP,{type:"dashed",danger:!0,icon:(0,e.jsx)(Le.Z,{stroke:1}),onClick:function(){var Ue=h()(P);(0,Ie.Z)(Ue,J),X(Ue)}})})]},ie.Id),(0,e.jsx)(je.Z,{title:"\u9009\u62E9sku",children:(0,e.jsx)(Ze.Z,{style:{minWidth:100},placeholder:"\u9009\u62E9sku",value:at==null?void 0:at.Id,onChange:function(Ue){var gt=h()(P);gt[J].SkuId=Ue,X(gt)},onClear:function(){var Ue=h()(P);Ue[J].SkuId=void 0,X(Ue)},allowClear:!0,options:Qe.map(function(Ye){return{label:Ye.Name,value:Ye.Id}})})})]})})},W=function(){return E<=0?null:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{style:{marginTop:10,marginBottom:10,padding:10,display:"flex",flexDirection:"row",justifyContent:"flex-end",justifyItems:"flex-end"},children:(0,e.jsx)(m.ZP,{loading:!(0,c.G5)(y),icon:(0,e.jsx)(Ne,{stroke:1}),type:"dashed",onClick:function(){var J;(J=$.current)===null||J===void 0||J.click()},children:"\u9009\u62E9\u56FE\u7247"})})})},ae=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(De.Z,{gutter:10,children:P.map(function(ie,J){var Qe=(0,b.u2)(ie.StorageMeta||{});return(0,e.jsxs)(se.Z,{span:4,children:[(0,e.jsxs)("div",{style:{padding:10},children:[(0,e.jsx)(w.Z,{showZero:!0,count:(ie.DisplayOrder||0)+1,children:(0,e.jsx)(ut.Z,{src:Qe.small||"",preview:{src:Qe.large||""},width:"100%",alt:"\u6392\u5E8F\u503C\uFF1A".concat(ie.DisplayOrder)})}),(0,e.jsx)("div",{children:ie.FileName||"--"})]}),(0,e.jsx)("div",{style:{padding:10},children:fe(ie,J)})]},ie.Id)})})})},N=function(){if((0,c.G5)(y))return null;var ie=y.filter(function(J){return J.done}).length;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Xe.Z,{style:{marginBottom:5},type:"line",status:"active",size:"small",percent:parseInt((ie/y.length*100).toFixed())}),(0,e.jsx)("div",{style:{margin:10,padding:10,backgroundColor:"rgb(250,250,250)",border:"1px solid blue"},children:y.map(function(J,Qe){var at;return(0,e.jsxs)("div",{style:{marginBottom:5},children:[(0,e.jsxs)("div",{children:[J.base64&&J.base64.length>0&&(0,e.jsx)("img",{width:80,height:80,src:J.base64,alt:""}),(0,e.jsx)("b",{children:((at=J.file)===null||at===void 0?void 0:at.name)||"--"})]}),(0,e.jsxs)("div",{children:[J.loading&&(0,e.jsx)("b",{children:"\u4E0A\u4F20\u4E2D..."}),J.done&&(0,e.jsx)("b",{children:"\u5B8C\u6210"}),(0,c.Wq)(J.error)||(0,e.jsx)("b",{children:J.error})]})]},Qe)})})]})},oe=function(){var ce=me()(Se()().mark(function ie(J){var Qe,at,Ye,Ue,gt,Be;return Se()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(J.length>E)){o.next=3;break}return G.ZP.error("\u8FD8\u53EF\u4EE5\u4E0A\u4F20".concat(E,"\u5F20\u56FE\u7247\uFF0C\u4F60\u9009\u62E9\u7684\u592A\u591A\u4E86")),o.abrupt("return");case 3:Qe=[],j(function(n){return h()(J)}),o.prev=5,at=0;case 7:if(!(at<J.length)){o.next=35;break}if(Ye=J[at],o.prev=9,Ye.loading=!0,j(function(n){return h()(J)}),Ue=Ye.file,(0,ot.Or)(Ue.name)){o.next=16;break}return Ye.error="\u53EA\u652F\u6301 ".concat((0,ot.MU)().join("\u3001")," \u683C\u5F0F\u7684\u56FE\u7247"),o.abrupt("continue",32);case 16:return o.next=18,(0,ot.yE)(Ue,de);case 18:if(Ue=o.sent,!(Ue.size>de)){o.next=22;break}return Ye.error="\u56FE\u7247\u5C3A\u5BF8\u8FC7\u5927",o.abrupt("continue",32);case 22:return o.next=24,(0,ot.ku)(Ue);case 24:gt=o.sent,Be={GoodsId:void 0,SkuId:void 0,PictureMetaId:gt.Id,StorageMeta:gt,FileName:Ue.name},Qe.push(Be);case 27:return o.prev=27,Ye.loading=!1,Ye.done=!0,j(function(n){return h()(J)}),o.finish(27);case 32:++at,o.next=7;break;case 35:return o.prev=35,j(function(n){return[]}),X([].concat(h()(P),Qe)),o.finish(35);case 39:case"end":return o.stop()}},ie,null,[[5,,35,39],[9,,27,32]])}));return function(J){return ce.apply(this,arguments)}}(),Ge=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{style:{display:"none"},children:(0,e.jsx)("input",{ref:$,type:"file",accept:"image/*",multiple:!0,onChange:function(){var ie=me()(Se()().mark(function J(Qe){var at,Ye,Ue;return Se()().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:if(Qe.target.files!=null){Be.next=2;break}return Be.abrupt("return");case 2:at=[],Ye=0;case 4:if(!(Ye<Qe.target.files.length)){Be.next=19;break}if(Ue=Qe.target.files.item(Ye),Ue!=null){Be.next=8;break}return Be.abrupt("continue",16);case 8:return Be.t0=at,Be.t1=Ue,Be.t2=void 0,Be.next=13,(0,ot.jP)(Ue);case 13:Be.t3=Be.sent,Be.t4={file:Be.t1,loading:!1,done:!1,error:Be.t2,base64:Be.t3},Be.t0.push.call(Be.t0,Be.t4);case 16:++Ye,Be.next=4;break;case 19:return Be.next=21,oe(at);case 21:case"end":return Be.stop()}},J)}));return function(J){return ie.apply(this,arguments)}}()})})})};return(0,e.jsxs)(e.Fragment,{children:[Ge(),(0,e.jsxs)(ge.Z,{title:K||"--",children:[(0,e.jsx)("div",{style:{marginBottom:20},children:(0,e.jsx)(it.Z,{message:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:"\u8FD8\u53EF\u4EE5\u4E0A\u4F20".concat(E,"\u5F20\u56FE\u7247")})}),type:"info"})}),ae(),N(),W()]})]})},ft=a(80799),qe=a(24435),Et=a(48746),$e=a(97975),et=function(Y){var Z=Y.model,A=Y.ok,q=(Z==null?void 0:Z.Values)||[],he=(0,l.useState)(!1),K=V()(he,2),z=K[0],$=K[1],ne=(0,l.useState)(void 0),f=V()(ne,2),y=f[0],j=f[1],P=y||{},X=function(ae){$(!0),S.x1.mallAdmin.specValueEdit(u()(u()({},ae),{},{SpecId:Z.Id})).then(function(N){N.data.Error?G.ZP.error(N.data.Error.Message):(G.ZP.success("\u4FDD\u5B58\u6210\u529F"),j(void 0),A&&A())}).finally(function(){$(!1)})},O=function(ae){confirm("\u786E\u5B9A\u5220\u9664\u89C4\u683C")&&($(!0),S.x1.mallAdmin.specValueDelete({Id:ae.Id}).then(function(N){N.data.Error?G.ZP.error(N.data.Error.Message):(G.ZP.success("\u5220\u9664\u6210\u529F"),j(void 0),A&&A())}).finally(function(){$(!1)}))},E=function(ae){var N=ae.PriceOffset||0;return N>0?(0,e.jsx)("span",{children:"+".concat((0,c.lb)(N))}):N<0?(0,e.jsx)("span",{children:"-".concat((0,c.lb)(N))}):null},de=function(){if(y!=null&&y.AssociatedSkuId)return{Id:y.AssociatedSkuId,Name:"\u9519\u8BEF\u7684\u89C4\u683Cid: ".concat(y.AssociatedSkuId)}},fe=de();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(st.Z,{title:"\u89C4\u683C\u53C2\u6570",open:y!=null,onCancel:function(){return j(void 0)},footer:(0,e.jsxs)(k.Z,{size:2,children:[(0,c.OB)(P.Id)||(0,e.jsx)(m.ZP,{type:"primary",danger:!0,onClick:function(){O(P)},children:"\u5220\u9664"}),(0,e.jsx)(m.ZP,{type:"primary",onClick:function(){X(P)},children:"\u4FDD\u5B58"})]}),children:(0,e.jsx)(_e.Z,{spinning:z,children:(0,e.jsxs)(R.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsx)(R.Z.Item,{label:"\u89C4\u683C\u540D\u79F0",children:(0,e.jsx)(B.Z,{color:"processing",children:Z.Name||"--"})}),(0,e.jsx)(R.Z.Item,{label:"\u540D\u79F0",rules:[{required:!0},{max:20}],children:(0,e.jsx)(v.Z,{value:P.Name||"",onChange:function(ae){j(u()(u()({},y),{},{Name:ae.target.value}))}})}),(0,e.jsx)(R.Z.Item,{label:"\u5DEE\u4EF7",children:(0,e.jsx)(qe.Z,{defaultValue:P.PriceOffset||void 0,onChange:function(ae){j(u()(u()({},y),{},{PriceOffset:ae||void 0}))}})}),(0,e.jsx)(R.Z.Item,{label:"\u5173\u8054\u7269\u6599",tooltip:"\u68C0\u67E5\u5E76\u6263\u51CF\u7269\u6599\u5E93\u5B58",children:(0,e.jsxs)(k.Z,{direction:"vertical",style:{width:"100%"},children:[(0,e.jsx)(Et.Z,{props:{status:(y==null?void 0:y.AssociatedSku)==null&&fe!=null?"error":void 0},selectedSku:(y==null?void 0:y.AssociatedSku)||fe,onChange:function(ae){j(u()(u()({},y),{},{AssociatedSku:ae,AssociatedSkuId:ae==null?void 0:ae.Id}))}}),(0,c.Wq)(y==null?void 0:y.AssociatedSkuId)||(0,e.jsx)(qe.Z,{addonBefore:(0,e.jsx)("b",{children:"\u7269\u6599\u6570\u91CF"}),status:((y==null?void 0:y.AssociatedSkuCount)||0)<1?"error":void 0,value:(y==null?void 0:y.AssociatedSkuCount)||0,onChange:function(ae){j(u()(u()({},y),{},{AssociatedSkuCount:ae||0}))},min:1})]})})]})})}),(0,e.jsxs)(k.Z,{wrap:!0,direction:"horizontal",size:2,children:[q.map(function(W,ae){var N=(0,b.CQ)(W.AssociatedSku);return(0,e.jsx)(B.Z,{color:"blue",style:{cursor:"pointer"},onClick:function(){j(W)},closable:!1,children:(0,e.jsx)(je.Z,{title:N?"\u5173\u8054\u7269\u6599\uFF1A".concat(N," * ").concat(W.AssociatedSkuCount||0):void 0,children:(0,e.jsxs)(k.Z,{direction:"horizontal",children:[(0,e.jsx)("span",{children:W.Name}),E(W)]})})},ae)}),(0,e.jsx)(je.Z,{title:"\u6DFB\u52A0\u89C4\u683C\u660E\u7EC6",children:(0,e.jsx)(m.ZP,{icon:(0,e.jsx)($e.Z,{stroke:1}),onClick:function(){j({PriceOffset:0,AssociatedSkuCount:1})}})})]})]})},Fe=function(Y){var Z=Y.model,A=(0,l.useState)(!0),q=V()(A,2),he=q[0],K=q[1],z=(0,l.useState)([]),$=V()(z,2),ne=$[0],f=$[1],y=(0,l.useState)(void 0),j=V()(y,2),P=j[0],X=j[1],O=P||{},E=(0,l.useState)(!1),de=V()(E,2),fe=de[0],W=de[1],ae=function(){Z.Id&&(K(!0),S.x1.mallAdmin.specListJson({Id:Z.Id}).then(function(ie){ie.data.Error?G.ZP.error(ie.data.Error.Message):f(ie.data.Data||[])}).finally(function(){K(!1)}))},N=function(ie){confirm("\u786E\u5B9A\u5220\u9664\u89C4\u683C")&&(K(!0),S.x1.mallAdmin.specDelete({Id:ie.Id}).then(function(J){J.data.Error?G.ZP.error(J.data.Error.Message):(G.ZP.success("\u5220\u9664\u6210\u529F"),ae())}).finally(function(){K(!1)}))};(0,l.useEffect)(function(){ae()},[Z]);var oe=function(ie){W(!0),ie.GoodsId=Z.Id,S.x1.mallAdmin.specEdit(u()(u()({},ie),{},{GoodsId:Z.Id})).then(function(J){J.data.Error?G.ZP.error(J.data.Error.Message):(G.ZP.success("\u4FDD\u5B58\u6210\u529F"),X(void 0),ae())}).finally(function(){W(!1)})},Ge=[{title:"\u540D\u79F0",render:function(ie,J){return J.Name||"--"}},{title:"\u660E\u7EC6",render:function(ie,J){return(0,e.jsx)(et,{model:J,ok:function(){ae()}})}},{title:"\u64CD\u4F5C",render:function(ie,J){return(0,e.jsxs)(m.ZP.Group,{children:[(0,e.jsx)(m.ZP,{type:"link",onClick:function(){X(J)},children:"\u7F16\u8F91"}),(0,e.jsx)(m.ZP,{type:"link",danger:!0,onClick:function(){N(J)},children:"\u5220\u9664"})]})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(st.Z,{title:"\u89C4\u683C",open:P!=null,onCancel:function(){return X(void 0)},onOk:function(){return oe(O)},children:(0,e.jsx)(_e.Z,{spinning:fe,children:(0,e.jsx)(R.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:(0,e.jsx)(R.Z.Item,{label:"\u540D\u79F0",rules:[{required:!0},{max:20}],children:(0,e.jsx)(v.Z,{value:O.Name||"",onChange:function(ie){X(u()(u()({},P),{},{Name:ie.target.value}))}})})})})}),(0,e.jsx)(ge.Z,{title:"\u5546\u54C1\u89C4\u683C/\u5C5E\u6027",style:{marginBottom:10},extra:(0,e.jsx)(m.ZP,{type:"primary",onClick:function(){X({})},children:"\u65B0\u589E"}),children:(0,e.jsx)(ft.Z,{rowKey:function(ie){return ie.Id||""},loading:he,columns:Ge,dataSource:ne,pagination:!1})})]})},rt=function(Y){var Z=Y.model,A=Y.ok,q=(Z==null?void 0:Z.Items)||[],he=(0,l.useState)(!1),K=V()(he,2),z=K[0],$=K[1],ne=(0,l.useState)(void 0),f=V()(ne,2),y=f[0],j=f[1],P=y||{},X=function(fe){$(!0),S.x1.mallAdmin.valueAddedSaveGroupItem(u()(u()({},fe),{},{GroupId:Z.Id})).then(function(W){W.data.Error?G.ZP.error(W.data.Error.Message):(G.ZP.success("\u4FDD\u5B58\u6210\u529F"),j(void 0),A&&A())}).finally(function(){$(!1)})},O=function(fe){confirm("\u786E\u5B9A\u5220\u9664\uFF1F")&&($(!0),S.x1.mallAdmin.valueAddedDeleteGroupItem({Id:fe.Id}).then(function(W){W.data.Error?G.ZP.error(W.data.Error.Message):(G.ZP.success("\u5220\u9664\u6210\u529F"),j(void 0),A&&A())}).finally(function(){$(!1)}))},E=function(fe){var W=fe.PriceOffset||0;return W>0?(0,e.jsx)("span",{children:"+".concat((0,c.lb)(W))}):W<0?(0,e.jsx)("span",{children:"-".concat((0,c.lb)(W))}):null};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(st.Z,{title:"\u589E\u503C\u670D\u52A1",open:y!=null,onCancel:function(){return j(void 0)},footer:(0,e.jsxs)(k.Z,{size:2,children:[(0,c.OB)(P.Id)||(0,e.jsx)(m.ZP,{type:"primary",danger:!0,onClick:function(){O(P)},children:"\u5220\u9664"}),(0,e.jsx)(m.ZP,{type:"primary",onClick:function(){X(P)},children:"\u4FDD\u5B58"})]}),children:(0,e.jsx)(_e.Z,{spinning:z,children:(0,e.jsxs)(R.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsx)(R.Z.Item,{label:"\u540D\u79F0",children:(0,e.jsx)(B.Z,{color:"processing",children:Z.Name||"--"})}),(0,e.jsx)(R.Z.Item,{label:"\u540D\u79F0",rules:[{required:!0},{max:20}],children:(0,e.jsx)(v.Z,{value:P.Name||"",onChange:function(fe){j(u()(u()({},y),{},{Name:fe.target.value}))}})}),(0,e.jsx)(R.Z.Item,{label:"\u5DEE\u4EF7",children:(0,e.jsx)(qe.Z,{defaultValue:P.PriceOffset||void 0,onChange:function(fe){j(u()(u()({},y),{},{PriceOffset:fe||void 0}))}})})]})})}),(0,e.jsxs)(k.Z,{wrap:!0,direction:"horizontal",size:2,children:[q.map(function(de,fe){return(0,e.jsx)(B.Z,{color:"blue",style:{cursor:"pointer"},onClick:function(){j(de)},closable:!1,children:(0,e.jsx)(je.Z,{title:void 0,children:(0,e.jsxs)(k.Z,{direction:"horizontal",children:[(0,e.jsx)("span",{children:de.Name}),E(de)]})})},fe)}),(0,e.jsx)(je.Z,{title:"\u6DFB\u52A0\u670D\u52A1\u660E\u7EC6",children:(0,e.jsx)(m.ZP,{icon:(0,e.jsx)($e.Z,{stroke:1}),onClick:function(){j({})}})})]})]})},we=function(Y){var Z=Y.model,A=(0,l.useState)(!0),q=V()(A,2),he=q[0],K=q[1],z=(0,l.useState)([]),$=V()(z,2),ne=$[0],f=$[1],y=(0,l.useState)(void 0),j=V()(y,2),P=j[0],X=j[1],O=P||{},E=(0,l.useState)(!1),de=V()(E,2),fe=de[0],W=de[1],ae=function(){Z.Id&&(K(!0),S.x1.mallAdmin.valueAddedQueryGroupWithItemsByGoodsId({Id:Z.Id}).then(function(ie){ie.data.Error?G.ZP.error(ie.data.Error.Message):f(ie.data.Data||[])}).finally(function(){K(!1)}))},N=function(ie){confirm("\u786E\u5B9A\u5220\u9664\uFF1F")&&(K(!0),S.x1.mallAdmin.valueAddedDeleteGroup({Id:ie.Id}).then(function(J){J.data.Error?G.ZP.error(J.data.Error.Message):(G.ZP.success("\u5220\u9664\u6210\u529F"),ae())}).finally(function(){K(!1)}))};(0,l.useEffect)(function(){ae()},[Z]);var oe=function(ie){W(!0),ie.GoodsId=Z.Id,S.x1.mallAdmin.valueAddedSaveGroup(u()(u()({},ie),{},{GoodsId:Z.Id})).then(function(J){J.data.Error?G.ZP.error(J.data.Error.Message):(G.ZP.success("\u4FDD\u5B58\u6210\u529F"),X(void 0),ae())}).finally(function(){W(!1)})},Ge=[{title:"\u540D\u79F0",render:function(ie,J){return J.Name||"--"}},{title:"\u63CF\u8FF0",render:function(ie,J){return J.Description||"--"}},{title:"\u660E\u7EC6",render:function(ie,J){return(0,e.jsx)(rt,{model:J,ok:function(){ae()}})}},{title:"\u5FC5\u9009\u9879",render:function(ie,J){return(0,e.jsx)(Te.Z,{checked:J.IsRequired})}},{title:"\u591A\u9009\u9879",render:function(ie,J){return(0,e.jsx)(Te.Z,{checked:J.MultipleChoice})}},{title:"\u64CD\u4F5C",render:function(ie,J){return(0,e.jsxs)(m.ZP.Group,{children:[(0,e.jsx)(m.ZP,{type:"link",onClick:function(){X(J)},children:"\u7F16\u8F91"}),(0,e.jsx)(m.ZP,{type:"link",danger:!0,onClick:function(){N(J)},children:"\u5220\u9664"})]})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(st.Z,{title:"\u5206\u7EC4",open:P!=null,onCancel:function(){return X(void 0)},onOk:function(){return oe(O)},children:(0,e.jsx)(_e.Z,{spinning:fe,children:(0,e.jsxs)(R.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsx)(R.Z.Item,{label:"\u540D\u79F0",rules:[{required:!0},{max:20}],children:(0,e.jsx)(v.Z,{value:O.Name||"",onChange:function(ie){X(u()(u()({},P),{},{Name:ie.target.value}))}})}),(0,e.jsx)(R.Z.Item,{label:"\u63CF\u8FF0",children:(0,e.jsx)(v.Z.TextArea,{rows:2,value:O.Description||"",onChange:function(ie){X(u()(u()({},P),{},{Description:ie.target.value}))}})}),(0,e.jsx)(R.Z.Item,{label:"\u5FC5\u9009\u9879",children:(0,e.jsx)(Te.Z,{checked:O.IsRequired,onChange:function(ie){X(u()(u()({},P),{},{IsRequired:ie}))}})}),(0,e.jsx)(R.Z.Item,{label:"\u591A\u9009",children:(0,e.jsx)(Te.Z,{checked:O.MultipleChoice,onChange:function(ie){X(u()(u()({},P),{},{MultipleChoice:ie}))}})})]})})}),(0,e.jsx)(ge.Z,{title:"\u589E\u503C\u670D\u52A1",style:{marginBottom:10},extra:(0,e.jsx)(m.ZP,{type:"primary",onClick:function(){X({})},children:"\u65B0\u589E"}),children:(0,e.jsx)(ft.Z,{rowKey:function(ie){return ie.Id||""},loading:he,columns:Ge,dataSource:ne,pagination:!1})})]})},tt=function(Y){var Z=Y.goodsId,A=Y.ok,q=Y.hide,he=Y.show,K=(0,l.useState)({}),z=V()(K,2),$=z[0],ne=z[1],f=(0,l.useState)("1"),y=V()(f,2),j=y[0],P=y[1],X=(0,c.Wq)($==null?void 0:$.Id),O=(0,ee.Z)(S.x1.mallAdmin.goodsGetById,{manual:!0,onSuccess:function(oe){(0,c._y)(oe,function(){ne(oe.data.Data||{})})}}),E=(0,ee.Z)(S.x1.mallAdmin.goodsSaveGoods,{manual:!0,onSuccess:function(oe){(0,c._y)(oe,function(){G.ZP.success("\u4FDD\u5B58\u6210\u529F"),A&&A(oe.data.Data||{})})}}),de=O.loading||E.loading,fe=function(oe){return X?(0,e.jsx)(ge.Z,{style:{margin:10},children:(0,e.jsx)(it.Z,{message:"\u8BF7\u5148\u4FDD\u5B58\u5546\u54C1\u518D\u7F16\u8F91\u6B64\u6A21\u5757"})}):(0,e.jsx)(e.Fragment,{children:oe})};(0,l.useEffect)(function(){he&&P("1")},[he]);var W=function(){if((0,c.Wq)(Z)){ne({GoodsType:b.CJ.Normal,AfterSalesSupported:!0,CommentSupported:!0,OfflinePaymentSupported:!0,PlaceOrderSupported:!0,Published:!0,StockDeductStrategy:b.bD.AfterPlaceOrder});return}O.run({Id:Z})};(0,l.useEffect)(function(){W()},[Z]);var ae=[{key:"1",label:"\u57FA\u672C\u4FE1\u606F",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ze,{show:he,data:$,ok:function(oe){ne(oe||{})}}),(0,e.jsx)("div",{style:{marginBottom:10},children:(0,e.jsx)(xt,{title:"\u5546\u54C1\u56FE\u7247",skus:$.Skus,data:$.GoodsPictures||[],ok:function(oe){ne(u()(u()({},$),{},{GoodsPictures:oe}))}})})]})},{key:(0,b.tC)()?"":"2",label:"\u89C4\u683C\u660E\u7EC6",children:(0,e.jsx)(e.Fragment,{children:fe((0,e.jsx)(Fe,{model:$,ok:function(){W()}}))})},{key:(0,b.tC)()?"":"3",label:"\u589E\u503C\u670D\u52A1",children:(0,e.jsx)(e.Fragment,{children:fe((0,e.jsx)(we,{model:$,ok:function(){W()}}))})}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(st.Z,{title:"\u7F16\u8F91\u5546\u54C1",forceRender:!0,open:he,destroyOnClose:!0,onCancel:function(){q&&q()},footer:(0,e.jsxs)(k.Z,{children:[(0,e.jsx)(ht.Z,{action:me()(Se()().mark(function N(){var oe;return Se()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,S.x1.mallAdmin.goodsDelete({Id:$.Id});case 2:oe=ce.sent,(0,c._y)(oe,function(){q(),A(u()(u()({},$),{},{IsDeleted:!0}))});case 4:case"end":return ce.stop()}},N)})),hide:(0,c.Wq)($.Id)}),(0,e.jsx)(m.ZP,{type:"primary",onClick:function(){var oe,Ge=u()({},$);Ge.Name=(oe=Ge.Name)===null||oe===void 0?void 0:oe.trim(),!(0,c.Wq)(Ge.Name)&&E.run(u()({},Ge))},children:"\u4FDD\u5B58"})]}),width:"95%",children:(0,e.jsx)(_e.Z,{spinning:de,children:(0,e.jsx)(bt.Z,{activeKey:j,onChange:function(oe){P(oe)},destroyInactiveTabPane:!0,items:ae.filter(function(N){return N.key&&N.key.length>0})})})})})},Ae=function(Y){var Z=Y.query,A=Y.onSearch,q=(0,l.useState)(u()({},Z)),he=V()(q,2),K=he[0],z=he[1],$=function(f){A&&A(u()(u()({},f),{},{Page:1}))};return(0,l.useEffect)(function(){z(u()({},Z))},[Z]),(0,e.jsx)(ge.Z,{bordered:!1,style:{marginBottom:10},children:(0,e.jsx)(R.Z,{labelCol:{span:8},autoComplete:"off",children:(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u5173\u952E\u8BCD",children:(0,e.jsx)(v.Z,{value:K.Keywords||"",onChange:function(f){z(u()(u()({},K),{},{Keywords:f.target.value}))}})})}),(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u4E0A\u4E0B\u67B6",children:(0,e.jsx)(Ze.Z,{allowClear:!0,value:K.IsPublished,onChange:function(f){z(u()(u()({},K),{},{IsPublished:f}))},onClear:function(){z(u()(u()({},K),{},{IsPublished:void 0}))},options:[{value:!0,label:"\u4E0A\u67B6"},{value:!1,label:"\u4E0B\u67B6"}]})})}),(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u54C1\u724C",children:(0,e.jsx)(be.Z,{value:K.BrandId,onChange:function(f){z(u()(u()({},K),{},{BrandId:(f==null?void 0:f.Id)||void 0}))}})})}),(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u5206\u7C7B",children:(0,e.jsx)(Ce.Z,{value:K.CategoryId,onChange:function(f){z(u()(u()({},K),{},{CategoryId:(f==null?void 0:f.Id)||void 0}))}})})}),(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u6807\u7B7E",children:(0,e.jsx)(We,{single_select:!0,value:[K.TagId||""].filter(function(ne){return!(0,c.Wq)(ne)}),onChange:function(f){var y;z(u()(u()({},K),{},{TagId:((y=f.at(0))===null||y===void 0?void 0:y.Id)||void 0}))}})})}),(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u6CA1\u6709\u54C1\u724C",children:(0,e.jsx)(Me.Z,{checked:!!K.WithoutBrand,onChange:function(f){z(u()(u()({},K),{},{WithoutBrand:f.target.checked}))}})})}),(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(R.Z.Item,{label:"\u6CA1\u6709\u5206\u7C7B",children:(0,e.jsx)(Me.Z,{checked:!!K.WithoutCategory,onChange:function(f){z(u()(u()({},K),{},{WithoutCategory:f.target.checked}))}})})}),(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(k.Z,{children:(0,e.jsx)(m.ZP,{type:"primary",htmlType:"submit",onClick:function(){return $(K)},children:"\u641C\u7D22"})})}),(0,e.jsx)(se.Z,{span:6})]})})})},Ke=a(55241),He=a(79059),Re=a(96486),ct=a(64442),pt=function(Y){var Z=Y.goods,A=Y.data,q=Y._data,he=function(){if(Z)return(0,e.jsx)(B.Z,{color:"blue",children:Z.Name||"--"});if(!(0,c.Wq)(A.Id)){var z;return(0,e.jsx)(je.Z,{title:"edit mode",children:(0,e.jsx)(B.Z,{color:"blue",children:((z=A.Goods)===null||z===void 0?void 0:z.Name)||"error : spu not found"})})}return A.Goods!=null?(0,e.jsx)(B.Z,{color:"blue",closable:!0,onClose:function(){q(u()(u()({},A),{},{GoodsId:"",Goods:void 0}))},children:A.Goods.Name||"--"}):(0,e.jsx)(ct.Z,{onChange:function(ne){q(u()(u()({},A),{},{GoodsId:ne==null?void 0:ne.Id,Goods:ne}))}})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ge.Z,{title:"\u57FA\u7840\u4FE1\u606F",children:(0,e.jsxs)(R.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:8,children:(0,e.jsx)(R.Z.Item,{label:"\u57FA\u7840\u5546\u54C1\u4FE1\u606F",tooltip:"known as spu\uFF0C\u4FDD\u5B58\u540E\u4E0D\u53EF\u4EE5\u4FEE\u6539",children:he()})}),(0,e.jsx)(se.Z,{span:8}),(0,e.jsx)(se.Z,{span:8})]}),(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:8,children:(0,e.jsxs)(R.Z.Item,{label:"\u89C4\u683C\u540D\u79F0",required:!0,children:[(0,e.jsx)(v.Z,{required:!0,count:{show:!0,max:20},maxLength:20,value:A.Name||"",onChange:function(z){q(u()(u()({},A),{},{Name:z.target.value}))}}),(0,c.Wq)(A.Name)&&(0,e.jsx)("p",{style:{color:"red"},children:"\u4E0D\u53EF\u7559\u7A7A"})]})}),(0,e.jsx)(se.Z,{span:8,children:(0,e.jsx)(R.Z.Item,{label:"sku\u7F16\u7801",tooltip:"\u901A\u5E38\u662F\u5546\u54C1\u6761\u7801",children:(0,e.jsx)(v.Z,{maxLength:100,value:A.SkuCode||"",onChange:function(z){q(u()(u()({},A),{},{SkuCode:z.target.value}))}})})}),(0,e.jsx)(se.Z,{span:8,children:(0,e.jsx)(R.Z.Item,{label:"\u989C\u8272",children:(0,e.jsx)(Re.Z,{allowClear:!0,value:A.Color,onChange:function(z){q(u()(u()({},A),{},{Color:z.toHex()}))}})})}),(0,e.jsx)(se.Z,{span:16,children:(0,e.jsx)(R.Z.Item,{label:"\u63CF\u8FF0\u4FE1\u606F",children:(0,e.jsx)(v.Z.TextArea,{value:A.Description||"",onChange:function(z){q(u()(u()({},A),{},{Description:z.target.value}))}})})})]}),(0,e.jsx)(De.Z,{gutter:10,children:(0,e.jsx)(se.Z,{span:8,children:(0,e.jsx)(R.Z.Item,{label:"\u91CD\u91CF",tooltip:"kg",children:(0,e.jsx)(qe.Z,{min:0,value:A.Weight||0,onChange:function(z){q(u()(u()({},A),{},{Weight:z||0}))}})})})}),(0,e.jsxs)(De.Z,{gutter:10,children:[(0,e.jsx)(se.Z,{span:8,children:(0,e.jsxs)(R.Z.Item,{label:"\u662F\u5426\u53EF\u7528",children:[(0,e.jsx)(Te.Z,{checked:A.IsActive||!1,onChange:function(z){q(u()(u()({},A),{},{IsActive:z}))}}),A.IsActive||(0,e.jsx)(it.Z,{message:"\u5F53\u524Dsku\u4E0D\u53EF\u4EE5\u9500\u552E"})]})}),(0,e.jsx)(se.Z,{span:8,children:(0,e.jsx)(R.Z.Item,{label:"\u6700\u5C11\u8D2D\u4E70\u6570\u91CF",children:(0,e.jsx)(qe.Z,{min:0,value:A.MinAmountInOnePurchase||0,onChange:function(z){q(u()(u()({},A),{},{MinAmountInOnePurchase:z||0}))}})})}),(0,e.jsx)(se.Z,{span:8,children:(0,e.jsx)(R.Z.Item,{label:"\u6700\u5927\u8D2D\u4E70\u6570\u91CF",children:(0,e.jsx)(qe.Z,{min:0,value:A.MaxAmountInOnePurchase||0,onChange:function(z){q(u()(u()({},A),{},{MaxAmountInOnePurchase:z||0}))}})})})]})]})})})},Ct=a(38295),mt=function(Y){var Z=Y.data,A=Y._data,q=(0,Ct.o)(),he=q.grades||[],K=(0,l.useState)(!1),z=V()(K,2),$=z[0],ne=z[1],f=Z.GradePrices||[],y=he.map(function(O){var E=f.find(function(fe){return fe.GradeId==O.Id});if(E)return u()({},E);var de={GradeId:O.Id,SkuId:Z.Id,PriceOffset:0};return de}),j=function(E){A(u()(u()({},Z),{},{GradePrices:E}))},P=[{title:"\u4F1A\u5458\u7B49\u7EA7",render:function(E){var de;return((de=he.find(function(fe){return fe.Id==E.GradeId}))===null||de===void 0?void 0:de.Name)||"--"}},{title:"\u5DEE\u4EF7",render:function(E,de,fe){return(0,e.jsx)(qe.Z,{value:de.PriceOffset||0,onChange:function(ae){var N=h()(y);N[fe].PriceOffset=ae||0,j(N)}})}}];(0,l.useEffect)(function(){q.queryGrades()},[]);var X=function(){return he.length<=0?(0,e.jsx)(it.Z,{message:"\u672A\u8BBE\u7F6E\u7528\u6237\u7B49\u7EA7"}):(0,e.jsx)(ft.Z,{rowKey:function(de){return de.Id||""},columns:P,dataSource:y,pagination:!1,bordered:!1})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ge.Z,{title:"\u8BBE\u7F6E\u4EF7\u683C",loading:$,children:(0,e.jsxs)(R.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsx)(De.Z,{gutter:10,children:(0,e.jsx)(se.Z,{span:8,children:(0,e.jsx)(R.Z.Item,{label:"\u96F6\u552E\u4EF7",children:(0,e.jsx)(qe.Z,{min:0,value:Z.Price,onChange:function(E){A(u()(u()({},Z),{},{Price:E||0}))}})})})}),(0,e.jsx)(R.Z.Item,{label:"\u4F1A\u5458\u4EF7",children:X()})]})})})},_t=function(Z){return"".concat(Z.SpecId,"=").concat(Z.SpecValueId)},St=function(Y){var Z,A=Y.model,q=Y.ok,he=A.SpecItemList||[],K=(0,ee.Z)(S.x1.mallAdmin.specListJson,{manual:!0}),z=((Z=K.data)===null||Z===void 0||(Z=Z.data)===null||Z===void 0?void 0:Z.Data)||[],$=z.flatMap(function(j){return j.Values||[]}).map(function(j){return{SpecId:j.SpecId,SpecValueId:j.Id}}),ne=function(){A.GoodsId&&K.run({Id:A.GoodsId})},f=function(P){var X=$.map(function(E){return _t(E)}),O=P.filter(function(E){return X.indexOf(_t(E))>=0});q&&q(O)};(0,l.useEffect)(function(){ne()},[]);var y=function(){return K.loading?(0,e.jsx)(_e.Z,{spinning:!0}):(0,c.G5)(z)?(0,e.jsx)(it.Z,{message:"\u8BF7\u5148\u914D\u7F6E\u89C4\u683C"}):(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(k.Z,{direction:"vertical",children:z.map(function(P,X){var O,E=P.Values||[],de=(O=he.find(function(W){return W.SpecId==P.Id}))===null||O===void 0?void 0:O.SpecValueId,fe=E.some(function(W){return W.Id==de});return(0,e.jsx)("div",{style:{marginBottom:10},children:(0,e.jsxs)(k.Z,{direction:"horizontal",children:[(0,e.jsx)("b",{children:P.Name||"--"}),(0,e.jsx)(je.Z,{title:fe?void 0:"\u8BF7\u9009\u62E9\u6709\u6548\u9009\u9879",children:(0,e.jsx)(Ze.Z,{placeholder:"\u8BF7\u9009\u62E9",options:E.map(function(W){return{label:W.Name,value:W.Id}}),allowClear:!0,onClear:function(){f([])},onChange:function(ae){var N=he.filter(function(oe){return oe.SpecId!=P.Id});ae<=0?f(h()(N)):f([].concat(h()(N),[{SpecId:P.Id,SpecValueId:ae}]))},value:fe&&de||void 0,status:fe?void 0:"error",style:{width:300}})})]})},X)})})})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ge.Z,{title:"\u89C4\u683C\u53C2\u6570",children:y()})})},It=function(Y){var Z=Y.data,A=Y._data,q=(0,Ct.o)(),he=q.stores||[],K=Z.StoreGoodsMapping||[],z=he.map(function(f){var y=K.find(function(j){return j.StoreId==f.Id});return y?u()({},y):{StoreId:f.Id,SkuId:Z.Id,StockQuantity:10,Price:0,OverridePrice:!1,Active:!1}}),$=function(y){A(u()(u()({},Z),{},{StoreGoodsMapping:y}))},ne=[{title:"\u95E8\u5E97",render:function(y){var j;return(0,e.jsx)(B.Z,{color:"processing",children:((j=he.find(function(P){return P.Id==y.StoreId}))===null||j===void 0?void 0:j.Name)||"--"})}},{title:"\u5E93\u5B58",render:function(y,j,P){return(0,e.jsx)(qe.Z,{value:j.StockQuantity||0,onChange:function(O){var E=h()(z);E[P].StockQuantity=O||0,$(E)}})}},{title:"\u95E8\u5E97\u5B9A\u4EF7",render:function(y,j,P){return(0,e.jsxs)(k.Z,{direction:"vertical",style:{width:"100%"},children:[(0,e.jsx)(Te.Z,{checked:j.OverridePrice,onChange:function(O){var E=h()(z);E[P].OverridePrice=O,$(E)}}),(0,e.jsx)(qe.Z,{disabled:!j.OverridePrice,value:j.Price||0,onChange:function(O){var E=h()(z);E[P].Price=O||0,$(E)}})]})}},{title:"\u95E8\u5E97\u5728\u552E",render:function(y,j,P){return(0,e.jsx)(Te.Z,{checked:j.Active,onChange:function(O){var E=h()(z);E[P].Active=O,$(E)}})}}];return(0,l.useEffect)(function(){q.queryStores()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(ge.Z,{title:"\u95E8\u5E97\u5728\u552E\uFF0C\u95E8\u5E97\u5E93\u5B58",children:[he.length<=0&&(0,e.jsx)(it.Z,{type:"warning",message:"\u6CA1\u6709\u914D\u7F6E\u95E8\u5E97\uFF0C\u4E0D\u53EF\u4EE5\u5BF9\u5916\u9500\u552E"}),(0,e.jsx)(ft.Z,{columns:ne,dataSource:z,pagination:!1,bordered:!0})]})})},jt=function(Y){var Z=Y.goods,A=Y.skuId,q=Y.show,he=Y.hide,K=Y.ok,z=(0,l.useState)(!1),$=V()(z,2),ne=$[0],f=$[1],y=(0,l.useState)({}),j=V()(y,2),P=j[0],X=j[1];(0,l.useEffect)(function(){q||X({})},[q]);var O=function(W){var ae;if(Z!=null&&(W=u()(u()({},W),{},{Goods:Z,GoodsId:Z.Id})),(0,c.Wq)(W.GoodsId)){G.ZP.error("\u8BF7\u9009\u62E9\u6807\u51C6\u5546\u54C1");return}W.Name=(ae=W.Name)===null||ae===void 0?void 0:ae.trim(),!(0,c.Wq)(W.Name)&&(f(!0),S.x1.mallAdmin.skuSaveSkus(u()({},W)).then(function(N){(0,c._y)(N,function(){G.ZP.success("\u4FDD\u5B58\u6210\u529F"),K&&K(N.data.Data||{})})}).finally(function(){f(!1)}))},E=function(){if((0,c.Wq)(A)){X({Name:"\u9ED8\u8BA4",Price:99999,IsActive:!0});return}f(!0),S.x1.mallAdmin.skuGetById({Id:A}).then(function(W){X(W.data.Data||{})}).finally(function(){f(!1)})};(0,l.useEffect)(function(){E()},[A]);var de=function(W){return(0,c.Wq)(P.Id)?(0,e.jsx)(ge.Z,{style:{margin:10},children:(0,e.jsx)(it.Z,{message:"\u8BF7\u5148\u4FDD\u5B58\u5546\u54C1\u518D\u7F16\u8F91\u6B64\u6A21\u5757"})}):(0,e.jsx)(e.Fragment,{children:W})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(st.Z,{title:"\u5546\u54C1\u660E\u7EC6",width:"95%",open:q,confirmLoading:ne,onCancel:function(){he()},onOk:function(){O(P)},footer:(0,e.jsxs)(k.Z,{children:[(0,e.jsx)(ht.Z,{action:me()(Se()().mark(function fe(){var W;return Se()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,S.x1.mallAdmin.skuDelete({Id:P.Id});case 2:W=N.sent,(0,c._y)(W,function(){he(),K(u()(u()({},P),{},{IsDeleted:!0}))});case 4:case"end":return N.stop()}},fe)})),hide:(0,c.Wq)(P.Id)}),(0,e.jsx)(m.ZP,{type:"primary",onClick:function(){O(P)},children:"\u4FDD\u5B58"})]}),forceRender:!0,destroyOnClose:!0,children:(0,e.jsx)(_e.Z,{spinning:ne,children:(0,e.jsxs)(k.Z,{direction:"vertical",style:{width:"100%"},children:[(0,e.jsx)(pt,{goods:Z,data:P,_data:function(W){X(W||{})}}),de((0,e.jsx)(St,{model:P,ok:function(W){X(u()(u()({},P),{},{SpecItemList:W||[]}))}})),(0,e.jsx)(mt,{data:P,_data:function(W){X(W||{})}}),(0,e.jsx)(It,{data:P,_data:function(W){X(W||{})}})]})})})})},Mt=function(Y){var Z=Y.goods,A=Y.items,q=Y.ok,he=(0,l.useState)(void 0),K=V()(he,2),z=K[0],$=K[1],ne=[{title:"\u540D\u79F0",width:150,fixed:"left",render:function(y,j){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("b",{children:j.Name})}),(0,c.Wq)(j.SkuCode)||(0,e.jsx)(Ke.Z,{content:(0,e.jsx)(He.Z,{value:j.SkuCode||"",style:{height:50}}),title:"SKU",children:(0,e.jsx)("div",{children:(0,e.jsx)(B.Z,{children:"\u7F16\u53F7\uFF1A".concat(j.SkuCode)})})}),(0,c.G5)(j.SpecCombinationErrors)||(0,e.jsx)("div",{style:{color:"red",fontWeight:"lighter"},children:"\u89C4\u683C\u53C2\u6570\u5B58\u5728\u9519\u8BEF"})]})}},{title:"\u4EF7\u683C",render:function(y,j){return(0,e.jsx)("div",{children:(0,e.jsx)(B.Z,{color:"warning",children:(0,e.jsx)("b",{children:(0,c.lb)(j.Price||0)})})})}},{title:"\u72B6\u6001",render:function(y,j){return(0,e.jsxs)(e.Fragment,{children:[j.IsActive&&(0,e.jsx)(w.Z,{status:"success",text:"\u53EF\u7528"}),j.IsActive||(0,e.jsx)(w.Z,{status:"error",text:"\u4E0D\u53EF\u7528"})]})}},{title:"\u5728\u552E\u95E8\u5E97",render:function(y,j){var P,X=(P=j.StoreGoodsMapping)===null||P===void 0?void 0:P.map(function(O){var E;return((E=O.Store)===null||E===void 0?void 0:E.Name)||null}).filter(function(O){return!(0,c.Wq)(O)});return!X||(0,c.G5)(X)?(0,e.jsx)("span",{children:"--"}):(0,e.jsx)(e.Fragment,{children:X.map(function(O,E){return(0,e.jsx)("div",{children:"".concat(E+1,". ").concat(O)},E)})})}},{title:"\u56FE\u7247",render:function(y,j){var P,X=(0,b.zH)(((P=j.GoodsPictures)===null||P===void 0?void 0:P.filter(function(O){return O.SkuId==j.Id}))||[]).map(function(O){return O.StorageMeta||{}});return(0,e.jsx)("div",{style:{maxWidth:300},children:(0,e.jsx)(x.Z,{count:3,data:X})})}},{title:"\u65F6\u95F4",render:function(y,j){return(0,e.jsx)(_.Z,{model:j})}},{title:"\u8BE6\u60C5",render:function(y,j){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(m.ZP,{type:"link",onClick:function(){$(j.Id||void 0)},children:"\u7F16\u8F91"})})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(jt,{goods:Z,show:z!=null,skuId:z||"",hide:function(){$(void 0),q()},ok:function(){$(void 0),q()}}),(0,e.jsx)(g.Z,{headerTitle:"\u89C4\u5219\u660E\u7EC6",toolBarRender:function(){return[(0,e.jsx)(m.ZP,{type:"link",onClick:function(){$("")},children:"\u6DFB\u52A0sku"})]},bordered:!0,search:!1,options:!1,rowKey:function(y){return y.Id||""},columns:ne,dataSource:A,pagination:!1})]})},Dt=function(){var Y,Z=(0,ee.Z)(S.x1.mallAdmin.goodsQueryGoodsPaging,{manual:!0,onSuccess:function(N,oe){(0,c._y)(N,function(){})}}),A=((Y=Z.data)===null||Y===void 0?void 0:Y.data)||{},q=A.Items||[],he=Z.loading,K=(0,l.useState)({Page:1}),z=V()(K,2),$=z[0],ne=z[1],f=(0,l.useState)(void 0),y=V()(f,2),j=y[0],P=y[1],X=(0,l.useState)([]),O=V()(X,2),E=O[0],de=O[1],fe=[{title:"\u540D\u79F0",render:function(N,oe){var Ge;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("a",{href:"/sales/goods/".concat(oe.Id),target:"blank",children:oe.Name})}),(0,e.jsx)("div",{children:(Ge=oe.Skus)===null||Ge===void 0?void 0:Ge.map(function(ce){return ce.Name}).join(",")})]})}},{title:"\u57FA\u7840\u4FE1\u606F",render:function(N,oe){var Ge,ce;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{children:["\u54C1\u724C:",((Ge=oe.Brand)===null||Ge===void 0?void 0:Ge.Name)||"--"]}),(0,e.jsxs)("div",{children:["\u5206\u7C7B:",((ce=oe.Category)===null||ce===void 0?void 0:ce.Name)||"--"]})]})}},{title:"\u6807\u8BB0",render:function(N,oe){return(0,e.jsx)(k.Z,{direction:"vertical",children:oe.StickyTop&&(0,e.jsx)(B.Z,{color:"red",children:"\u7F6E\u9876"})})}},{title:"\u72B6\u6001",render:function(N,oe){return(0,e.jsxs)(e.Fragment,{children:[oe.Published&&(0,e.jsx)(w.Z,{status:"success",text:"\u53EF\u7528"}),oe.Published||(0,e.jsx)(w.Z,{status:"error",text:"\u4E0D\u53EF\u7528"})]})}},{title:"\u56FE\u7247",render:function(N,oe){var Ge=(0,b.zH)(oe.GoodsPictures||[]).map(function(ce){return ce.StorageMeta||{}});return(0,e.jsx)("div",{style:{maxWidth:300},children:(0,e.jsx)(x.Z,{count:3,data:Ge})})}},{title:"\u65F6\u95F4",render:function(N,oe){return(0,e.jsx)(_.Z,{model:oe})}},{title:"\u64CD\u4F5C",width:150,fixed:"right",render:function(N,oe){return(0,e.jsx)(m.ZP.Group,{children:(0,e.jsx)(m.ZP,{type:"link",onClick:function(){P(oe.Id||void 0)},children:"\u7F16\u8F91"})})}}];(0,l.useEffect)(function(){Z.run($)},[]);var W=function(){return q.length<=0?null:E.length>0?(0,e.jsx)(m.ZP,{type:"link",onClick:function(){de([])},children:"\u9690\u85CF\u6240\u6709sku"}):(0,e.jsx)(m.ZP,{type:"link",onClick:function(){var oe;de(((oe=A.Items)===null||oe===void 0?void 0:oe.map(function(Ge){return Ge.Id||""}))||[])},children:"\u5C55\u5F00\u6240\u6709sku"})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(tt,{goodsId:j,show:j!=null,hide:function(){P(void 0),Z.run($)},ok:function(N){console.log(N),P(void 0),Z.run($)}}),(0,e.jsx)(Ae,{query:$,onSearch:function(N){Z.mutate(),ne(N),Z.run(N)}}),(0,e.jsx)(g.Z,{toolBarRender:function(){return[(0,b.tC)()||(0,e.jsx)(m.ZP,{type:"dashed",icon:(0,e.jsx)(F,{stroke:1}),onClick:function(){I.m8.push({pathname:"/admin/catalog/import-skus"})},children:"\u5BFC\u5165\u5546\u54C1"}),(0,e.jsx)(m.ZP,{style:{visibility:(0,b.tC)()?"hidden":"visible"},type:"dashed",onClick:function(){I.m8.push({pathname:"/admin/catalog/sku-batch-update-price"})},children:"\u6279\u91CF\u4FEE\u6539\u4EF7\u683C"}),W(),(0,e.jsx)(m.ZP,{type:"primary",onClick:function(){P("")},children:"\u65B0\u589E"})]},rowKey:function(N){return N.Id||""},loading:he,columns:fe,options:!1,search:!1,dataSource:q,expandable:{expandedRowKeys:E,onExpandedRowsChange:function(N){de(N)},expandedRowRender:function(N){return(0,e.jsx)("div",{style:{padding:10,border:"5px dashed orange"},children:(0,e.jsx)(Mt,{goods:N,items:N.Skus||[],ok:function(){Z.run($)}})})}},pagination:{showSizeChanger:!1,pageSize:20,current:$.Page,total:A.TotalCount,onChange:function(N){Z.mutate();var oe=u()(u()({},$),{},{Page:N});ne(oe),Z.run(oe)}}})]})}},55793:function(Ee,te,a){"use strict";a.d(te,{MU:function(){return m},Or:function(){return l},jP:function(){return I},ku:function(){return b},yE:function(){return _}});var M=a(17061),u=a.n(M),pe=a(17156),V=a.n(pe),ee=a(76857),k=a(42838),B=a(98005),w=a.n(B),m=function(){return["jpg","jpeg","png","gif"]},l=function(g){var L,F=((L=(0,k.mD)(g))===null||L===void 0?void 0:L.toLowerCase())||"";return m().indexOf(F)>=0},x=function(g,L,F,re){return new Promise(function(Se,Q){var me=new(w())(g,{maxHeight:L,maxWidth:F,quality:re,success:function(ge){Se(ge)},error:function(ge){Q(ge)}});console.log(me)})},_=function(){var c=V()(u()().mark(function g(L,F){var re,Se,Q,me;return u()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:if(!(L.size<=F)){ge.next=2;break}return ge.abrupt("return",L);case 2:return ge.next=4,x(L,void 0,void 0,.9);case 4:if(L=ge.sent,!(L.size<=F)){ge.next=7;break}return ge.abrupt("return",L);case 7:re=5,Se=300,Q=1e3,me=0;case 11:if(!(++me<=re)){ge.next=22;break}return ge.next=14,x(L,Q,Q,1);case 14:if(L=ge.sent,!(L.size<=F)){ge.next=17;break}return ge.abrupt("return",L);case 17:if(Q-=Se,!(Q<=0)){ge.next=20;break}return ge.abrupt("break",22);case 20:ge.next=11;break;case 22:return ge.abrupt("return",L);case 23:case"end":return ge.stop()}},g)}));return function(L,F){return c.apply(this,arguments)}}(),b=function(){var c=V()(u()().mark(function g(L){var F,re;return u()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,S([L]);case 2:if(F=Q.sent,re=F.at(0),re){Q.next=6;break}throw new Error("response error");case 6:return Q.abrupt("return",re);case 7:case"end":return Q.stop()}},g)}));return function(L){return c.apply(this,arguments)}}(),S=function(){var c=V()(u()().mark(function g(L){var F,re;return u()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return F=new FormData,L.forEach(function(me,G){F.append("formFileCollection",me,me.name)}),Q.next=4,ee.M.post("/api/platform/storage/upload",F);case 4:if(re=Q.sent,!re.data.Error){Q.next=7;break}throw new Error(re.data.Error.Message||"upload error");case 7:return Q.abrupt("return",re.data.Data||[]);case 8:case"end":return Q.stop()}},g)}));return function(L){return c.apply(this,arguments)}}(),I=function(g){return new Promise(function(L,F){var re=new FileReader;re.onload=function(){L(re.result)},re.onerror=function(Se){F(Se)},re.readAsDataURL(g)})}},85980:function(Ee,te,a){"use strict";var M=a(97582),u=a(23279),pe=a.n(u),V=a(67294),ee=a(3930),k=a(45210),B=a(92770),w=a(31663);function m(l,x){var _;w.Z&&((0,B.mf)(l)||console.error("useDebounceFn expected parameter is a function, got ".concat(typeof l)));var b=(0,ee.Z)(l),S=(_=x==null?void 0:x.wait)!==null&&_!==void 0?_:1e3,I=(0,V.useMemo)(function(){return pe()(function(){for(var c=[],g=0;g<arguments.length;g++)c[g]=arguments[g];return b.current.apply(b,(0,M.ev)([],(0,M.CR)(c),!1))},S,x)},[]);return(0,k.Z)(function(){I.cancel()}),{run:I,cancel:I.cancel,flush:I.flush}}te.Z=m},98005:function(Ee){(function(te,a){Ee.exports=a()})(this,function(){"use strict";function te(U,C){var h=Object.keys(U);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(U);C&&(p=p.filter(function(T){return Object.getOwnPropertyDescriptor(U,T).enumerable})),h.push.apply(h,p)}return h}function a(U){for(var C=1;C<arguments.length;C++){var h=arguments[C]!=null?arguments[C]:{};C%2?te(Object(h),!0).forEach(function(p){V(U,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(h)):te(Object(h)).forEach(function(p){Object.defineProperty(U,p,Object.getOwnPropertyDescriptor(h,p))})}return U}function M(U,C){if(!(U instanceof C))throw new TypeError("Cannot call a class as a function")}function u(U,C){for(var h=0;h<C.length;h++){var p=C[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(U,B(p.key),p)}}function pe(U,C,h){return C&&u(U.prototype,C),h&&u(U,h),Object.defineProperty(U,"prototype",{writable:!1}),U}function V(U,C,h){return C=B(C),C in U?Object.defineProperty(U,C,{value:h,enumerable:!0,configurable:!0,writable:!0}):U[C]=h,U}function ee(){return ee=Object.assign?Object.assign.bind():function(U){for(var C=1;C<arguments.length;C++){var h=arguments[C];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(U[p]=h[p])}return U},ee.apply(this,arguments)}function k(U,C){if(typeof U!="object"||U===null)return U;var h=U[Symbol.toPrimitive];if(h!==void 0){var p=h.call(U,C||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(U)}function B(U){var C=k(U,"string");return typeof C=="symbol"?C:String(C)}var w={exports:{}};(function(U){typeof window!="undefined"&&function(C){var h=C.HTMLCanvasElement&&C.HTMLCanvasElement.prototype,p=C.Blob&&function(){try{return!!new Blob}catch(Ce){return!1}}(),T=p&&C.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(Ce){return!1}}(),e=C.BlobBuilder||C.WebKitBlobBuilder||C.MozBlobBuilder||C.MSBlobBuilder,Pe=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,be=(p||e)&&C.atob&&C.ArrayBuffer&&C.Uint8Array&&function(Ce){var xe,Ze,Me,We,Oe,ue,ze,je,ut;if(xe=Ce.match(Pe),!xe)throw new Error("invalid data URI");for(Ze=xe[2]?xe[1]:"text/plain"+(xe[3]||";charset=US-ASCII"),Me=!!xe[4],We=Ce.slice(xe[0].length),Me?Oe=atob(We):Oe=decodeURIComponent(We),ue=new ArrayBuffer(Oe.length),ze=new Uint8Array(ue),je=0;je<Oe.length;je+=1)ze[je]=Oe.charCodeAt(je);return p?new Blob([T?ze:ue],{type:Ze}):(ut=new e,ut.append(ue),ut.getBlob(Ze))};C.HTMLCanvasElement&&!h.toBlob&&(h.mozGetAsFile?h.toBlob=function(Ce,xe,Ze){var Me=this;setTimeout(function(){Ze&&h.toDataURL&&be?Ce(be(Me.toDataURL(xe,Ze))):Ce(Me.mozGetAsFile("blob",xe))})}:h.toDataURL&&be&&(h.msToBlob?h.toBlob=function(Ce,xe,Ze){var Me=this;setTimeout(function(){(xe&&xe!=="image/png"||Ze)&&h.toDataURL&&be?Ce(be(Me.toDataURL(xe,Ze))):Ce(Me.msToBlob(xe))})}:h.toBlob=function(Ce,xe,Ze){var Me=this;setTimeout(function(){Ce(be(Me.toDataURL(xe,Ze)))})})),U.exports?U.exports=be:C.dataURLtoBlob=be}(window)})(w);var m=w.exports,l=function(C){return typeof Blob=="undefined"?!1:C instanceof Blob||Object.prototype.toString.call(C)==="[object Blob]"},x={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},_=typeof window!="undefined"&&typeof window.document!="undefined",b=_?window:{},S=function(C){return C>0&&C<1/0},I=Array.prototype.slice;function c(U){return Array.from?Array.from(U):I.call(U)}var g=/^image\/.+$/;function L(U){return g.test(U)}function F(U){var C=L(U)?U.substr(6):"";return C==="jpeg"&&(C="jpg"),".".concat(C)}var re=String.fromCharCode;function Se(U,C,h){var p="",T;for(h+=C,T=C;T<h;T+=1)p+=re(U.getUint8(T));return p}var Q=b.btoa;function me(U,C){for(var h=[],p=8192,T=new Uint8Array(U);T.length>0;)h.push(re.apply(null,c(T.subarray(0,p)))),T=T.subarray(p);return"data:".concat(C,";base64,").concat(Q(h.join("")))}function G(U){var C=new DataView(U),h;try{var p,T,e;if(C.getUint8(0)===255&&C.getUint8(1)===216)for(var Pe=C.byteLength,be=2;be+1<Pe;){if(C.getUint8(be)===255&&C.getUint8(be+1)===225){T=be;break}be+=1}if(T){var Ce=T+4,xe=T+10;if(Se(C,Ce,4)==="Exif"){var Ze=C.getUint16(xe);if(p=Ze===18761,(p||Ze===19789)&&C.getUint16(xe+2,p)===42){var Me=C.getUint32(xe+4,p);Me>=8&&(e=xe+Me)}}}if(e){var We=C.getUint16(e,p),Oe,ue;for(ue=0;ue<We;ue+=1)if(Oe=e+ue*12+2,C.getUint16(Oe,p)===274){Oe+=8,h=C.getUint16(Oe,p),C.setUint16(Oe,1,p);break}}}catch(ze){h=1}return h}function ge(U){var C=0,h=1,p=1;switch(U){case 2:h=-1;break;case 3:C=-180;break;case 4:p=-1;break;case 5:C=90,p=-1;break;case 6:C=90;break;case 7:C=90,h=-1;break;case 8:C=-90;break}return{rotate:C,scaleX:h,scaleY:p}}var it=/\.\d*(?:0|9){12}\d*$/;function st(U){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return it.test(U)?Math.round(U*C)/C:U}function _e(U){var C=U.aspectRatio,h=U.height,p=U.width,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",e=S(p),Pe=S(h);if(e&&Pe){var be=h*C;(T==="contain"||T==="none")&&be>p||T==="cover"&&be<p?h=p/C:p=h*C}else e?h=p/C:Pe&&(p=h*C);return{width:p,height:h}}function bt(U){for(var C=c(new Uint8Array(U)),h=C.length,p=[],T=0;T+3<h;){var e=C[T],Pe=C[T+1];if(e===255&&Pe===218)break;if(e===255&&Pe===216)T+=2;else{var be=C[T+2]*256+C[T+3],Ce=T+be+2,xe=C.slice(T,Ce);p.push(xe),T=Ce}}return p.reduce(function(Ze,Me){return Me[0]===255&&Me[1]===225?Ze.concat(Me):Ze},[])}function ht(U,C){var h=c(new Uint8Array(U));if(h[2]!==255||h[3]!==224)return U;var p=h[4]*256+h[5],T=[255,216].concat(C,h.slice(4+p));return new Uint8Array(T)}var De=b.ArrayBuffer,se=b.FileReader,R=b.URL||b.webkitURL,Te=/\.\w+$/,v=b.Compressor,nt=function(){function U(C,h){M(this,U),this.file=C,this.exif=[],this.image=new Image,this.options=a(a({},x),h),this.aborted=!1,this.result=null,this.init()}return pe(U,[{key:"init",value:function(){var h=this,p=this.file,T=this.options;if(!l(p)){this.fail(new Error("The first argument must be a File or Blob object."));return}var e=p.type;if(!L(e)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!R||!se){this.fail(new Error("The current browser does not support image compression."));return}De||(T.checkOrientation=!1,T.retainExif=!1);var Pe=e==="image/jpeg",be=Pe&&T.checkOrientation,Ce=Pe&&T.retainExif;if(R&&!be&&!Ce)this.load({url:R.createObjectURL(p)});else{var xe=new se;this.reader=xe,xe.onload=function(Ze){var Me=Ze.target,We=Me.result,Oe={},ue=1;be&&(ue=G(We),ue>1&&ee(Oe,ge(ue))),Ce&&(h.exif=bt(We)),be||Ce?!R||ue>1?Oe.url=me(We,e):Oe.url=R.createObjectURL(p):Oe.url=We,h.load(Oe)},xe.onabort=function(){h.fail(new Error("Aborted to read the image with FileReader."))},xe.onerror=function(){h.fail(new Error("Failed to read the image with FileReader."))},xe.onloadend=function(){h.reader=null},be||Ce?xe.readAsArrayBuffer(p):xe.readAsDataURL(p)}}},{key:"load",value:function(h){var p=this,T=this.file,e=this.image;e.onload=function(){p.draw(a(a({},h),{},{naturalWidth:e.naturalWidth,naturalHeight:e.naturalHeight}))},e.onabort=function(){p.fail(new Error("Aborted to load the image."))},e.onerror=function(){p.fail(new Error("Failed to load the image."))},b.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(b.navigator.userAgent)&&(e.crossOrigin="anonymous"),e.alt=T.name,e.src=h.url}},{key:"draw",value:function(h){var p=this,T=h.naturalWidth,e=h.naturalHeight,Pe=h.rotate,be=Pe===void 0?0:Pe,Ce=h.scaleX,xe=Ce===void 0?1:Ce,Ze=h.scaleY,Me=Ze===void 0?1:Ze,We=this.file,Oe=this.image,ue=this.options,ze=document.createElement("canvas"),je=ze.getContext("2d"),ut=Math.abs(be)%180===90,Xe=(ue.resize==="contain"||ue.resize==="cover")&&S(ue.width)&&S(ue.height),Ie=Math.max(ue.maxWidth,0)||1/0,dt=Math.max(ue.maxHeight,0)||1/0,ot=Math.max(ue.minWidth,0)||0,ke=Math.max(ue.minHeight,0)||0,lt=T/e,Le=ue.width,Ne=ue.height;if(ut){var xt=[dt,Ie];Ie=xt[0],dt=xt[1];var ft=[ke,ot];ot=ft[0],ke=ft[1];var qe=[Ne,Le];Le=qe[0],Ne=qe[1]}Xe&&(lt=Le/Ne);var Et=_e({aspectRatio:lt,width:Ie,height:dt},"contain");Ie=Et.width,dt=Et.height;var $e=_e({aspectRatio:lt,width:ot,height:ke},"cover");if(ot=$e.width,ke=$e.height,Xe){var et=_e({aspectRatio:lt,width:Le,height:Ne},ue.resize);Le=et.width,Ne=et.height}else{var Fe=_e({aspectRatio:lt,width:Le,height:Ne}),rt=Fe.width;Le=rt===void 0?T:rt;var we=Fe.height;Ne=we===void 0?e:we}Le=Math.floor(st(Math.min(Math.max(Le,ot),Ie))),Ne=Math.floor(st(Math.min(Math.max(Ne,ke),dt)));var tt=-Le/2,Ae=-Ne/2,Ke=Le,He=Ne,Re=[];if(Xe){var ct=0,pt=0,Ct=T,mt=e,_t=_e({aspectRatio:lt,width:T,height:e},{contain:"cover",cover:"contain"}[ue.resize]);Ct=_t.width,mt=_t.height,ct=(T-Ct)/2,pt=(e-mt)/2,Re.push(ct,pt,Ct,mt)}if(Re.push(tt,Ae,Ke,He),ut){var St=[Ne,Le];Le=St[0],Ne=St[1]}ze.width=Le,ze.height=Ne,L(ue.mimeType)||(ue.mimeType=We.type);var It="transparent";We.size>ue.convertSize&&ue.convertTypes.indexOf(ue.mimeType)>=0&&(ue.mimeType="image/jpeg");var jt=ue.mimeType==="image/jpeg";if(jt&&(It="#fff"),je.fillStyle=It,je.fillRect(0,0,Le,Ne),ue.beforeDraw&&ue.beforeDraw.call(this,je,ze),!this.aborted&&(je.save(),je.translate(Le/2,Ne/2),je.rotate(be*Math.PI/180),je.scale(xe,Me),je.drawImage.apply(je,[Oe].concat(Re)),je.restore(),ue.drew&&ue.drew.call(this,je,ze),!this.aborted)){var Mt=function(Y){if(!p.aborted){var Z=function(K){return p.done({naturalWidth:T,naturalHeight:e,result:K})};if(Y&&jt&&ue.retainExif&&p.exif&&p.exif.length>0){var A=function(K){return Z(m(me(ht(K,p.exif),ue.mimeType)))};if(Y.arrayBuffer)Y.arrayBuffer().then(A).catch(function(){p.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var q=new se;p.reader=q,q.onload=function(he){var K=he.target;A(K.result)},q.onabort=function(){p.fail(new Error("Aborted to read the compressed image with FileReader."))},q.onerror=function(){p.fail(new Error("Failed to read the compressed image with FileReader."))},q.onloadend=function(){p.reader=null},q.readAsArrayBuffer(Y)}}else Z(Y)}};ze.toBlob?ze.toBlob(Mt,ue.mimeType,ue.quality):Mt(m(ze.toDataURL(ue.mimeType,ue.quality)))}}},{key:"done",value:function(h){var p=h.naturalWidth,T=h.naturalHeight,e=h.result,Pe=this.file,be=this.image,Ce=this.options;if(R&&be.src.indexOf("blob:")===0&&R.revokeObjectURL(be.src),e)if(Ce.strict&&!Ce.retainExif&&e.size>Pe.size&&Ce.mimeType===Pe.type&&!(Ce.width>p||Ce.height>T||Ce.minWidth>p||Ce.minHeight>T||Ce.maxWidth<p||Ce.maxHeight<T))e=Pe;else{var xe=new Date;e.lastModified=xe.getTime(),e.lastModifiedDate=xe,e.name=Pe.name,e.name&&e.type!==Pe.type&&(e.name=e.name.replace(Te,F(e.type)))}else e=Pe;this.result=e,Ce.success&&Ce.success.call(this,e)}},{key:"fail",value:function(h){var p=this.options;if(p.error)p.error.call(this,h);else throw h}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=v,U}},{key:"setDefaults",value:function(h){ee(x,h)}}]),U}();return nt})},26729:function(Ee){"use strict";var te=Object.prototype.hasOwnProperty,a="~";function M(){}Object.create&&(M.prototype=Object.create(null),new M().__proto__||(a=!1));function u(k,B,w){this.fn=k,this.context=B,this.once=w||!1}function pe(k,B,w,m,l){if(typeof w!="function")throw new TypeError("The listener must be a function");var x=new u(w,m||k,l),_=a?a+B:B;return k._events[_]?k._events[_].fn?k._events[_]=[k._events[_],x]:k._events[_].push(x):(k._events[_]=x,k._eventsCount++),k}function V(k,B){--k._eventsCount===0?k._events=new M:delete k._events[B]}function ee(){this._events=new M,this._eventsCount=0}ee.prototype.eventNames=function(){var B=[],w,m;if(this._eventsCount===0)return B;for(m in w=this._events)te.call(w,m)&&B.push(a?m.slice(1):m);return Object.getOwnPropertySymbols?B.concat(Object.getOwnPropertySymbols(w)):B},ee.prototype.listeners=function(B){var w=a?a+B:B,m=this._events[w];if(!m)return[];if(m.fn)return[m.fn];for(var l=0,x=m.length,_=new Array(x);l<x;l++)_[l]=m[l].fn;return _},ee.prototype.listenerCount=function(B){var w=a?a+B:B,m=this._events[w];return m?m.fn?1:m.length:0},ee.prototype.emit=function(B,w,m,l,x,_){var b=a?a+B:B;if(!this._events[b])return!1;var S=this._events[b],I=arguments.length,c,g;if(S.fn){switch(S.once&&this.removeListener(B,S.fn,void 0,!0),I){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,w),!0;case 3:return S.fn.call(S.context,w,m),!0;case 4:return S.fn.call(S.context,w,m,l),!0;case 5:return S.fn.call(S.context,w,m,l,x),!0;case 6:return S.fn.call(S.context,w,m,l,x,_),!0}for(g=1,c=new Array(I-1);g<I;g++)c[g-1]=arguments[g];S.fn.apply(S.context,c)}else{var L=S.length,F;for(g=0;g<L;g++)switch(S[g].once&&this.removeListener(B,S[g].fn,void 0,!0),I){case 1:S[g].fn.call(S[g].context);break;case 2:S[g].fn.call(S[g].context,w);break;case 3:S[g].fn.call(S[g].context,w,m);break;case 4:S[g].fn.call(S[g].context,w,m,l);break;default:if(!c)for(F=1,c=new Array(I-1);F<I;F++)c[F-1]=arguments[F];S[g].fn.apply(S[g].context,c)}}return!0},ee.prototype.on=function(B,w,m){return pe(this,B,w,m,!1)},ee.prototype.once=function(B,w,m){return pe(this,B,w,m,!0)},ee.prototype.removeListener=function(B,w,m,l){var x=a?a+B:B;if(!this._events[x])return this;if(!w)return V(this,x),this;var _=this._events[x];if(_.fn)_.fn===w&&(!l||_.once)&&(!m||_.context===m)&&V(this,x);else{for(var b=0,S=[],I=_.length;b<I;b++)(_[b].fn!==w||l&&!_[b].once||m&&_[b].context!==m)&&S.push(_[b]);S.length?this._events[x]=S.length===1?S[0]:S:V(this,x)}return this},ee.prototype.removeAllListeners=function(B){var w;return B?(w=a?a+B:B,this._events[w]&&V(this,w)):(this._events=new M,this._eventsCount=0),this},ee.prototype.off=ee.prototype.removeListener,ee.prototype.addListener=ee.prototype.on,ee.prefixed=a,ee.EventEmitter=ee,Ee.exports=ee},46347:function(Ee,te,a){"use strict";a.d(te,{k:function(){return u}});var M=a(67294);function u(pe={}){const{strict:V=!0,errorMessage:ee="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:k}=pe,B=M.createContext(void 0);B.displayName=k;function w(){var m;const l=M.useContext(B);if(!l&&V){const x=new Error(ee);throw x.name="ContextError",(m=Error.captureStackTrace)==null||m.call(Error,x,w),x}return l}return[B.Provider,w,B]}},33295:function(Ee,te,a){"use strict";a.d(te,{fg:function(){return l},gy:function(){return _}});var M=a(67294);function u(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var pe=u();function V(c){const{userAgent:g,vendor:L}=c,F=/(android)/i.test(g);switch(!0){case/CriOS/.test(g):return"Chrome for iOS";case/Edg\//.test(g):return"Edge";case(F&&/Silk\//.test(g)):return"Silk";case(/Chrome/.test(g)&&/Google Inc/.test(L)):return"Chrome";case/Firefox\/\d+\.\d+$/.test(g):return"Firefox";case F:return"AOSP";case/MSIE|Trident/.test(g):return"IE";case(/Safari/.test(c.userAgent)&&/Apple Computer/.test(g)):return"Safari";case/AppleWebKit/.test(g):return"WebKit";default:return null}}function ee(c){const{userAgent:g,platform:L}=c;switch(!0){case/Android/.test(g):return"Android";case/iPhone|iPad|iPod/.test(L):return"iOS";case/Win/.test(L):return"Windows";case/Mac/.test(L):return"Mac";case/CrOS/.test(g):return"Chrome OS";case/Firefox/.test(g):return"Firefox OS";default:return null}}function k(c){const{userAgent:g}=c;return/(tablet)|(iPad)|(Nexus 9)/i.test(g)?"tablet":/(mobi)/i.test(g)?"phone":"desktop"}function B(c){return pe?ee(window.navigator)===c:!1}function w(c){return pe?V(window.navigator)===c:!1}function m(){return pe?window.ontouchstart===null&&window.ontouchmove===null&&window.ontouchend===null:!1}function l(c){return{UNSAFE_getDOMNode(){return c.current}}}function x(c,g=c){return Ut(wt({},l(c)),{focus(){g.current&&g.current.focus()}})}function _(c){const g=(0,M.useRef)(null);return(0,M.useImperativeHandle)(c,()=>g.current),g}function b(c,g){const L=useRef(null);return useImperativeHandle(c,()=>x(L,g)),L}function S(c,g){useLayoutEffect(()=>{if(c&&c.ref&&g&&g.current)return c.ref.current=g.current,()=>{var L;(L=c.ref)!=null&&L.current&&(c.ref.current=null)}},[c,g])}function I(c,g){return c&&g&&c.x<g.x+g.width&&c.x+c.width>g.x&&c.y<g.y+g.height&&c.y+c.height>g.y}},50262:function(Ee,te,a){"use strict";a.d(te,{PB:function(){return m},Ts:function(){return M},mf:function(){return w},xb:function(){return B}});var M=!1,u=null;function pe(x){return Array.isArray(x)}function V(x){return pe(x)&&x.length===0}function ee(x){const _=typeof x;return x!=null&&(_==="object"||_==="function")&&!pe(x)}function k(x){return ee(x)&&Object.keys(x).length===0}function B(x){return pe(x)?V(x):ee(x)?k(x):x==null||x===""}function w(x){return typeof x=="function"}var m=x=>x?"true":void 0,l=x=>x!=null&&parseInt(x.toString(),10)>0},76733:function(Ee,te,a){"use strict";a.d(te,{a:function(){return u},w:function(){return pe}});var M=a(46347),[u,pe]=(0,M.k)({name:"ProviderContext",strict:!1})},93387:function(Ee,te,a){"use strict";a.d(te,{G:function(){return u}});var M=a(67294),u=globalThis!=null&&globalThis.document?M.useLayoutEffect:M.useEffect},33733:function(Ee,te,a){"use strict";a.d(te,{Z:function(){return pe}});var M=a(67294);var u={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const pe=(V,ee,k,B)=>{const w=(0,M.forwardRef)((g,c)=>{var L=g,{color:m="currentColor",size:l=24,stroke:x=2,title:_,className:b,children:S}=L,I=Wt(L,["color","size","stroke","title","className","children"]);return(0,M.createElement)("svg",wt(wt(Ut(wt({ref:c},u[V]),{width:l,height:l,className:["tabler-icon",`tabler-icon-${ee}`,b].join(" ")}),V==="filled"?{fill:m}:{strokeWidth:x,stroke:m}),I),[_&&(0,M.createElement)("title",{key:"svg-title"},_),...B.map(([F,re])=>(0,M.createElement)(F,re)),...Array.isArray(S)?S:[S]])});return w.displayName=`${k}`,w}},70278:function(Ee,te,a){"use strict";a.d(te,{Z:function(){return u}});var M=a(33733);var u=(0,M.Z)("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]])},77953:function(Ee,te,a){"use strict";a.d(te,{Z:function(){return S}});var M=a(74073),u=a(16423);function pe(I,c){for(var g=-1,L=c.length,F=Array(L),re=I==null;++g<L;)F[g]=re?void 0:(0,u.Z)(I,c[g]);return F}var V=pe,ee=a(49344),k=a(56009),B=Array.prototype,w=B.splice;function m(I,c){for(var g=I?c.length:0,L=g-1;g--;){var F=c[g];if(g==L||F!==re){var re=F;(0,k.Z)(F)?w.call(I,F,1):(0,ee.Z)(I,F)}}return I}var l=m,x=a(97109),_=a(94008),b=(0,_.Z)(function(I,c){var g=I==null?0:I.length,L=V(I,c);return l(I,(0,M.Z)(c,function(F){return(0,k.Z)(F,g)?+F:F}).sort(x.Z)),L}),S=b}}]);
}());