!(function(){var zt=Object.defineProperty,$t=Object.defineProperties;var Qt=Object.getOwnPropertyDescriptors;var Ot=Object.getOwnPropertySymbols;var Ft=Object.prototype.hasOwnProperty,Wt=Object.prototype.propertyIsEnumerable;var Lt=(ye,G,n)=>G in ye?zt(ye,G,{enumerable:!0,configurable:!0,writable:!0,value:n}):ye[G]=n,mt=(ye,G)=>{for(var n in G||(G={}))Ft.call(G,n)&&Lt(ye,n,G[n]);if(Ot)for(var n of Ot(G))Wt.call(G,n)&&Lt(ye,n,G[n]);return ye},It=(ye,G)=>$t(ye,Qt(G));var Rt=(ye,G)=>{var n={};for(var y in ye)Ft.call(ye,y)&&G.indexOf(y)<0&&(n[y]=ye[y]);if(ye!=null&&Ot)for(var y of Ot(ye))G.indexOf(y)<0&&Wt.call(ye,y)&&(n[y]=ye[y]);return n};(self.webpackChunk=self.webpackChunk||[]).push([[7913],{97321:function(ye,G,n){"use strict";n.d(G,{Z:function(){return H}});var y=n(4942),l=n(1413),ie=n(45987),w=n(97685),F=n(21770),M=n(28459),Z=n(7134),x=n(93967),f=n.n(x),s=n(67294),_=n(80171),j=n(74902),b=n(21687),I=n(90814),E=n(98082),c=n(10915),m=n(97435),A=n(11568),S=function(v){return{backgroundColor:v.colorPrimaryBg,borderColor:v.colorPrimary}},$=function(v){return(0,y.Z)({backgroundColor:v.colorBgContainerDisabled,borderColor:v.colorBorder,cursor:"not-allowed"},v.componentCls,{"&-description":{color:v.colorTextDisabled},"&-title":{color:v.colorTextDisabled},"&-avatar":{opacity:"0.25"}})},je=new A.E4("card-loading",{"0%":{backgroundPosition:"0 50%"},"50%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),K=function(v){var rt;return(0,y.Z)({},v.componentCls,(rt={position:"relative",display:"inline-block",width:"320px",marginInlineEnd:"16px",marginBlockEnd:"16px",color:v.colorText,fontSize:v.fontSize,lineHeight:v.lineHeight,verticalAlign:"top",backgroundColor:v.colorBgContainer,borderRadius:v.borderRadius,overflow:"auto",cursor:"pointer",transition:"all 0.3s","&:after":{position:"absolute",insetBlockStart:2,insetInlineEnd:2,width:0,height:0,opacity:0,transition:"all 0.3s "+v.motionEaseInOut,borderBlockEnd:"".concat(v.borderRadius+4,"px  solid transparent"),borderInlineStart:"".concat(v.borderRadius+4,"px  solid transparent"),borderStartEndRadius:"".concat(v.borderRadius,"px"),content:"''"},"&:last-child":{marginInlineEnd:0},"& + &":{marginInlineStart:"0 !important"},"&-bordered":{border:"".concat(v.lineWidth,"px solid ").concat(v.colorBorder)},"&-group":{display:"inline-block","&-sub-check-card":{display:"flex",flexDirection:"column",gap:"8px","&-title":{cursor:"pointer",paddingBlock:v.paddingXS,display:"flex",gap:4,alignItems:"center"},"&-panel":{visibility:"initial",transition:"all 0.3s",opacity:1,"&-collapse":{display:"none",visibility:"hidden",opacity:0}}}}},(0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)(rt,"".concat(v.componentCls,"-loading"),{overflow:"hidden",userSelect:"none","&-content":{padding:v.paddingMD}}),"&:focus",S(v)),"&-checked",(0,l.Z)((0,l.Z)({},S(v)),{},{"&:after":{opacity:1,border:"".concat(v.borderRadius+4,"px solid ").concat(v.colorPrimary),borderBlockEnd:"".concat(v.borderRadius+4,"px  solid transparent"),borderInlineStart:"".concat(v.borderRadius+4,"px  solid transparent"),borderStartEndRadius:"".concat(v.borderRadius,"px")}})),"&-disabled",$(v)),"&[disabled]",$(v)),"&-checked&-disabled",{"&:after":{position:"absolute",insetBlockStart:2,insetInlineEnd:2,width:0,height:0,border:"".concat(v.borderRadius+4,"px solid ").concat(v.colorTextDisabled),borderBlockEnd:"".concat(v.borderRadius+4,"px  solid transparent"),borderInlineStart:"".concat(v.borderRadius+4,"px  solid transparent"),borderStartEndRadius:"".concat(v.borderRadius,"px"),content:"''"}}),"&-lg",{width:440}),"&-sm",{width:212}),"&-cover",{paddingInline:v.paddingXXS,paddingBlock:v.paddingXXS,img:{width:"100%",height:"100%",overflow:"hidden",borderRadius:v.borderRadius}}),"&-content",{display:"flex",paddingInline:v.paddingSM,paddingBlock:v.padding}),(0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)(rt,"&-body",{paddingInline:v.paddingSM,paddingBlock:v.padding}),"&-avatar-header",{display:"flex",alignItems:"center"}),"&-avatar",{paddingInlineEnd:8}),"&-detail",{overflow:"hidden",width:"100%","> div:not(:last-child)":{marginBlockEnd:4}}),"&-header",{display:"flex",alignItems:"center",justifyContent:"space-between",lineHeight:v.lineHeight,"&-left":{display:"flex",alignItems:"center",gap:v.sizeSM,minWidth:0}}),"&-title",{overflow:"hidden",color:v.colorTextHeading,fontWeight:"500",fontSize:v.fontSize,whiteSpace:"nowrap",textOverflow:"ellipsis",display:"flex",alignItems:"center",justifyContent:"space-between","&-with-ellipsis":{display:"inline-block"}}),"&-description",{color:v.colorTextSecondary}),"&:not(".concat(v.componentCls,"-disabled)"),{"&:hover":{borderColor:v.colorPrimary}})))};function ae(Te){return(0,E.Xj)("CheckCard",function(v){var rt=(0,l.Z)((0,l.Z)({},v),{},{componentCls:".".concat(Te)});return[K(rt)]})}var T=n(85893),oe=["prefixCls","className","style","options","loading","multiple","bordered","onChange"],le=function(v){var rt=v.prefixCls,R=v.hashId;return(0,T.jsx)("div",{className:f()("".concat(rt,"-loading-content"),R),children:(0,T.jsx)(b.Z,{loading:!0,active:!0,paragraph:{rows:4},title:!1})})},fe=(0,s.createContext)(null),X=function(v){var rt=(0,s.useState)(!1),R=(0,w.Z)(rt,2),C=R[0],h=R[1],p=E.Ow.useToken(),B=p.hashId,e="".concat(v.prefix,"-sub-check-card");return(0,T.jsxs)("div",{className:f()(e,B),children:[(0,T.jsxs)("div",{className:f()("".concat(e,"-title"),B),onClick:function(){h(!C)},children:[(0,T.jsx)(I.Z,{style:{transform:"rotate(".concat(C?90:0,"deg)"),transition:"transform 0.3s"}}),v.title]}),(0,T.jsx)("div",{className:f()("".concat(e,"-panel"),B,(0,y.Z)({},"".concat(e,"-panel-collapse"),C)),children:v.children})]})},ue=function(v){var rt=v.prefixCls,R=v.className,C=v.style,h=v.options,p=h===void 0?[]:h,B=v.loading,e=B===void 0?!1:B,ke=v.multiple,De=ke===void 0?!1:ke,Se=v.bordered,Ie=Se===void 0?!0:Se,Ze=v.onChange,Oe=(0,ie.Z)(v,oe),Re=(0,s.useContext)(M.ZP.ConfigContext),Be=(0,s.useCallback)(function(){return p==null?void 0:p.map(function(qe){return typeof qe=="string"?{title:qe,value:qe}:qe})},[p]),ve=Re.getPrefixCls("pro-checkcard",rt),He=ae(ve),we=He.wrapSSR,it=He.hashId,We="".concat(ve,"-group"),Pe=(0,m.Z)(Oe,["children","defaultValue","value","disabled","size"]),ht=(0,F.Z)(v.defaultValue,{value:v.value,onChange:v.onChange}),dt=(0,w.Z)(ht,2),Le=dt[0],ct=dt[1],Ge=(0,s.useRef)(new Map),$e=function(ot){var Ve;(Ve=Ge.current)===null||Ve===void 0||Ve.set(ot,!0)},Et=function(ot){var Ve;(Ve=Ge.current)===null||Ve===void 0||Ve.delete(ot)},vt=function(ot){if(!De){var Ve;Ve=Le,Ve===ot.value?Ve=void 0:Ve=ot.value,ct==null||ct(Ve)}if(De){var lt,Ue=[],st=Le,Fe=st==null?void 0:st.includes(ot.value);Ue=(0,j.Z)(st||[]),Fe||Ue.push(ot.value),Fe&&(Ue=Ue.filter(function(ze){return ze!==ot.value}));var Qe=Be(),Je=(lt=Ue)===null||lt===void 0||(lt=lt.filter(function(ze){return Ge.current.has(ze)}))===null||lt===void 0?void 0:lt.sort(function(ze,ft){var Ct=Qe.findIndex(function(pt){return pt.value===ze}),yt=Qe.findIndex(function(pt){return pt.value===ft});return Ct-yt});ct(Je)}},at=(0,s.useMemo)(function(){if(e)return new Array(p.length||s.Children.toArray(v.children).length||1).fill(0).map(function(Ve,lt){return(0,T.jsx)(H,{loading:!0},lt)});if(p&&p.length>0){var qe=Le,ot=function Ve(lt){return lt.map(function(Ue){var st;if(Ue.children&&Ue.children.length>0){var Fe,Qe;return(0,T.jsx)(X,{title:Ue.title,prefix:We,children:Ve(Ue.children)},((Fe=Ue.value)===null||Fe===void 0?void 0:Fe.toString())||((Qe=Ue.title)===null||Qe===void 0?void 0:Qe.toString()))}return(0,T.jsx)(H,{disabled:Ue.disabled,size:(st=Ue.size)!==null&&st!==void 0?st:v.size,value:Ue.value,checked:De?qe==null?void 0:qe.includes(Ue.value):qe===Ue.value,onChange:Ue.onChange,title:Ue.title,avatar:Ue.avatar,description:Ue.description,cover:Ue.cover},Ue.value.toString())})};return ot(Be())}return v.children},[Be,e,De,p,v.children,v.size,Le]),xt=f()(We,R,it);return we((0,T.jsx)(fe.Provider,{value:{toggleOption:vt,bordered:Ie,value:Le,disabled:v.disabled,size:v.size,loading:v.loading,multiple:v.multiple,registerValue:$e,cancelValue:Et},children:(0,T.jsx)("div",(0,l.Z)((0,l.Z)({className:xt,style:C},Pe),{},{children:at}))}))},se=function(Te){return(0,T.jsx)(c._Y,{needDeps:!0,children:(0,T.jsx)(ue,(0,l.Z)({},Te))})},Ae=["prefixCls","className","avatar","title","description","cover","extra","style"],me=function(v){var rt=(0,F.Z)(v.defaultChecked||!1,{value:v.checked,onChange:v.onChange}),R=(0,w.Z)(rt,2),C=R[0],h=R[1],p=(0,s.useContext)(fe),B=(0,s.useContext)(M.ZP.ConfigContext),e=B.getPrefixCls,ke=function(Je){var ze,ft;v==null||(ze=v.onClick)===null||ze===void 0||ze.call(v,Je);var Ct=!C;p==null||(ft=p.toggleOption)===null||ft===void 0||ft.call(p,{value:v.value}),h==null||h(Ct)},De=function(Je){return Je==="large"?"lg":Je==="small"?"sm":""};(0,s.useEffect)(function(){var Qe;return p==null||(Qe=p.registerValue)===null||Qe===void 0||Qe.call(p,v.value),function(){var Je;return p==null||(Je=p.cancelValue)===null||Je===void 0?void 0:Je.call(p,v.value)}},[v.value]);var Se=v.prefixCls,Ie=v.className,Ze=v.avatar,Oe=v.title,Re=v.description,Be=v.cover,ve=v.extra,He=v.style,we=He===void 0?{}:He,it=(0,ie.Z)(v,Ae),We=(0,l.Z)({},it),Pe=e("pro-checkcard",Se),ht=ae(Pe),dt=ht.wrapSSR,Le=ht.hashId,ct=function(Je,ze){return(0,T.jsx)("div",{className:f()("".concat(Je,"-cover"),Le),children:typeof ze=="string"?(0,T.jsx)("img",{src:ze,alt:"checkcard"}):ze})};We.checked=C;var Ge=!1;if(p){var $e;We.disabled=v.disabled||p.disabled,We.loading=v.loading||p.loading,We.bordered=v.bordered||p.bordered,Ge=p.multiple;var Et=p.multiple?($e=p.value)===null||$e===void 0?void 0:$e.includes(v.value):p.value===v.value;We.checked=We.loading?!1:Et,We.size=v.size||p.size}var vt=We.disabled,at=vt===void 0?!1:vt,xt=We.size,qe=We.loading,ot=We.bordered,Ve=ot===void 0?!0:ot,lt=We.checked,Ue=De(xt),st=f()(Pe,Ie,Le,(0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)((0,y.Z)({},"".concat(Pe,"-loading"),qe),"".concat(Pe,"-").concat(Ue),Ue),"".concat(Pe,"-checked"),lt),"".concat(Pe,"-multiple"),Ge),"".concat(Pe,"-disabled"),at),"".concat(Pe,"-bordered"),Ve),"".concat(Pe,"-ghost"),v.ghost)),Fe=(0,s.useMemo)(function(){if(qe)return(0,T.jsx)(le,{prefixCls:Pe||"",hashId:Le});if(Be)return ct(Pe||"",Be);var Qe=Ze?(0,T.jsx)("div",{className:f()("".concat(Pe,"-avatar"),Le),children:typeof Ze=="string"?(0,T.jsx)(Z.C,{size:48,shape:"square",src:Ze}):Ze}):null,Je=(Oe!=null?Oe:ve)!=null&&(0,T.jsxs)("div",{className:f()("".concat(Pe,"-header"),Le),children:[(0,T.jsxs)("div",{className:f()("".concat(Pe,"-header-left"),Le),children:[(0,T.jsx)("div",{className:f()("".concat(Pe,"-title"),Le,(0,y.Z)({},"".concat(Pe,"-title-with-ellipsis"),typeof Oe=="string")),children:Oe}),v.subTitle?(0,T.jsx)("div",{className:f()("".concat(Pe,"-subTitle"),Le),children:v.subTitle}):null]}),ve&&(0,T.jsx)("div",{className:f()("".concat(Pe,"-extra"),Le),children:ve})]}),ze=Re?(0,T.jsx)("div",{className:f()("".concat(Pe,"-description"),Le),children:Re}):null,ft=f()("".concat(Pe,"-content"),Le,(0,y.Z)({},"".concat(Pe,"-avatar-header"),Qe&&Je&&!ze));return(0,T.jsxs)("div",{className:ft,children:[Qe,Je||ze?(0,T.jsxs)("div",{className:f()("".concat(Pe,"-detail"),Le),children:[Je,ze]}):null]})},[Ze,qe,Be,Re,ve,Le,Pe,v.subTitle,Oe]);return dt((0,T.jsxs)("div",{className:st,style:we,onClick:function(Je){!qe&&!at&&ke(Je)},onMouseEnter:v.onMouseEnter,children:[Fe,v.children?(0,T.jsx)("div",{className:f()("".concat(Pe,"-body"),Le),style:v.bodyStyle,children:v.children}):null,v.actions?(0,T.jsx)(_.Z,{actions:v.actions,prefixCls:Pe}):null]}))};me.Group=se;var H=me},74590:function(ye,G,n){"use strict";var y=n(15009),l=n.n(y),ie=n(99289),w=n.n(ie),F=n(5574),M=n.n(F),Z=n(83062),x=n(14726),f=n(67294),s=n(85893);G.Z=function(_){var j=_.action,b=_.confirmText,I=_.hide,E=(0,f.useState)(!1),c=M()(E,2),m=c[0],A=c[1],S=b||"\u786E\u5B9A\u5220\u9664\uFF1F",$=function(){var je=w()(l()().mark(function K(){return l()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(confirm(S)){T.next=2;break}return T.abrupt("return");case 2:return A(!0),T.prev=3,T.next=6,j();case 6:return T.prev=6,A(!1),T.finish(6);case 9:case"end":return T.stop()}},K,null,[[3,,6,9]])}));return function(){return je.apply(this,arguments)}}();return I?null:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(Z.Z,{title:S,children:(0,s.jsx)(x.ZP,{loading:m,danger:!0,type:"link",onClick:function(){$()},children:"\u5220\u9664"})})})}},93338:function(ye,G,n){"use strict";var y=n(97857),l=n.n(y),ie=n(15009),w=n.n(ie),F=n(99289),M=n.n(F),Z=n(82052),x=n(68421),f=n(9383),s=n(67294),_=n(85893);G.Z=function(j){var b=j.width,I=j.rate,E=(0,s.useRef)(null),c=(0,Z.Z)(E),m=c==null?void 0:c.width,A=function(){var $=M()(w()().mark(function je(){return w()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!(I!=null&&m!=null)){ae.next=2;break}return ae.abrupt("return",m*I);case 2:return ae.abrupt("return",void 0);case 3:case"end":return ae.stop()}},je)}));return function(){return $.apply(this,arguments)}}(),S=(0,x.Z)(A,{manual:!0,debounceWait:30});return(0,s.useEffect)(function(){S.run()},[m]),(0,_.jsx)("div",{ref:E,style:{display:"block",padding:0,margin:0,width:b!=null?b:"100%"},children:(0,_.jsx)(f.J,l()({width:m||void 0,height:S.data||void 0,radius:"none"},j))})}},48382:function(ye,G,n){"use strict";var y=n(5574),l=n.n(y),ie=n(98163),w=n(7134),F=n(55241),M=n(67294),Z=n(35291),x=n(42838),f=n(93338),s=n(85893);G.Z=function(_){var j=_.data,b=_.count,I=(0,M.useState)(void 0),E=l()(I,2),c=E[0],m=E[1],A=j||[],S=b||3,$=A.map(function(K){return(0,Z.u2)(K)}),je=function(ae){return(0,s.jsx)("div",{style:{maxWidth:500},children:(0,s.jsx)(f.Z,{src:ae.small||"",alt:""})})};return(0,x.G5)($)?null:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{display:"none"},children:(0,s.jsx)(ie.Z.PreviewGroup,{preview:{current:Math.max(c||0,0),visible:c!=null,onVisibleChange:function(ae,T,oe){m(ae?oe:void 0)},onChange:function(ae){c!=null&&m(ae)}},children:$.map(function(K,ae){return(0,s.jsx)(ie.Z,{src:K.large||"",alt:""},ae)})})}),(0,s.jsx)("div",{style:{},children:(0,s.jsx)(w.C.Group,{maxCount:S,shape:"square",children:$.map(function(K,ae){return(0,s.jsx)(F.Z,{title:"\u9884\u89C8",content:je(K),placement:"left",children:(0,s.jsx)(w.C,{style:{backgroundColor:"gray"},src:K.small||"",size:"large",onClick:function(){m(ae)}})},ae)})})})]})}},96256:function(ye,G,n){"use strict";var y=n(97857),l=n.n(y),ie=n(19632),w=n.n(ie),F=n(5574),M=n.n(F),Z=n(85980),x=n(34041),f=n(57381),s=n(67294),_=n(85893);G.Z=function(j){var b=j.onSearch,I=j.value,E=j.onChange,c=j.style,m=j.initItem,A=j.placeholder,S=j.props,$=(0,s.useState)(!1),je=M()($,2),K=je[0],ae=je[1],T=(0,s.useState)([]),oe=M()(T,2),le=oe[0],fe=oe[1],X=(0,Z.Z)(function(se){ae(!0),b(se).then(function(Ae){fe(Ae||[])}).finally(function(){return ae(!1)})},{wait:500});(0,s.useEffect)(function(){},[]);var ue=function(){var Ae=w()(le);return m&&!Ae.find(function(me){return me.value===m.value})&&Ae.push(m),Ae};return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(x.Z,l()({style:l()({minWidth:300},c),loading:K,value:I,showSearch:!0,allowClear:!0,filterOption:!1,onSearch:function(Ae){X.run(Ae)},onChange:function(Ae){var me=le.find(function(H){return H.value==Ae});E&&E(me)},onClear:function(){E&&E(void 0)},placeholder:A||"\u8F93\u5165\u5173\u952E\u8BCD",notFoundContent:K&&(0,_.jsx)(f.Z,{size:"small"}),options:ue()},S))})}},64442:function(ye,G,n){"use strict";var y=n(15009),l=n.n(y),ie=n(99289),w=n.n(ie),F=n(96256),M=n(30967),Z=n(42838),x=n(85893);G.Z=function(f){var s=f.selectedGoods,_=f.onChange,j=f.style,b=f.props,I=function(){var E=w()(l()().mark(function c(m){var A,S,$;return l()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:if(!(0,Z.Wq)(m)){K.next=2;break}return K.abrupt("return",[]);case 2:return K.next=4,M.x1.mallAdmin.goodsQueryGoodsForSelection({Keyword:m,PageSize:20});case 4:return S=K.sent,$=S==null||(A=S.data)===null||A===void 0||(A=A.Data)===null||A===void 0?void 0:A.map(function(ae){return{label:ae.Name||"--",value:ae.Id||""}}),K.abrupt("return",$||[]);case 7:case"end":return K.stop()}},c)}));return function(m){return E.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(F.Z,{style:j,props:b,onSearch:function(){var E=w()(l()().mark(function c(m){return l()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,I(m);case 2:return S.abrupt("return",S.sent);case 3:case"end":return S.stop()}},c)}));return function(c){return E.apply(this,arguments)}}(),placeholder:"\u641C\u7D22\u5546\u54C1...",value:(s==null?void 0:s.Id)||void 0,initItem:s==null?void 0:{label:s.Name||"",value:s.Id||""},onChange:function(c){_&&_(c==null?void 0:{Id:c.value,Name:c.label})}})})}},48746:function(ye,G,n){"use strict";var y=n(15009),l=n.n(y),ie=n(99289),w=n.n(ie),F=n(96256),M=n(35291),Z=n(30967),x=n(42838),f=n(85893);G.Z=function(s){var _=s.selectedSku,j=s.onChange,b=s.style,I=s.props,E=function(){var c=w()(l()().mark(function m(A){var S,$,je;return l()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(!(0,x.Wq)(A)){ae.next=2;break}return ae.abrupt("return",[]);case 2:return ae.next=4,Z.x1.mallAdmin.skuQuerySkuForSelection({Keywords:A,Take:20});case 4:return $=ae.sent,je=$==null||(S=$.data)===null||S===void 0||(S=S.Data)===null||S===void 0?void 0:S.map(function(T){return{label:(0,M.CQ)(T)||"--",value:T.Id||"--"}}),ae.abrupt("return",je||[]);case 7:case"end":return ae.stop()}},m)}));return function(A){return c.apply(this,arguments)}}();return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(F.Z,{style:b,props:I,onSearch:function(){var c=w()(l()().mark(function m(A){return l()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,E(A);case 2:return $.abrupt("return",$.sent);case 3:case"end":return $.stop()}},m)}));return function(m){return c.apply(this,arguments)}}(),placeholder:"\u641C\u7D22\u5546\u54C1...",value:(_==null?void 0:_.Id)||void 0,initItem:_==null?void 0:{label:(0,M.CQ)(_)||"",value:_.Id||""},onChange:function(m){j&&j(m==null?void 0:{Id:m.value,Name:m.label})}})})}},60512:function(ye,G,n){"use strict";var y=n(97857),l=n.n(y),ie=n(78957),w=n(25278),F=n(35291),M=n(85893);G.Z=function(Z){var x=Z.link,f=Z.onChange;return x?(0,M.jsx)(M.Fragment,{children:(0,M.jsxs)(ie.Z,{direction:"vertical",style:{width:"100%"},children:[(0,M.jsx)(w.Z,{placeholder:"wx.navigateTo(some-url-scheme)",addonBefore:"\u5FAE\u4FE1\u5C0F\u7A0B\u5E8F",value:x.WxMiniProgramUrl||"",onChange:function(_){var j=x;j=l()(l()({},j),{},{WxMiniProgramUrl:_.target.value}),j=(0,F.WZ)(j),f(j)}}),(0,M.jsx)(w.Z,{addonBefore:"\u652F\u4ED8\u5B9D\u5C0F\u7A0B\u5E8F",value:x.AlipayMiniProgramUrl||"",onChange:function(_){var j=x;j=l()(l()({},j),{},{AlipayMiniProgramUrl:_.target.value}),j=(0,F.WZ)(j),f(j)}}),(0,M.jsx)(w.Z,{addonBefore:"APP",value:x.AppUrl||"",onChange:function(_){var j=x;j=l()(l()({},j),{},{AppUrl:_.target.value}),j=(0,F.WZ)(j),f(j)}}),(0,M.jsx)(w.Z,{addonBefore:"H5",value:x.H5Url||"",onChange:function(_){var j=x;j=l()(l()({},j),{},{H5Url:_.target.value}),j=(0,F.WZ)(j),f(j)}})]})}):null}},88208:function(ye,G,n){"use strict";var y=n(68421),l=n(34041),ie=n(67294),w=n(30967),F=n(42838),M=n(85893);G.Z=function(Z){var x,f=Z.value,s=Z.onChange,_=(0,y.Z)(w.x1.mallAdmin.brandListBrand,{manual:!0}),j=((x=_.data)===null||x===void 0||(x=x.data)===null||x===void 0?void 0:x.Data)||[];return(0,ie.useEffect)(function(){_.run({})},[]),(0,M.jsx)(M.Fragment,{children:(0,M.jsx)(l.Z,{loading:_.loading,value:f||void 0,onChange:function(I){s&&s(j.find(function(E){return E.Id==I}))},placeholder:"\u8F93\u5165\u62FC\u97F3\u7F29\u5199\u53EF\u4EE5\u641C\u7D22...",allowClear:!0,showSearch:!0,filterOption:function(I,E){var c=E==null?void 0:E.label;return(0,F.Wq)(I)||(0,F.Wq)(c)?!1:c.toLowerCase().indexOf(I.toLowerCase())>=0},options:j.map(function(b,I){return{label:"".concat(b.Name,"-").concat((0,F.Te)(b.Name||"")||"N/A"),value:b.Id||"",key:I}})})})}},6526:function(ye,G,n){"use strict";var y=n(19632),l=n.n(y),ie=n(68421),w=n(59847),F=n(67294),M=n(35291),Z=n(30967),x=n(42838),f=n(85893);G.Z=function(s){var _,j=s.value,b=s.onChange,I=(0,ie.Z)(Z.x1.mallAdmin.categoryQueryAntdTree,{manual:!0}),E=((_=I.data)===null||_===void 0||(_=_.data)===null||_===void 0?void 0:_.Data)||[],c=E.flatMap(function(S){return(0,M.iL)(S)}),m=l()(new Set(c.map(function(S){return S.key||""}))),A=E.map(function(S){return(0,M.Sc)(S,function($){return"".concat($.title,"-").concat((0,x.Te)($.title||"")||"N/A")})});return(0,F.useEffect)(function(){I.run({})},[]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(w.Z,{loading:I.loading,value:j,onChange:function($){var je;b&&b((je=c.find(function(K){return K.key==$}))===null||je===void 0?void 0:je.raw_data)},placeholder:"\u8F93\u5165\u62FC\u97F3\u7F29\u5199\u53EF\u4EE5\u641C\u7D22...",treeData:A,treeExpandedKeys:m,treeDefaultExpandAll:!0,allowClear:!0,showSearch:!0,treeNodeFilterProp:"label",filterTreeNode:void 0})})}},9417:function(ye,G,n){"use strict";n.d(G,{Z:function(){return Ke}});var y=n(15009),l=n.n(y),ie=n(99289),w=n.n(ie),F=n(97857),M=n.n(F),Z=n(5574),x=n.n(Z),f=n(45360),s=n(67294),_=n(3542),j=n(87462),b=n(97326),I=n(89611);function E(i,o){i.prototype=Object.create(o.prototype),i.prototype.constructor=i,(0,I.Z)(i,o)}var c,m=new Uint8Array(16);function A(){if(!c&&(c=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!c))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return c(m)}var S=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function $(i){return typeof i=="string"&&S.test(i)}for(var je=$,K=[],ae=0;ae<256;++ae)K.push((ae+256).toString(16).substr(1));function T(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(K[i[o+0]]+K[i[o+1]]+K[i[o+2]]+K[i[o+3]]+"-"+K[i[o+4]]+K[i[o+5]]+"-"+K[i[o+6]]+K[i[o+7]]+"-"+K[i[o+8]]+K[i[o+9]]+"-"+K[i[o+10]]+K[i[o+11]]+K[i[o+12]]+K[i[o+13]]+K[i[o+14]]+K[i[o+15]]).toLowerCase();if(!je(r))throw TypeError("Stringified UUID is invalid");return r}var oe=T;function le(i,o,r){i=i||{};var a=i.random||(i.rng||A)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,o){r=r||0;for(var t=0;t<16;++t)o[r+t]=a[t];return o}return oe(a)}var fe=le;function X(i){return s.createElement("i",{className:"rmel-iconfont rmel-icon-"+i.type})}function ue(i){return s.createElement("div",{className:"rc-md-navigation "+(i.visible?"visible":"in-visible")},s.createElement("div",{className:"navigation-nav left"},s.createElement("div",{className:"button-wrap"},i.left)),s.createElement("div",{className:"navigation-nav right"},s.createElement("div",{className:"button-wrap"},i.right)))}function se(i){return s.createElement("div",{className:"tool-bar",style:i.style},i.children)}var Ae=n(65415),me=function(i){E(o,i);function o(){for(var r,a=arguments.length,t=new Array(a),u=0;u<a;u++)t[u]=arguments[u];return r=i.call.apply(i,[this].concat(t))||this,r.EVENT_CHANGE="a1",r.EVENT_FULL_SCREEN="a2",r.EVENT_VIEW_CHANGE="a3",r.EVENT_KEY_DOWN="a4",r.EVENT_EDITOR_KEY_DOWN="a5",r.EVENT_FOCUS="a5",r.EVENT_BLUR="a6",r.EVENT_SCROLL="a7",r.EVENT_LANG_CHANGE="b1",r}return o}(Ae.EventEmitter),H=new me,Te=me,v={clearTip:"Are you sure you want to clear all contents?",btnHeader:"Header",btnClear:"Clear",btnBold:"Bold",btnItalic:"Italic",btnUnderline:"Underline",btnStrikethrough:"Strikethrough",btnUnordered:"Unordered list",btnOrdered:"Ordered list",btnQuote:"Quote",btnLineBreak:"Line break",btnInlineCode:"Inline code",btnCode:"Code",btnTable:"Table",btnImage:"Image",btnLink:"Link",btnUndo:"Undo",btnRedo:"Redo",btnFullScreen:"Full screen",btnExitFullScreen:"Exit full screen",btnModeEditor:"Only display editor",btnModePreview:"Only display preview",btnModeAll:"Display both editor and preview",selectTabMap:"Actual input when typing a Tab key",tab:"Tab",spaces:"Spaces"},rt={clearTip:"\u60A8\u786E\u5B9A\u8981\u6E05\u7A7A\u6240\u6709\u5185\u5BB9\u5417\uFF1F",btnHeader:"\u6807\u9898",btnClear:"\u6E05\u7A7A",btnBold:"\u52A0\u7C97",btnItalic:"\u659C\u4F53",btnUnderline:"\u4E0B\u5212\u7EBF",btnStrikethrough:"\u5220\u9664\u7EBF",btnUnordered:"\u65E0\u5E8F\u5217\u8868",btnOrdered:"\u6709\u5E8F\u5217\u8868",btnQuote:"\u5F15\u7528",btnLineBreak:"\u6362\u884C",btnInlineCode:"\u884C\u5185\u4EE3\u7801",btnCode:"\u4EE3\u7801\u5757",btnTable:"\u8868\u683C",btnImage:"\u56FE\u7247",btnLink:"\u94FE\u63A5",btnUndo:"\u64A4\u9500",btnRedo:"\u91CD\u505A",btnFullScreen:"\u5168\u5C4F",btnExitFullScreen:"\u9000\u51FA\u5168\u5C4F",btnModeEditor:"\u4EC5\u663E\u793A\u7F16\u8F91\u5668",btnModePreview:"\u4EC5\u663E\u793A\u9884\u89C8",btnModeAll:"\u663E\u793A\u7F16\u8F91\u5668\u4E0E\u9884\u89C8",selectTabMap:"\u6309\u4E0B Tab \u952E\u65F6\u5B9E\u9645\u7684\u8F93\u5165",tab:"\u5236\u8868\u7B26",spaces:"\u7A7A\u683C"},R=function(){function i(){this.langs={enUS:v,zhCN:rt},this.current="enUS",this.setUp()}var o=i.prototype;return o.setUp=function(){if(typeof window!="undefined"){var a="enUS";if(navigator.language){var t=navigator.language.split("-");a=t[0],t.length!==1&&(a+=t[t.length-1].toUpperCase())}if(navigator.browserLanguage){var u=navigator.browserLanguage.split("-");a=u[0],u[1]&&(a+=u[1].toUpperCase())}this.current!==a&&this.isAvailable(a)&&(this.current=a,H.emit(H.EVENT_LANG_CHANGE,this,a,this.langs[a]))}},o.isAvailable=function(a){return typeof this.langs[a]!="undefined"},o.add=function(a,t){this.langs[a]=t},o.setCurrent=function(a){if(!this.isAvailable(a))throw new Error("Language "+a+" is not exists");this.current!==a&&(this.current=a,H.emit(H.EVENT_LANG_CHANGE,this,a,this.langs[a]))},o.get=function(a,t){var u=this.langs[this.current][a]||"";return t&&Object.keys(t).forEach(function(d){u=u.replace(new RegExp("\\{"+d+"\\}","g"),t[d])}),u},o.getCurrent=function(){return this.current},i}(),C=new R,h=C,p=n(43144),B=function(i){E(o,i);function o(){return i.apply(this,arguments)||this}var r=o.prototype;return r.getConfig=function(t,u){return typeof this.props.config[t]!="undefined"&&this.props.config[t]!==null?this.props.config[t]:u},(0,p.Z)(o,[{key:"editor",get:function(){return this.props.editor}},{key:"editorConfig",get:function(){return this.props.editorConfig}}]),o}(s.Component);B.pluginName="",B.align="left",B.defaultConfig={};var e=function(i){E(o,i);function o(){return i.apply(this,arguments)||this}var r=o.prototype;return r.render=function(){return s.createElement("span",{className:"rc-md-divider"})},o}(B);e.pluginName="divider";var ke={start:0,end:0,text:""};function De(i,o){var r=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(r)return(r=r.call(i)).next.bind(r);if(Array.isArray(i)||(r=Se(i))||o&&i&&typeof i.length=="number"){r&&(i=r);var a=0;return function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Se(i,o){if(i){if(typeof i=="string")return Ie(i,o);var r=Object.prototype.toString.call(i).slice(8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Array.from(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ie(i,o)}}function Ie(i,o){(o==null||o>i.length)&&(o=i.length);for(var r=0,a=new Array(o);r<o;r++)a[r]=i[r];return a}function Ze(i){if(!i||typeof i!="object")return i;var o=Array.isArray(i)?[]:{};if(i&&typeof i=="object")for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(i[r]&&typeof i[r]=="object"?o[r]=Ze(i[r]):o[r]=i[r]);return o}function Oe(i){return typeof i=="undefined"||i===null||i===""}function Re(i){return i&&(i instanceof Promise||(typeof i=="object"||typeof i=="function")&&typeof i.then=="function")}function Be(i,o){for(var r="",a=o;a--;)r+=i;return r}function ve(i,o){var r=o.withKey,a=o.keyCode,t=o.key,u=o.aliasCommand,d={ctrlKey:i.ctrlKey,metaKey:i.metaKey,altKey:i.altKey,shiftKey:i.shiftKey,keyCode:i.keyCode,key:i.key};if(u&&(d.ctrlKey=d.ctrlKey||d.metaKey),r&&r.length>0)for(var U=De(r),J;!(J=U()).done;){var xe=J.value;if(typeof d[xe]!="undefined"&&!d[xe])return!1}else if(d.metaKey||d.ctrlKey||d.shiftKey||d.altKey)return!1;return d.key?d.key===t:d.keyCode===a}function He(i,o){var r=i.split(`
`),a=i.substr(0,o).split(`
`),t=a.length,u=a[a.length-1].length,d=r[a.length-1],U=a.length>1?a[a.length-2]:null,J=r.length>a.length?r[a.length]:null;return{line:t,col:u,beforeText:i.substr(0,o),afterText:i.substr(o),curLine:d,prevLine:U,nextLine:J}}for(var we={bold:["**","**"],italic:["*","*"],underline:["++","++"],strikethrough:["~~","~~"],quote:[`
> `,`
`],inlinecode:["`","`"],code:["\n```\n","\n```\n"]},it=1;it<=6;it++)we["h"+it]=[`
`+Be("#",it)+" ",`
`];function We(i){for(var o=i.row,r=o===void 0?2:o,a=i.col,t=a===void 0?2:a,u=["|"],d=["|"],U=["|"],J="",xe=1;xe<=t;xe++)u.push(" Head |"),U.push(" --- |"),d.push(" Data |");for(var pe=1;pe<=r;pe++)J+=`
`+d.join("");return u.join("")+`
`+U.join("")+J}function Pe(i,o){var r=o;if(r.substr(0,1)!==`
`&&(r=`
`+r),i==="unordered")return r.length>1?r.replace(/\n/g,`
* `).trim():"* ";var a=1;return r.length>1?r.replace(/\n/g,function(){return`
`+a+++". "}).trim():"1. "}function ht(i,o){return{text:i,newBlock:o,selection:{start:i.length,end:i.length}}}function dt(i,o,r){if(typeof we[o]!="undefined")return{text:""+we[o][0]+i+we[o][1],selection:{start:we[o][0].length,end:we[o][0].length+i.length}};switch(o){case"tab":var a=r.tabMapValue===1?"	":" ".repeat(r.tabMapValue),t=a+i.replace(/\n/g,`
`+a),u=i.includes(`
`)?i.match(/\n/g).length:0;return{text:t,selection:{start:r.tabMapValue,end:r.tabMapValue*(u+1)+i.length}};case"unordered":return ht(Pe("unordered",i),!0);case"order":return ht(Pe("order",i),!0);case"hr":return ht("---",!0);case"table":return{text:We(r),newBlock:!0};case"image":return{text:"!["+(i||r.target)+"]("+(r.imageUrl||"")+")",selection:{start:2,end:i.length+2}};case"link":return{text:"["+i+"]("+(r.linkUrl||"")+")",selection:{start:1,end:i.length+1}}}return{text:i,selection:{start:0,end:i.length}}}var Le=dt;function ct(i,o){var r={};return Object.keys(i).forEach(function(a){if(typeof o[a]=="undefined"){r[a]=i[a];return}if(typeof o[a]=="object"){Array.isArray(o[a])?r[a]=[].concat(o[a]):r[a]=ct(i[a],o[a]);return}r[a]=o[a]}),r}function Ge(i){for(var o=(0,j.Z)({},i),r=arguments.length,a=new Array(r>1?r-1:0),t=1;t<r;t++)a[t-1]=arguments[t];return a.forEach(function(u){typeof u=="object"&&(o=ct(o,u))}),o}function $e(i,o){var r=Le("","image",{target:"Uploading_"+fe(),imageUrl:""}).text,a=new Promise(function(t){var u=!0,d=function(xe){u&&console.warn("Deprecated: onImageUpload should return a Promise, callback will be removed in future"),t(Le("","image",{target:i.name,imageUrl:xe}).text)},U=o(i,d);Re(U)&&(u=!1,U.then(d))});return{placeholder:r,uploaded:a}}var Et=$e,vt={theme:"default",view:{menu:!0,md:!0,html:!0},canView:{menu:!0,md:!0,html:!0,both:!0,fullScreen:!0,hideMenu:!0},htmlClass:"",markdownClass:"",syncScrollMode:["rightFollowLeft","leftFollowRight"],imageUrl:"",imageAccept:"",linkUrl:"",loggerMaxSize:100,loggerInterval:600,table:{maxRow:4,maxCol:6},allowPasteImage:!0,onImageUpload:void 0,onCustomImageUpload:void 0,shortcuts:!0,onChangeTrigger:"both"},at=vt,xt=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.el=s.createRef(),t}var r=o.prototype;return r.getElement=function(){return this.el.current},r.getHeight=function(){return this.el.current?this.el.current.offsetHeight:0},o}(s.Component),qe=function(i){E(o,i);function o(){return i.apply(this,arguments)||this}var r=o.prototype;return r.getHtml=function(){return typeof this.props.html=="string"?this.props.html:this.el.current?this.el.current.innerHTML:""},r.render=function(){return typeof this.props.html=="string"?s.createElement("div",{ref:this.el,dangerouslySetInnerHTML:{__html:this.props.html},className:this.props.className||"custom-html-style"}):s.createElement("div",{ref:this.el,className:this.props.className||"custom-html-style"},this.props.html)},o}(xt),ot=null;function Ve(i,o){var r=typeof Symbol!="undefined"&&i[Symbol.iterator]||i["@@iterator"];if(r)return(r=r.call(i)).next.bind(r);if(Array.isArray(i)||(r=lt(i))||o&&i&&typeof i.length=="number"){r&&(i=r);var a=0;return function(){return a>=i.length?{done:!0}:{done:!1,value:i[a++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lt(i,o){if(i){if(typeof i=="string")return Ue(i,o);var r=Object.prototype.toString.call(i).slice(8,-1);if(r==="Object"&&i.constructor&&(r=i.constructor.name),r==="Map"||r==="Set")return Array.from(i);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ue(i,o)}}function Ue(i,o){(o==null||o>i.length)&&(o=i.length);for(var r=0,a=new Array(o);r<o;r++)a[r]=i[r];return a}var st=function(i){E(o,i),o.use=function(t,u){u===void 0&&(u={});for(var d=0;d<o.plugins.length;d++)if(o.plugins[d].comp===t){o.plugins.splice(d,1,{comp:t,config:u});return}o.plugins.push({comp:t,config:u})},o.unuse=function(t){for(var u=0;u<o.plugins.length;u++)if(o.plugins[u].comp===t){o.plugins.splice(u,1);return}},o.unuseAll=function(){o.plugins=[]};function o(a){var t;return t=i.call(this,a)||this,t.nodeMdText=s.createRef(),t.nodeMdPreview=s.createRef(),t.nodeMdPreviewWrapper=s.createRef(),t.hasContentChanged=!0,t.composing=!1,t.pluginApis=new Map,t.scrollScale=1,t.isSyncingScroll=!1,t.shouldSyncScroll="md",t.keyboardListeners=[],t.emitter=new Te,t.config=Ge(at,t.props.config,t.props),t.state={text:(t.props.value||t.props.defaultValue||"").replace(/↵/g,`
`),html:"",view:t.config.view||at.view,fullScreen:!1,plugins:t.getPlugins()},t.config.canView&&!t.config.canView.menu&&(t.state.view.menu=!1),t.nodeMdText=s.createRef(),t.nodeMdPreviewWrapper=s.createRef(),t.handleChange=t.handleChange.bind((0,b.Z)(t)),t.handlePaste=t.handlePaste.bind((0,b.Z)(t)),t.handleDrop=t.handleDrop.bind((0,b.Z)(t)),t.handleToggleMenu=t.handleToggleMenu.bind((0,b.Z)(t)),t.handleKeyDown=t.handleKeyDown.bind((0,b.Z)(t)),t.handleEditorKeyDown=t.handleEditorKeyDown.bind((0,b.Z)(t)),t.handleLocaleUpdate=t.handleLocaleUpdate.bind((0,b.Z)(t)),t.handleFocus=t.handleFocus.bind((0,b.Z)(t)),t.handleBlur=t.handleBlur.bind((0,b.Z)(t)),t.handleInputScroll=t.handleSyncScroll.bind((0,b.Z)(t),"md"),t.handlePreviewScroll=t.handleSyncScroll.bind((0,b.Z)(t),"html"),t}var r=o.prototype;return r.componentDidMount=function(){var t=this.state.text;this.renderHTML(t),H.on(H.EVENT_LANG_CHANGE,this.handleLocaleUpdate),h.setUp()},r.componentWillUnmount=function(){H.off(H.EVENT_LANG_CHANGE,this.handleLocaleUpdate)},r.componentDidUpdate=function(t){if(typeof this.props.value!="undefined"&&this.props.value!==this.state.text){var u=this.props.value;typeof u!="string"&&(u=String(u).toString()),u=u.replace(/↵/g,`
`),this.state.text!==u&&(this.setState({text:u}),this.renderHTML(u))}t.plugins!==this.props.plugins&&this.setState({plugins:this.getPlugins()})},r.isComposing=function(){return this.composing},r.getPlugins=function(){var t=this,u=[];if(this.props.plugins)for(var d=function(tt){if(tt===e.pluginName){u.push({comp:e,config:{}});return}for(var bt=Ve(o.plugins),Ye;!(Ye=bt()).done;){var gt=Ye.value;if(gt.comp.pluginName===tt){u.push(gt);return}}},U=Ve(this.props.plugins),J;!(J=U()).done;){var xe=J.value;xe==="fonts"?(d("font-bold"),d("font-italic"),d("font-underline"),d("font-strikethrough"),d("list-unordered"),d("list-ordered"),d("block-quote"),d("block-wrap"),d("block-code-inline"),d("block-code-block")):d(xe)}else u=[].concat(o.plugins);var pe={};return u.forEach(function(Me){typeof pe[Me.comp.align]=="undefined"&&(pe[Me.comp.align]=[]);var tt=Me.comp.pluginName==="divider"?fe():Me.comp.pluginName;pe[Me.comp.align].push(s.createElement(Me.comp,{editor:t,editorConfig:t.config,config:(0,j.Z)({},Me.comp.defaultConfig||{},Me.config||{}),key:tt}))}),pe},r.handleSyncScroll=function(t,u){var d=this;if(t===this.shouldSyncScroll){this.props.onScroll&&this.props.onScroll(u,t),this.emitter.emit(this.emitter.EVENT_SCROLL,u,t);var U=this.config.syncScrollMode,J=U===void 0?[]:U;J.includes(t==="md"?"rightFollowLeft":"leftFollowRight")&&(this.hasContentChanged&&this.nodeMdText.current&&this.nodeMdPreviewWrapper.current&&(this.scrollScale=this.nodeMdText.current.scrollHeight/this.nodeMdPreviewWrapper.current.scrollHeight,this.hasContentChanged=!1),this.isSyncingScroll||(this.isSyncingScroll=!0,requestAnimationFrame(function(){d.nodeMdText.current&&d.nodeMdPreviewWrapper.current&&(t==="md"?d.nodeMdPreviewWrapper.current.scrollTop=d.nodeMdText.current.scrollTop/d.scrollScale:d.nodeMdText.current.scrollTop=d.nodeMdPreviewWrapper.current.scrollTop*d.scrollScale),d.isSyncingScroll=!1})))}},r.renderHTML=function(t){var u=this;if(!this.props.renderHTML)return console.error("renderHTML props is required!"),Promise.resolve();var d=this.props.renderHTML(t);return Re(d)?d.then(function(U){return u.setHtml(U)}):typeof d=="function"?this.setHtml(d()):this.setHtml(d)},r.setHtml=function(t){var u=this;return new Promise(function(d){u.setState({html:t},d)})},r.handleToggleMenu=function(){this.setView({menu:!this.state.view.menu})},r.handleFocus=function(t){var u=this.props.onFocus;u&&u(t),this.emitter.emit(this.emitter.EVENT_FOCUS,t)},r.handleBlur=function(t){var u=this.props.onBlur;u&&u(t),this.emitter.emit(this.emitter.EVENT_BLUR,t)},r.handleChange=function(t){t.persist();var u=t.target.value;this.setText(u,t)},r.handlePaste=function(t){if(!(!this.config.allowPasteImage||!this.config.onImageUpload)){var u=t.nativeEvent,d=(u.clipboardData||window.clipboardData).items;d&&(t.preventDefault(),this.uploadWithDataTransfer(d))}},r.handleDrop=function(t){if(this.config.onImageUpload){var u=t.nativeEvent;if(u.dataTransfer){var d=u.dataTransfer.items;d&&(t.preventDefault(),this.uploadWithDataTransfer(d))}}},r.handleEditorKeyDown=function(t){var u=this,d=t.keyCode,U=t.key,J=t.currentTarget;if((d===13||U==="Enter")&&this.composing===!1){var xe=J.value,pe=J.selectionStart,Me=He(xe,pe),tt=function(){var wt=J.value.substr(0,pe-Me.curLine.length)+J.value.substr(pe);u.setText(wt,void 0,{start:pe-Me.curLine.length,end:pe-Me.curLine.length}),t.preventDefault()},bt=function(wt){u.insertText(`
`+wt,!1,{start:wt.length+1,end:wt.length+1}),t.preventDefault()},Ye=Me.curLine.match(/^(\s*?)\* /);if(Ye){if(/^(\s*?)\* $/.test(Me.curLine)){tt();return}bt(Ye[0]);return}var gt=Me.curLine.match(/^(\s*?)(\d+)\. /);if(gt){if(/^(\s*?)(\d+)\. $/.test(Me.curLine)){tt();return}var Tt=""+gt[1]+(parseInt(gt[2],10)+1)+". ";bt(Tt);return}}this.emitter.emit(this.emitter.EVENT_EDITOR_KEY_DOWN,t)},r.handleLocaleUpdate=function(){this.forceUpdate()},r.getMdElement=function(){return this.nodeMdText.current},r.getHtmlElement=function(){return this.nodeMdPreviewWrapper.current},r.clearSelection=function(){this.nodeMdText.current&&this.nodeMdText.current.setSelectionRange(0,0,"none")},r.getSelection=function(){var t=this.nodeMdText.current;if(!t)return(0,j.Z)({},ke);var u=t.selectionStart,d=t.selectionEnd,U=(t.value||"").slice(u,d);return{start:u,end:d,text:U}},r.setSelection=function(t){this.nodeMdText.current&&(this.nodeMdText.current.setSelectionRange(t.start,t.end,"forward"),this.nodeMdText.current.focus())},r.insertMarkdown=function(t,u){u===void 0&&(u={});var d=this.getSelection(),U=u?(0,j.Z)({},u):{};if(t==="image"&&(U=(0,j.Z)({},U,{target:u.target||d.text||"",imageUrl:u.imageUrl||this.config.imageUrl})),t==="link"&&(U=(0,j.Z)({},U,{linkUrl:this.config.linkUrl})),t==="tab"&&d.start!==d.end){var J=this.getMdValue().slice(0,d.start).lastIndexOf(`
`)+1;this.setSelection({start:J,end:d.end})}var xe=Le(d.text,t,U),pe=xe.text,Me=xe.selection;if(xe.newBlock){var tt=He(this.getMdValue(),d.start),bt=tt.col,Ye=tt.curLine;bt>0&&Ye.length>0&&(pe=`
`+pe,Me&&(Me.start++,Me.end++));var gt=tt.afterText;d.start!==d.end&&(gt=He(this.getMdValue(),d.end).afterText),gt.trim()!==""&&gt.substr(0,2)!==`

`&&(gt.substr(0,1)!==`
`&&(pe+=`
`),pe+=`
`)}this.insertText(pe,!0,Me)},r.insertPlaceholder=function(t,u){var d=this;this.insertText(t,!0),u.then(function(U){var J=d.getMdValue().replace(t,U);d.setText(J)})},r.insertText=function(t,u,d){t===void 0&&(t=""),u===void 0&&(u=!1);var U=this.state.text,J=this.getSelection(),xe=U.slice(0,J.start),pe=U.slice(u?J.end:J.start,U.length);this.setText(xe+t+pe,void 0,d?{start:d.start+xe.length,end:d.end+xe.length}:{start:J.start,end:J.start})},r.setText=function(t,u,d){var U=this;t===void 0&&(t="");var J=this.config.onChangeTrigger,xe=J===void 0?"both":J,pe=t.replace(/↵/g,`
`);if(this.state.text!==t){this.setState({text:pe}),this.props.onChange&&(xe==="both"||xe==="beforeRender")&&this.props.onChange({text:pe,html:this.getHtmlValue()},u),this.emitter.emit(this.emitter.EVENT_CHANGE,t,u,typeof u=="undefined"),d&&setTimeout(function(){return U.setSelection(d)}),this.hasContentChanged||(this.hasContentChanged=!0);var Me=this.renderHTML(pe);(xe==="both"||xe==="afterRender")&&Me.then(function(){U.props.onChange&&U.props.onChange({text:U.state.text,html:U.getHtmlValue()},u)})}},r.getMdValue=function(){return this.state.text},r.getHtmlValue=function(){return typeof this.state.html=="string"?this.state.html:this.nodeMdPreview.current?this.nodeMdPreview.current.getHtml():""},r.onKeyboard=function(t){var u=this;if(Array.isArray(t)){t.forEach(function(d){return u.onKeyboard(d)});return}this.keyboardListeners.includes(t)||this.keyboardListeners.push(t)},r.offKeyboard=function(t){var u=this;if(Array.isArray(t)){t.forEach(function(U){return u.offKeyboard(U)});return}var d=this.keyboardListeners.indexOf(t);d>=0&&this.keyboardListeners.splice(d,1)},r.handleKeyDown=function(t){for(var u=Ve(this.keyboardListeners),d;!(d=u()).done;){var U=d.value;if(ve(t,U)){t.preventDefault(),U.callback(t);return}}this.emitter.emit(this.emitter.EVENT_KEY_DOWN,t)},r.getEventType=function(t){switch(t){case"change":return this.emitter.EVENT_CHANGE;case"fullscreen":return this.emitter.EVENT_FULL_SCREEN;case"viewchange":return this.emitter.EVENT_VIEW_CHANGE;case"keydown":return this.emitter.EVENT_KEY_DOWN;case"editor_keydown":return this.emitter.EVENT_EDITOR_KEY_DOWN;case"blur":return this.emitter.EVENT_BLUR;case"focus":return this.emitter.EVENT_FOCUS;case"scroll":return this.emitter.EVENT_SCROLL}},r.on=function(t,u){var d=this.getEventType(t);d&&this.emitter.on(d,u)},r.off=function(t,u){var d=this.getEventType(t);d&&this.emitter.off(d,u)},r.setView=function(t){var u=this,d=(0,j.Z)({},this.state.view,t);this.setState({view:d},function(){u.emitter.emit(u.emitter.EVENT_VIEW_CHANGE,d)})},r.getView=function(){return(0,j.Z)({},this.state.view)},r.fullScreen=function(t){var u=this;this.state.fullScreen!==t&&this.setState({fullScreen:t},function(){u.emitter.emit(u.emitter.EVENT_FULL_SCREEN,t)})},r.registerPluginApi=function(t,u){this.pluginApis.set(t,u)},r.unregisterPluginApi=function(t){this.pluginApis.delete(t)},r.callPluginApi=function(t){var u=this.pluginApis.get(t);if(!u)throw new Error("API "+t+" not found");for(var d=arguments.length,U=new Array(d>1?d-1:0),J=1;J<d;J++)U[J-1]=arguments[J];return u.apply(void 0,U)},r.isFullScreen=function(){return this.state.fullScreen},r.uploadWithDataTransfer=function(t){var u=this,d=this.config.onImageUpload;if(d){var U=[];Array.prototype.forEach.call(t,function(J){if(J.kind==="file"&&J.type.includes("image")){var xe=J.getAsFile();if(xe){var pe=Et(xe,d);U.push(Promise.resolve(pe.placeholder)),pe.uploaded.then(function(Me){var tt=u.getMdValue().replace(pe.placeholder,Me),bt=Me.length-pe.placeholder.length,Ye=u.getSelection();u.setText(tt,void 0,{start:Ye.start+bt,end:Ye.start+bt})})}}else J.kind==="string"&&J.type==="text/plain"&&U.push(new Promise(function(Me){return J.getAsString(Me)}))}),Promise.all(U).then(function(J){var xe=J.join(""),pe=u.getSelection();u.insertText(xe,!0,{start:pe.start===pe.end?xe.length:0,end:xe.length})})}},r.render=function(){var t=this,u=this.state,d=u.view,U=u.fullScreen,J=u.text,xe=u.html,pe=this.props,Me=pe.id,tt=pe.className,bt=tt===void 0?"":tt,Ye=pe.style,gt=pe.name,Tt=gt===void 0?"textarea":gt,kt=pe.autoFocus,wt=pe.placeholder,Nt=pe.readOnly,Kt=this.config.canView&&this.config.canView.hideMenu&&!this.config.canView.menu,Bt=function(Vt){return t.state.plugins[Vt]||[]},Ut=!!d.menu,Ht=Me?Me+"_md":void 0,Gt=Me?Me+"_html":void 0;return s.createElement("div",{id:Me,className:"rc-md-editor "+(U?"full":"")+" "+bt,style:Ye,onKeyDown:this.handleKeyDown,onDrop:this.handleDrop},s.createElement(ue,{visible:Ut,left:Bt("left"),right:Bt("right")}),s.createElement("div",{className:"editor-container"},Kt&&s.createElement(se,null,s.createElement("span",{className:"button button-type-menu",title:Ut?"hidden menu":"show menu",onClick:this.handleToggleMenu},s.createElement(X,{type:"expand-"+(Ut?"less":"more")}))),s.createElement("section",{className:"section sec-md "+(d.md?"visible":"in-visible")},s.createElement("textarea",{id:Ht,ref:this.nodeMdText,name:Tt,autoFocus:kt,placeholder:wt,readOnly:Nt,value:J,className:"section-container input "+(this.config.markdownClass||""),wrap:"hard",onChange:this.handleChange,onScroll:this.handleInputScroll,onMouseOver:function(){return t.shouldSyncScroll="md"},onKeyDown:this.handleEditorKeyDown,onCompositionStart:function(){return t.composing=!0},onCompositionEnd:function(){return t.composing=!1},onPaste:this.handlePaste,onFocus:this.handleFocus,onBlur:this.handleBlur})),s.createElement("section",{className:"section sec-html "+(d.html?"visible":"in-visible")},s.createElement("div",{id:Gt,className:"section-container html-wrap",ref:this.nodeMdPreviewWrapper,onMouseOver:function(){return t.shouldSyncScroll="html"},onScroll:this.handlePreviewScroll},s.createElement(qe,{html:xe,className:this.config.htmlClass,ref:this.nodeMdPreview})))))},o}(s.Component);st.plugins=[],st.addLocale=h.add.bind(h),st.useLocale=h.setCurrent.bind(h),st.getLocale=h.getCurrent.bind(h);var Fe=st,Qe=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.timer=null,t.useTimer=t.getConfig("useTimer")||typeof requestAnimationFrame=="undefined",t.handleChange=t.handleChange.bind((0,b.Z)(t)),t.doResize=t.doResize.bind((0,b.Z)(t)),t}var r=o.prototype;return r.doResize=function(){var t=this,u=function(Me){Me.style.height="auto";var tt=Math.min(Math.max(t.getConfig("min"),Me.scrollHeight),t.getConfig("max"));return Me.style.height=tt+"px",tt};this.timer=null;var d=this.editor.getView(),U=this.editor.getMdElement(),J=this.editor.getHtmlElement();if(U&&d.md){var xe=u(U);J&&(J.style.height=xe+"px");return}J&&d.html&&u(J)},r.handleChange=function(){if(this.timer===null){if(this.useTimer){this.timer=window.setTimeout(this.doResize);return}this.timer=requestAnimationFrame(this.doResize)}},r.componentDidMount=function(){this.editor.on("change",this.handleChange),this.editor.on("viewchange",this.handleChange),this.handleChange()},r.componentWillUnmount=function(){this.editor.off("change",this.handleChange),this.editor.off("viewchange",this.handleChange),this.timer!==null&&this.useTimer&&(window.clearTimeout(this.timer),this.timer=null)},r.render=function(){return s.createElement("span",null)},o}(B);Qe.pluginName="auto-resize",Qe.align="left",Qe.defaultConfig={min:200,max:1/0,useTimer:!1};var Je=function(i){E(o,i);function o(){return i.apply(this,arguments)||this}var r=o.prototype;return r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-code-block",title:h.get("btnCode"),onClick:function(){return t.editor.insertMarkdown("code")}},s.createElement(X,{type:"code-block"}))},o}(B);Je.pluginName="block-code-block";var ze=function(i){E(o,i);function o(){return i.apply(this,arguments)||this}var r=o.prototype;return r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-code-inline",title:h.get("btnInlineCode"),onClick:function(){return t.editor.insertMarkdown("inlinecode")}},s.createElement(X,{type:"code"}))},o}(B);ze.pluginName="block-code-inline";var ft=function(i){E(o,i);function o(){return i.apply(this,arguments)||this}var r=o.prototype;return r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-quote",title:h.get("btnQuote"),onClick:function(){return t.editor.insertMarkdown("quote")}},s.createElement(X,{type:"quote"}))},o}(B);ft.pluginName="block-quote";var Ct=function(i){E(o,i);function o(){return i.apply(this,arguments)||this}var r=o.prototype;return r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-wrap",title:h.get("btnLineBreak"),onClick:function(){return t.editor.insertMarkdown("hr")}},s.createElement(X,{type:"wrap"}))},o}(B);Ct.pluginName="block-wrap";var yt=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleClick=t.handleClick.bind((0,b.Z)(t)),t}var r=o.prototype;return r.handleClick=function(){if(this.editor.getMdValue()!==""&&window.confirm&&typeof window.confirm=="function"){var t=window.confirm(h.get("clearTip"));t&&this.editor.setText("")}},r.render=function(){return s.createElement("span",{className:"button button-type-clear",title:h.get("btnClear"),onClick:this.handleClick},s.createElement(X,{type:"delete"}))},o}(B);yt.pluginName="clear";var pt=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleKeyboard={key:"b",keyCode:66,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return t.editor.insertMarkdown("bold")}},t}var r=o.prototype;return r.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},r.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-bold",title:h.get("btnBold"),onClick:function(){return t.editor.insertMarkdown("bold")}},s.createElement(X,{type:"bold"}))},o}(B);pt.pluginName="font-bold";var jt=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleKeyboard={key:"i",keyCode:73,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return t.editor.insertMarkdown("italic")}},t}var r=o.prototype;return r.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},r.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-italic",title:h.get("btnItalic"),onClick:function(){return t.editor.insertMarkdown("italic")}},s.createElement(X,{type:"italic"}))},o}(B);jt.pluginName="font-italic";var Mt=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleKeyboard={key:"d",keyCode:68,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return t.editor.insertMarkdown("strikethrough")}},t}var r=o.prototype;return r.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},r.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-strikethrough",title:h.get("btnStrikethrough"),onClick:function(){return t.editor.insertMarkdown("strikethrough")}},s.createElement(X,{type:"strikethrough"}))},o}(B);Mt.pluginName="font-strikethrough";var Dt=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleKeyboard={key:"u",keyCode:85,withKey:["ctrlKey"],callback:function(){return t.editor.insertMarkdown("underline")}},t}var r=o.prototype;return r.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},r.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-underline",title:h.get("btnUnderline"),onClick:function(){return t.editor.insertMarkdown("underline")}},s.createElement(X,{type:"underline"}))},o}(B);Dt.pluginName="font-underline";var St=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleClick=t.handleClick.bind((0,b.Z)(t)),t.handleChange=t.handleChange.bind((0,b.Z)(t)),t.state={enable:t.editor.isFullScreen()},t}var r=o.prototype;return r.handleClick=function(){this.editor.fullScreen(!this.state.enable)},r.handleChange=function(t){this.setState({enable:t})},r.componentDidMount=function(){this.editor.on("fullscreen",this.handleChange)},r.componentWillUnmount=function(){this.editor.off("fullscreen",this.handleChange)},r.render=function(){if(this.editorConfig.canView&&this.editorConfig.canView.fullScreen){var t=this.state.enable;return s.createElement("span",{className:"button button-type-fullscreen",title:h.get(t?"btnExitFullScreen":"btnFullScreen"),onClick:this.handleClick},s.createElement(X,{type:t?"fullscreen-exit":"fullscreen"}))}return null},o}(B);St.pluginName="full-screen",St.align="right";var Pt=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleClose=t.handleClose.bind((0,b.Z)(t)),t}var r=o.prototype;return r.handleClose=function(t){t.stopPropagation();var u=this.props.onClose;typeof u=="function"&&u()},r.render=function(){return s.createElement("div",{className:"drop-wrap "+(this.props.show?"show":"hidden"),onClick:this.handleClose},this.props.children)},o}(s.Component),Zt=Pt,te=function(i){E(o,i);function o(){return i.apply(this,arguments)||this}var r=o.prototype;return r.handleHeader=function(t){var u=this.props.onSelectHeader;typeof u=="function"&&u(t)},r.render=function(){return s.createElement("ul",{className:"header-list"},s.createElement("li",{className:"list-item"},s.createElement("h1",{onClick:this.handleHeader.bind(this,"h1")},"H1")),s.createElement("li",{className:"list-item"},s.createElement("h2",{onClick:this.handleHeader.bind(this,"h2")},"H2")),s.createElement("li",{className:"list-item"},s.createElement("h3",{onClick:this.handleHeader.bind(this,"h3")},"H3")),s.createElement("li",{className:"list-item"},s.createElement("h4",{onClick:this.handleHeader.bind(this,"h4")},"H4")),s.createElement("li",{className:"list-item"},s.createElement("h5",{onClick:this.handleHeader.bind(this,"h5")},"H5")),s.createElement("li",{className:"list-item"},s.createElement("h6",{onClick:this.handleHeader.bind(this,"h6")},"H6")))},o}(s.Component),k=te,W=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.show=t.show.bind((0,b.Z)(t)),t.hide=t.hide.bind((0,b.Z)(t)),t.state={show:!1},t}var r=o.prototype;return r.show=function(){this.setState({show:!0})},r.hide=function(){this.setState({show:!1})},r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-header",title:h.get("btnHeader"),onMouseEnter:this.show,onMouseLeave:this.hide},s.createElement(X,{type:"font-size"}),s.createElement(Zt,{show:this.state.show,onClose:this.hide},s.createElement(k,{onSelectHeader:function(d){return t.editor.insertMarkdown(d)}})))},o}(B);W.pluginName="header";var re=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.timerId=void 0,t.locked=!1,t.input=s.createRef(),t}var r=o.prototype;return r.click=function(){var t=this;this.locked||!this.input.current||(this.locked=!0,this.input.current.value="",this.input.current.click(),this.timerId&&window.clearTimeout(this.timerId),this.timerId=window.setTimeout(function(){t.locked=!1,window.clearTimeout(t.timerId),t.timerId=void 0},200))},r.componentWillUnmount=function(){this.timerId&&window.clearTimeout(this.timerId)},r.render=function(){return s.createElement("input",{type:"file",ref:this.input,accept:this.props.accept,style:{position:"absolute",zIndex:-1,left:0,top:0,width:0,height:0,opacity:0},onChange:this.props.onChange})},o}(s.Component),be=re,Q=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.inputFile=s.createRef(),t.onImageChanged=t.onImageChanged.bind((0,b.Z)(t)),t.handleCustomImageUpload=t.handleCustomImageUpload.bind((0,b.Z)(t)),t.handleImageUpload=t.handleImageUpload.bind((0,b.Z)(t)),t.state={show:!1},t}var r=o.prototype;return r.handleImageUpload=function(){var t=this.editorConfig.onImageUpload;typeof t=="function"?this.inputFile.current&&this.inputFile.current.click():this.editor.insertMarkdown("image")},r.onImageChanged=function(t){var u=this.editorConfig.onImageUpload;if(u){var d=Et(t,u);this.editor.insertPlaceholder(d.placeholder,d.uploaded)}},r.handleCustomImageUpload=function(t){var u=this,d=this.editorConfig.onCustomImageUpload;if(d){var U=d.call(this,t);Re(U)&&U.then(function(J){J&&J.url&&u.editor.insertMarkdown("image",{target:J.text,imageUrl:J.url})})}},r.render=function(){var t=this,u=!!this.editorConfig.onCustomImageUpload;return u?s.createElement("span",{className:"button button-type-image",title:h.get("btnImage"),onClick:this.handleCustomImageUpload},s.createElement(X,{type:"image"})):s.createElement("span",{className:"button button-type-image",title:h.get("btnImage"),onClick:this.handleImageUpload,style:{position:"relative"}},s.createElement(X,{type:"image"}),s.createElement(be,{accept:this.editorConfig.imageAccept||"",ref:this.inputFile,onChange:function(U){U.persist(),U.target.files&&U.target.files.length>0&&t.onImageChanged(U.target.files[0])}}))},o}(B);Q.pluginName="image";var Y=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleKeyboard={key:"k",keyCode:75,aliasCommand:!0,withKey:["ctrlKey"],callback:function(){return t.editor.insertMarkdown("link")}},t}var r=o.prototype;return r.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},r.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-link",title:h.get("btnLink"),onClick:function(){return t.editor.insertMarkdown("link")}},s.createElement(X,{type:"link"}))},o}(B);Y.pluginName="link";var q=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleKeyboard={key:"7",keyCode:55,withKey:["ctrlKey","shiftKey"],aliasCommand:!0,callback:function(){return t.editor.insertMarkdown("order")}},t}var r=o.prototype;return r.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},r.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-ordered",title:h.get("btnOrdered"),onClick:function(){return t.editor.insertMarkdown("order")}},s.createElement(X,{type:"list-ordered"}))},o}(B);q.pluginName="list-ordered";var de=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleKeyboard={key:"8",keyCode:56,withKey:["ctrlKey","shiftKey"],aliasCommand:!0,callback:function(){return t.editor.insertMarkdown("unordered")}},t}var r=o.prototype;return r.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},r.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},r.render=function(){var t=this;return s.createElement("span",{className:"button button-type-unordered",title:h.get("btnUnordered"),onClick:function(){return t.editor.insertMarkdown("unordered")}},s.createElement(X,{type:"list-unordered"}))},o}(B);de.pluginName="list-unordered";var g=100,D=function(){function i(r){r===void 0&&(r={}),this.record=[],this.recycle=[],this.initValue="";var a=r,t=a.maxSize,u=t===void 0?g:t;this.maxSize=u}var o=i.prototype;return o.push=function(a){for(var t=this.record.push(a);this.record.length>this.maxSize;)this.record.shift();return t},o.get=function(){return this.record},o.getLast=function(){var a=this.record.length;return this.record[a-1]},o.undo=function(a){var t=this.record.pop();if(typeof t=="undefined")return this.initValue;if(t!==a)return this.recycle.push(t),t;var u=this.record.pop();return typeof u=="undefined"?(this.recycle.push(t),this.initValue):(this.recycle.push(t),u)},o.redo=function(){var a=this.recycle.pop();if(typeof a!="undefined")return this.push(a),a},o.cleanRedo=function(){this.recycle=[]},o.getUndoCount=function(){return this.undo.length},o.getRedoCount=function(){return this.recycle.length},i}(),O=D,L=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleKeyboards=[],t.lastPop=null,t.handleChange=t.handleChange.bind((0,b.Z)(t)),t.handleRedo=t.handleRedo.bind((0,b.Z)(t)),t.handleUndo=t.handleUndo.bind((0,b.Z)(t)),t.handleKeyboards=[{key:"y",keyCode:89,withKey:["ctrlKey"],callback:t.handleRedo},{key:"z",keyCode:90,withKey:["metaKey","shiftKey"],callback:t.handleRedo},{key:"z",keyCode:90,aliasCommand:!0,withKey:["ctrlKey"],callback:t.handleUndo}],t.logger=new O({maxSize:t.editorConfig.loggerMaxSize}),t.editor.registerPluginApi("undo",t.handleUndo),t.editor.registerPluginApi("redo",t.handleRedo),t}var r=o.prototype;return r.handleUndo=function(){var t=this.logger.undo(this.editor.getMdValue());typeof t!="undefined"&&(this.pause(),this.lastPop=t,this.editor.setText(t),this.forceUpdate())},r.handleRedo=function(){var t=this.logger.redo();typeof t!="undefined"&&(this.lastPop=t,this.editor.setText(t),this.forceUpdate())},r.handleChange=function(t,u,d){var U=this;if(!(this.logger.getLast()===t||this.lastPop!==null&&this.lastPop===t)){if(this.logger.cleanRedo(),d){this.logger.push(t),this.lastPop=null,this.forceUpdate();return}this.timerId&&(window.clearTimeout(this.timerId),this.timerId=0),this.timerId=window.setTimeout(function(){U.logger.getLast()!==t&&(U.logger.push(t),U.lastPop=null,U.forceUpdate()),window.clearTimeout(U.timerId),U.timerId=0},this.editorConfig.loggerInterval)}},r.componentDidMount=function(){var t=this;this.editor.on("change",this.handleChange),this.handleKeyboards.forEach(function(u){return t.editor.onKeyboard(u)}),this.logger.initValue=this.editor.getMdValue(),this.forceUpdate()},r.componentWillUnmount=function(){var t=this;this.timerId&&window.clearTimeout(this.timerId),this.editor.off("change",this.handleChange),this.editor.unregisterPluginApi("undo"),this.editor.unregisterPluginApi("redo"),this.handleKeyboards.forEach(function(u){return t.editor.offKeyboard(u)})},r.pause=function(){this.timerId&&(window.clearTimeout(this.timerId),this.timerId=void 0)},r.render=function(){var t=this.logger.getUndoCount()>1||this.logger.initValue!==this.editor.getMdValue(),u=this.logger.getRedoCount()>0;return s.createElement(s.Fragment,null,s.createElement("span",{className:"button button-type-undo "+(t?"":"disabled"),title:h.get("btnUndo"),onClick:this.handleUndo},s.createElement(X,{type:"undo"})),s.createElement("span",{className:"button button-type-redo "+(u?"":"disabled"),title:h.get("btnRedo"),onClick:this.handleRedo},s.createElement(X,{type:"redo"})))},o}(B);L.pluginName="logger";var ne;(function(i){i[i.SHOW_ALL=0]="SHOW_ALL",i[i.SHOW_MD=1]="SHOW_MD",i[i.SHOW_HTML=2]="SHOW_HTML"})(ne||(ne={}));var N=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.handleClick=t.handleClick.bind((0,b.Z)(t)),t.handleChange=t.handleChange.bind((0,b.Z)(t)),t.state={view:t.editor.getView()},t}var r=o.prototype;return r.handleClick=function(){switch(this.next){case ne.SHOW_ALL:this.editor.setView({html:!0,md:!0});break;case ne.SHOW_HTML:this.editor.setView({html:!0,md:!1});break;case ne.SHOW_MD:this.editor.setView({html:!1,md:!0});break}},r.handleChange=function(t){this.setState({view:t})},r.componentDidMount=function(){this.editor.on("viewchange",this.handleChange)},r.componentWillUnmount=function(){this.editor.off("viewchange",this.handleChange)},r.getDisplayInfo=function(){var t=this.next;switch(t){case ne.SHOW_ALL:return{icon:"view-split",title:"All"};case ne.SHOW_HTML:return{icon:"visibility",title:"Preview"};default:return{icon:"keyboard",title:"Editor"}}},r.render=function(){if(this.isDisplay){var t=this.getDisplayInfo();return s.createElement("span",{className:"button button-type-mode",title:h.get("btnMode"+t.title),onClick:this.handleClick},s.createElement(X,{type:t.icon}))}return null},(0,p.Z)(o,[{key:"isDisplay",get:function(){var t=this.editorConfig.canView;return t?[t.html,t.md,t.both].filter(function(u){return u}).length>=2:!1}},{key:"next",get:function(){var t=this.editorConfig.canView,u=this.state.view,d=[ne.SHOW_ALL,ne.SHOW_MD,ne.SHOW_HTML];t&&(t.both||d.splice(d.indexOf(ne.SHOW_ALL),1),t.md||d.splice(d.indexOf(ne.SHOW_MD),1),t.html||d.splice(d.indexOf(ne.SHOW_HTML),1));var U=ne.SHOW_MD;if(u.html&&(U=ne.SHOW_HTML),u.html&&u.md&&(U=ne.SHOW_ALL),d.length===0)return U;if(d.length===1)return d[0];var J=d.indexOf(U);return J<d.length-1?d[J+1]:d[0]}}]),o}(B);N.pluginName="mode-toggle",N.align="right";var P=N,_e=function(i){E(o,i);function o(a){var t;t=i.call(this,a)||this,t.config={padding:3,width:20,height:20};var u=a.maxRow,d=u===void 0?5:u,U=a.maxCol,J=U===void 0?6:U;return t.state={maxRow:d,maxCol:J,list:t.formatTableModel(d,J)},t}var r=o.prototype;return r.formatTableModel=function(t,u){t===void 0&&(t=0),u===void 0&&(u=0);var d=new Array(t).fill(void 0);return d.map(function(U){return new Array(u).fill(0)})},r.calcWrapStyle=function(){var t=this.state,u=t.maxRow,d=t.maxCol,U=this.config,J=U.width,xe=U.height,pe=U.padding,Me=(J+pe)*d-pe,tt=(xe+pe)*u-pe;return{width:Me+"px",height:tt+"px"}},r.calcItemStyle=function(t,u){t===void 0&&(t=0),u===void 0&&(u=0);var d=this.config,U=d.width,J=d.height,xe=d.padding,pe=(J+xe)*t,Me=(U+xe)*u;return{top:pe+"px",left:Me+"px"}},r.getList=function(t,u){var d=this.state.list;return d.map(function(U,J){return U.map(function(xe,pe){return J<=t&&pe<=u?1:0})})},r.handleHover=function(t,u){this.setState({list:this.getList(t,u)})},r.handleSetTable=function(t,u){var d=this.props.onSetTable;typeof d=="function"&&d({row:t+1,col:u+1})},r.componentDidUpdate=function(t){this.props.visibility===!1&&t.visibility!==this.props.visibility&&this.setState({list:this.getList(-1,-1)})},r.render=function(){var t=this;return s.createElement("ul",{className:"table-list wrap",style:this.calcWrapStyle()},this.state.list.map(function(u,d){return u.map(function(U,J){return s.createElement("li",{className:"list-item "+(U===1?"active":""),key:d+"-"+J,style:t.calcItemStyle(d,J),onMouseOver:t.handleHover.bind(t,d,J),onClick:t.handleSetTable.bind(t,d,J)})})}))},o}(s.Component),Ee=_e,V=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.show=t.show.bind((0,b.Z)(t)),t.hide=t.hide.bind((0,b.Z)(t)),t.state={show:!1},t}var r=o.prototype;return r.show=function(){this.setState({show:!0})},r.hide=function(){this.setState({show:!1})},r.render=function(){var t=this,u=this.editorConfig.table||this.props.config;return s.createElement("span",{className:"button button-type-table",title:h.get("btnTable"),onMouseEnter:this.show,onMouseLeave:this.hide},s.createElement(X,{type:"grid"}),s.createElement(Zt,{show:this.state.show,onClose:this.hide},s.createElement(Ee,{visibility:this.state.show,maxRow:u.maxRow,maxCol:u.maxCol,onSetTable:function(U){return t.editor.insertMarkdown("table",U)}})))},o}(B);V.pluginName="table",V.defaultConfig={maxRow:6,maxCol:6};var ce=n(93967),z=n.n(ce),ge=function(i){E(o,i);function o(){return i.apply(this,arguments)||this}var r=o.prototype;return r.handleSelectMapValue=function(t){var u=this.props.onSelectMapValue;typeof u=="function"&&u(t)},r.render=function(){var t=this,u=this.props.value;return s.createElement("ul",{className:"tab-map-list"},[1,2,4,8].map(function(d){return s.createElement("li",{key:d,className:z()("list-item",{active:u===d})},s.createElement("div",{onClick:t.handleSelectMapValue.bind(t,d)},d===1?h.get("tab"):d+" "+h.get("spaces")))}))},o}(s.Component),Xe=ge,Ce=function(i){E(o,i);function o(a){var t;return t=i.call(this,a)||this,t.show=t.show.bind((0,b.Z)(t)),t.hide=t.hide.bind((0,b.Z)(t)),t.handleChangeMapValue=t.handleChangeMapValue.bind((0,b.Z)(t)),t.state={tabMapValue:t.getConfig("tabMapValue"),show:!1},t.handleKeyboard={key:"Tab",keyCode:9,aliasCommand:!0,withKey:[],callback:function(){return t.editor.insertMarkdown("tab",{tabMapValue:t.state.tabMapValue})}},t}var r=o.prototype;return r.show=function(){this.setState({show:!0})},r.hide=function(){this.setState({show:!1})},r.handleChangeMapValue=function(t){this.setState({tabMapValue:t})},r.componentDidMount=function(){this.editorConfig.shortcuts&&this.editor.onKeyboard(this.handleKeyboard)},r.componentWillUnmount=function(){this.editor.offKeyboard(this.handleKeyboard)},r.render=function(){return s.createElement("span",{className:"button button-type-header",title:h.get("selectTabMap"),onClick:this.show,onMouseLeave:this.hide},s.createElement(X,{type:"tab"}),s.createElement(Zt,{show:this.state.show,onClose:this.hide},s.createElement(Xe,{value:this.state.tabMapValue,onSelectMapValue:this.handleChangeMapValue})))},o}(B);Ce.pluginName="tab-insert",Ce.defaultConfig={tabMapValue:1},Fe.use(W),Fe.use(pt),Fe.use(jt),Fe.use(Dt),Fe.use(Mt),Fe.use(de),Fe.use(q),Fe.use(ft),Fe.use(Ct),Fe.use(ze),Fe.use(Je),Fe.use(V),Fe.use(Q),Fe.use(Y),Fe.use(yt),Fe.use(L),Fe.use(P),Fe.use(St);var he={Header:W,FontBold:pt,FontItalic:jt,FontUnderline:Dt,FontStrikethrough:Mt,ListUnordered:de,ListOrdered:q,BlockQuote:ft,BlockWrap:Ct,BlockCodeInline:ze,BlockCodeBlock:Je,Table:V,Image:Q,Link:Y,Clear:yt,Logger:L,ModeToggle:P,FullScreen:St,AutoResize:Qe,TabInsert:Ce},ee=Fe,et=n(21274),ut=n(85134),nt=n(55932),Ne=n(55793),_t=n(85893),Ke=function(i){var o=i.onChange,r=i.value,a=i.style,t=(0,s.useState)(!1),u=x()(t,2),d=u[0],U=u[1];return(0,_t.jsxs)(_t.Fragment,{children:[d&&(0,_t.jsx)(et.Z,{}),(0,_t.jsx)(ee,{style:M()({height:"500px"},a||{}),value:r,renderHTML:function(xe){return(0,_t.jsx)(_.U,{remarkPlugins:[],children:xe})},onChange:function(xe){var pe=xe.text,Me=xe.html;o&&o(pe)},allowPasteImage:!0,onImageUpload:function(){var J=w()(l()().mark(function xe(pe){var Me,tt;return l()().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ye.prev=0,U(!0),Ye.next=4,(0,Ne.yE)(pe,ut.v.upload.maxSize);case 4:if(pe=Ye.sent,!(pe.size>ut.v.upload.maxSize)){Ye.next=8;break}throw f.ZP.error("\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC71MB"),new Error("\u56FE\u7247\u5927\u5C0F\u4E0D\u80FD\u8D85\u8FC71MB");case 8:return Ye.next=10,(0,Ne.ku)(pe);case 10:if(Me=Ye.sent,tt=(0,nt.Kk)(Me,{width:500}),!tt){Ye.next=16;break}return Ye.abrupt("return",tt);case 16:throw f.ZP.error("\u4E0A\u4F20\u5931\u8D25"),new Error("\u4E0A\u4F20\u5931\u8D25");case 18:return Ye.prev=18,U(!1),Ye.finish(18);case 21:case"end":return Ye.stop()}},xe,null,[[0,,18,21]])}));return function(xe){return J.apply(this,arguments)}}()})]})}},1260:function(ye,G,n){"use strict";n.r(G),n.d(G,{default:function(){return Zt}});var y=n(97857),l=n.n(y),ie=n(5574),w=n.n(ie),F=n(68421),M=n(78957),Z=n(66309),x=n(40411),f=n(14726),s=n(67294),_=n(48382),j=n(23806),b=n(35291),I=n(30967),E=n(47650),c=n(42838),m=n(57731),A=n(33733);var S=(0,A.Z)("outline","file-import","IconFileImport",[["path",{d:"M14 3v4a1 1 0 0 0 1 1h4",key:"svg-0"}],["path",{d:"M5 13v-8a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2h-5.5m-9.5 -2h7m-3 -3l3 3l-3 3",key:"svg-1"}]]),$=n(15009),je=n.n($),K=n(99289),ae=n.n(K),T=n(45360),oe=n(4393),le=n(40056),fe=n(85576),X=n(57381),ue=n(92398),se=n(74590),Ae=n(71230),me=n(15746),H=n(11346),Te=n(72269),v=n(25278),rt=n(72270),R=n(60512),C=n(19632),h=n.n(C),p=n(59847),B=n(55932),e=n(85893),ke=function(te){var k,W=te.value,re=te.onChange,be=(0,F.Z)(I.x1.sys.areaLoadTree,{manual:!0}),Q=((k=be.data)===null||k===void 0||(k=k.data)===null||k===void 0?void 0:k.Data)||[],Y=Q.flatMap(function(g){return(0,b.iL)(g)}),q=h()(new Set(Y.map(function(g){return g.key||""}))),de=Q.map(function(g){return(0,b.Sc)(g,function(D){var O,L=(0,B.Kk)((O=D.raw_data)===null||O===void 0?void 0:O.StorageMeta,{width:20});return(0,e.jsxs)(M.Z,{direction:"horizontal",children:[L&&(0,e.jsx)("img",{src:L,alt:""}),(0,e.jsx)("span",{children:"".concat(D.title,"-").concat((0,c.Te)(D.title||"")||"N/A")})]})})});return(0,s.useEffect)(function(){be.run({})},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(p.Z,{loading:be.loading,value:W,onChange:function(D){var O;re&&re((O=Y.find(function(L){return L.key==D}))===null||O===void 0?void 0:O.raw_data)},placeholder:"\u8F93\u5165\u62FC\u97F3\u7F29\u5199\u53EF\u4EE5\u641C\u7D22...",treeData:de,treeExpandedKeys:q,treeDefaultExpandAll:!0,allowClear:!0,showSearch:!0,treeNodeFilterProp:"label",filterTreeNode:void 0})})},De=n(88208),Se=n(6526),Ie=n(55742),Ze=n(34041),Oe=n(84567),Re=function(te){var k,W=te.value,re=te.onChange,be=te.single,Q=te.single_select,Y=(0,F.Z)(I.x1.mallAdmin.tagListTags,{manual:!0}),q=((k=Y.data)===null||k===void 0||(k=k.data)===null||k===void 0?void 0:k.Data)||[];return(0,s.useEffect)(function(){Y.run({})},[]),be?(0,e.jsx)(Ie.ZP.Group,{value:W==null?void 0:W.at(0),onChange:function(g){var D=q.filter(function(O){return O.Id==g.target.value});re&&re(D)},options:q.map(function(de,g){return{label:de.Name||"--",value:de.Id||""}})}):Q?(0,e.jsx)(Ze.Z,{style:{minWidth:200},placeholder:"\u9009\u62E9\u6807\u7B7E",value:W==null?void 0:W.at(0),onChange:function(g){var D=q.filter(function(O){return O.Id==g});re&&re(D)},allowClear:!0,onClear:function(){re&&re([])},options:q.map(function(de,g){return{label:de.Name||"--",value:de.Id||""}})}):(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Oe.Z.Group,{value:W,onChange:function(g){var D=q.filter(function(O){return g.indexOf(O.Id||"")>=0});re&&re(D)},options:q.map(function(de,g){return{label:de.Name||"--",value:de.Id||""}})})})},Be=n(9417),ve=n(97321),He=function(te){var k,W=te.data,re=te.ok,be=te.show,Q=(0,s.useState)(!1),Y=w()(Q,2),q=Y[0],de=Y[1],g=l()(l()({},W),{},{RedirectToUrl:(0,c.ZP)(W==null?void 0:W.RedirectToUrlJson)||{}}),D=re,O=s.useRef(null);(0,s.useEffect)(function(){be&&setTimeout(function(){var N;(N=O.current)===null||N===void 0||N.focus()},100)},[be]);var L=function(){return g.GoodsType!=b.CJ.Service,(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u53EA\u5141\u8BB8\u7535\u8BDD\u54A8\u8BE2",children:(0,e.jsx)(Te.Z,{checked:g.LimitedToContact,onChange:function(_e){D(l()(l()({},g),{},{LimitedToContact:_e}))}})})}),(0,e.jsx)(me.Z,{span:18,children:(0,e.jsx)(H.Z.Item,{label:"\u7535\u8BDD\u53F7\u7801",tooltip:"\u5F00\u542F\u540E\u5C55\u793A\u8054\u7CFB\u65B9\u5F0F",children:(0,e.jsx)(v.Z,{placeholder:"400-88888-xxx",disabled:!g.LimitedToContact,value:g.LimitedToContact&&g.ContactTelephone||"",onChange:function(_e){D(l()(l()({},g),{},{ContactTelephone:_e.target.value}))}})})})]})},ne=function(){return g.GoodsType!=b.CJ.Service,(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u81EA\u52A8\u8DF3\u8F6C",tooltip:"\u5F00\u542F\u540E\u5546\u54C1\u8BE6\u60C5\u9875\u5C55\u793A\u8DF3\u8F6C\u6309\u94AE",children:(0,e.jsx)(Te.Z,{checked:g.LimitedToRedirect,onChange:function(_e){D(l()(l()({},g),{},{LimitedToRedirect:_e}))}})})}),(0,e.jsx)(me.Z,{span:18,children:(0,e.jsxs)(H.Z.Item,{label:"\u8DF3\u8F6C\u94FE\u63A5",children:[g.LimitedToRedirect&&(0,e.jsxs)(e.Fragment,{children:[(0,c.Wq)(g.RedirectToUrlJson)||(0,e.jsx)(rt.Z.Paragraph,{ellipsis:!0,code:!0,children:g.RedirectToUrlJson}),(0,e.jsx)(R.Z,{link:g.RedirectToUrl||{},onChange:function(_e){D(l()(l()({},g),{},{RedirectToUrl:_e,RedirectToUrlJson:JSON.stringify(_e)}))}})]}),g.LimitedToRedirect||(0,e.jsx)("span",{children:"..."})]})})]})})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{title:"\u57FA\u7840\u4FE1\u606F",loading:q,style:{marginBottom:10},children:(0,e.jsxs)(H.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsx)(H.Z.Item,{label:"\u5546\u54C1\u7C7B\u578B",tooltip:"\u521B\u5EFA\u540E\u4E0D\u53EF\u4EE5\u4FEE\u6539",hidden:(0,b.tC)(),children:(0,e.jsx)(ve.Z.Group,{multiple:!1,value:g.GoodsType,onChange:function(P){D(l()(l()({},g),{},{GoodsType:P}))},disabled:!(0,c.Wq)(g.Id),options:[{title:"\u5B9E\u7269\u5546\u54C1",description:"\u9700\u8981\u7269\u6D41",value:b.CJ.Normal},{title:"\u865A\u62DF\u5546\u54C1",description:"\u4E0B\u5355\u751F\u6210\u6838\u9500\u5238\uFF0C\u65E0\u9700\u7269\u6D41",value:b.CJ.Virtual,disabled:!0},{title:"\u670D\u52A1\u5546\u54C1",description:"\u4E0B\u5355\u540E\u9884\u7EA6\u4E0A\u95E8\u670D\u52A1",value:b.CJ.Service}]})}),(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:12,children:(0,e.jsxs)(H.Z.Item,{label:"\u540D\u79F0",required:!0,children:[(0,e.jsx)(v.Z,{ref:O,autoFocus:!0,placeholder:"\u8F93\u5165\u5546\u54C1\u540D\u79F0\uFF0C\u6BD4\u5982\u3010\u81B3\u9B54\u5E08\u4FDD\u6E29\u676F\u3011",count:{show:!0,max:20},maxLength:20,required:!0,value:g.Name||"",onChange:function(P){var _e=function(){return(0,c.Wq)(g.Id)?(0,c.uw)(P.target.value||""):g.SeoName||void 0};D(l()(l()({},g),{},{Name:P.target.value,SeoName:_e()}))}}),(0,c.Wq)(g.Name)&&(0,e.jsx)("p",{style:{color:"red"},children:"\u4E0D\u80FD\u4E3A\u7A7A"})]})}),(0,e.jsx)(me.Z,{span:12,children:(0,e.jsx)(H.Z.Item,{label:"Seo Name",tooltip:"\u5728\u65B0\u5EFA\u65F6\u81EA\u52A8\u751F\u6210\uFF0C\u540E\u7EED\u9700\u8981\u624B\u52A8\u4FEE\u6539\u66F4\u65B0\uFF01",children:(0,e.jsx)(v.Z,{value:g.SeoName||"",onChange:function(P){D(l()(l()({},g),{},{SeoName:P.target.value}))}})})})]}),(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:12,children:(0,e.jsx)(H.Z.Item,{label:"\u7B80\u77ED\u4ECB\u7ECD",rules:[{max:50}],children:(0,e.jsx)(v.Z.TextArea,{placeholder:"\u5C06\u5728\u5546\u54C1\u8BE6\u60C5\u9875\u663E\u793A",value:g.Description||"",count:{show:!0,max:100},maxLength:100,onChange:function(P){D(l()(l()({},g),{},{Description:P.target.value}))}})})}),(0,e.jsx)(me.Z,{span:12,children:(0,e.jsx)(H.Z.Item,{label:"\u5E97\u5BB6\u8BC4\u8BBA",rules:[{max:50}],children:(0,e.jsx)(v.Z.TextArea,{placeholder:"\u53EF\u4EE5\u663E\u793A\u5728\u641C\u7D22\u7ED3\u679C\u4E2D",value:g.AdminComment||"",count:{show:!0,max:100},maxLength:100,onChange:function(P){D(l()(l()({},g),{},{AdminComment:P.target.value}))}})})})]}),(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:8,children:(0,e.jsx)(H.Z.Item,{label:"\u54C1\u724C",children:(0,e.jsx)(De.Z,{value:g.BrandId,onChange:function(P){D(l()(l()({},g),{},{BrandId:P==null?void 0:P.Id}))}})})}),(0,e.jsx)(me.Z,{span:8,children:(0,e.jsx)(H.Z.Item,{label:"\u5206\u7C7B",children:(0,e.jsx)(Se.Z,{value:g.CategoryId,onChange:function(P){D(l()(l()({},g),{},{CategoryId:P==null?void 0:P.Id}))}})})}),(0,e.jsx)(me.Z,{span:24,children:(0,e.jsx)(H.Z.Item,{label:"\u6807\u7B7E",children:(0,e.jsx)(Re,{value:((k=g.Tags)===null||k===void 0?void 0:k.map(function(N){return N.Id||""}))||[],onChange:function(P){D(l()(l()({},g),{},{Tags:P}))}})})}),(0,e.jsx)(me.Z,{span:8,hidden:(0,b.tC)(),children:(0,e.jsx)(H.Z.Item,{label:"\u4EA7\u5730",children:(0,e.jsx)(ke,{value:g.AreaId,onChange:function(P){D(l()(l()({},g),{},{AreaId:P==null?void 0:P.Id}))}})})})]}),L(),(0,b.tC)()||ne(),(0,e.jsx)(Ae.Z,{gutter:10,hidden:(0,b.tC)(),children:(0,e.jsx)(me.Z,{span:24,children:(0,e.jsx)(H.Z.Item,{label:"\u5E93\u5B58\u6263\u51CF\u7B56\u7565",children:(0,e.jsx)(ve.Z.Group,{bordered:!0,value:g.StockDeductStrategy||"",onChange:function(P){D(l()(l()({},g),{},{StockDeductStrategy:P}))},options:b.qh.map(function(N){return{title:N.name||"",value:N.id||""}})})})})}),(0,e.jsx)(oe.Z,{size:"small",title:"\u72B6\u6001",bordered:!1,children:(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u7F6E\u9876\u5C55\u793A",children:(0,e.jsx)(Te.Z,{checked:g.StickyTop,onChange:function(P){D(l()(l()({},g),{},{StickyTop:P}))}})})}),(0,e.jsx)(me.Z,{span:6,children:(0,e.jsxs)(H.Z.Item,{label:"\u5728\u552E",children:[(0,e.jsx)(Te.Z,{checked:g.Published,onChange:function(P){D(l()(l()({},g),{},{Published:P}))}}),g.Published||(0,e.jsx)(le.Z,{message:"\u5546\u54C1\u4E0B\u6240\u6709sku\u90FD\u4E0D\u80FD\u9500\u552E"})]})})]})}),(0,e.jsx)(oe.Z,{size:"small",title:"\u9650\u5236",bordered:!1,children:(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u652F\u6301\u4E0B\u5355",children:(0,e.jsx)(Te.Z,{checked:g.PlaceOrderSupported,onChange:function(P){D(l()(l()({},g),{},{PlaceOrderSupported:P}))}})})}),(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u652F\u6301\u552E\u540E",children:(0,e.jsx)(Te.Z,{checked:g.AfterSalesSupported,onChange:function(P){D(l()(l()({},g),{},{AfterSalesSupported:P}))}})})})]})}),(0,e.jsx)(oe.Z,{size:"small",title:"\u914D\u9001",bordered:!1,children:(0,e.jsx)(Ae.Z,{gutter:10,children:(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u652F\u6301\u8D27\u5230\u4ED8\u6B3E",children:(0,e.jsx)(Te.Z,{checked:g.OfflinePaymentSupported,onChange:function(P){D(l()(l()({},g),{},{OfflinePaymentSupported:P}))}})})})})}),(0,e.jsx)(oe.Z,{size:"small",title:"\u5176\u4ED6",bordered:!1,children:(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u53EF\u4EE5\u8BC4\u8BBA",children:(0,e.jsx)(Te.Z,{checked:g.CommentSupported,onChange:function(P){D(l()(l()({},g),{},{CommentSupported:P}))}})})}),(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u4EC5\u4F5C\u4E3A\u4FE1\u606F\u9875",children:(0,e.jsx)(Te.Z,{checked:g.DisplayAsInformationPage,onChange:function(P){D(l()(l()({},g),{},{DisplayAsInformationPage:P}))}})})})]})}),(0,e.jsx)(Ae.Z,{gutter:10,children:(0,e.jsx)(me.Z,{span:24,children:(0,e.jsxs)(H.Z.Item,{label:"\u5546\u54C1\u8BE6\u60C5",rules:[{max:1e4}],children:[(0,e.jsx)(le.Z,{message:"\u4F7F\u7528markdown\u8BED\u6CD5",style:{marginBottom:10}}),(0,e.jsx)(Be.Z,{value:g.DetailInformation||"",onChange:function(P){D(l()(l()({},g),{},{DetailInformation:P}))}})]})})})]})})})},we=n(83062),it=n(98163),We=n(38703),Pe=n(77953),ht=n(85134),dt=n(55793);var Le=(0,A.Z)("outline","arrow-left","IconArrowLeft",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M5 12l6 6",key:"svg-1"}],["path",{d:"M5 12l6 -6",key:"svg-2"}]]);var ct=(0,A.Z)("outline","arrow-right","IconArrowRight",[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]]),Ge=n(70278);var $e=(0,A.Z)("outline","upload","IconUpload",[["path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2",key:"svg-0"}],["path",{d:"M7 9l5 -5l5 5",key:"svg-1"}],["path",{d:"M12 4l0 12",key:"svg-2"}]]),Et=function(te){var k=te.data,W=te.ok,re=te.count,be=te.maxSize,Q=te.title,Y=te.skus,q=(0,s.useRef)(null),de=(0,s.useState)([]),g=w()(de,2),D=g[0],O=g[1],L=(0,b.zH)(k||[]),ne=function(he){W&&W(he.map(function(ee,et){return l()(l()({},ee),{},{DisplayOrder:et})}))},N=re||20,P=N-L.length,_e=be||ht.v.upload.maxSize,Ee=function(he,ee){var et=Y||[],ut=et.find(function(nt){return nt.Id==he.SkuId});return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(M.Z,{direction:"horizontal",children:[(0,e.jsxs)(f.ZP.Group,{children:[(0,e.jsx)(we.Z,{title:"\u5411\u524D\u79FB\u52A8",children:(0,e.jsx)(f.ZP,{type:"dashed",disabled:ee<=0,icon:(0,e.jsx)(Le,{stroke:1}),onClick:function(){var Ne=h()(L);(0,c.qW)(Ne,ee-1,ee),ne(Ne)}})}),(0,e.jsx)(we.Z,{title:"\u5411\u540E\u79FB\u52A8",children:(0,e.jsx)(f.ZP,{type:"dashed",disabled:ee>=L.length-1,icon:(0,e.jsx)(ct,{stroke:1}),onClick:function(){var Ne=h()(L);(0,c.qW)(Ne,ee,ee+1),ne(Ne)}})}),(0,e.jsx)(we.Z,{title:"\u5220\u9664",children:(0,e.jsx)(f.ZP,{type:"dashed",danger:!0,icon:(0,e.jsx)(Ge.Z,{stroke:1}),onClick:function(){var Ne=h()(L);(0,Pe.Z)(Ne,ee),ne(Ne)}})})]},he.Id),(0,e.jsx)(we.Z,{title:"\u9009\u62E9sku",children:(0,e.jsx)(Ze.Z,{style:{minWidth:100},placeholder:"\u9009\u62E9sku",value:ut==null?void 0:ut.Id,onChange:function(Ne){var _t=h()(L);_t[ee].SkuId=Ne,ne(_t)},onClear:function(){var Ne=h()(L);Ne[ee].SkuId=void 0,ne(Ne)},allowClear:!0,options:et.map(function(nt){return{label:nt.Name,value:nt.Id}})})})]})})},V=function(){return P<=0?null:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{style:{marginTop:10,marginBottom:10,padding:10,display:"flex",flexDirection:"row",justifyContent:"flex-end",justifyItems:"flex-end"},children:(0,e.jsx)(f.ZP,{loading:!(0,c.G5)(D),icon:(0,e.jsx)($e,{stroke:1}),type:"dashed",onClick:function(){var ee;(ee=q.current)===null||ee===void 0||ee.click()},children:"\u9009\u62E9\u56FE\u7247"})})})},ce=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Ae.Z,{gutter:10,children:L.map(function(he,ee){var et=(0,b.u2)(he.StorageMeta||{});return(0,e.jsxs)(me.Z,{span:4,children:[(0,e.jsxs)("div",{style:{padding:10},children:[(0,e.jsx)(x.Z,{showZero:!0,count:(he.DisplayOrder||0)+1,children:(0,e.jsx)(it.Z,{src:et.small||"",preview:{src:et.large||""},width:"100%",alt:"\u6392\u5E8F\u503C\uFF1A".concat(he.DisplayOrder)})}),(0,e.jsx)("div",{children:he.FileName||"--"})]}),(0,e.jsx)("div",{style:{padding:10},children:Ee(he,ee)})]},he.Id)})})})},z=function(){if((0,c.G5)(D))return null;var he=D.filter(function(ee){return ee.done}).length;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(We.Z,{style:{marginBottom:5},type:"line",status:"active",size:"small",percent:parseInt((he/D.length*100).toFixed())}),(0,e.jsx)("div",{style:{margin:10,padding:10,backgroundColor:"rgb(250,250,250)",border:"1px solid blue"},children:D.map(function(ee,et){var ut;return(0,e.jsxs)("div",{style:{marginBottom:5},children:[(0,e.jsxs)("div",{children:[ee.base64&&ee.base64.length>0&&(0,e.jsx)("img",{width:80,height:80,src:ee.base64,alt:""}),(0,e.jsx)("b",{children:((ut=ee.file)===null||ut===void 0?void 0:ut.name)||"--"})]}),(0,e.jsxs)("div",{children:[ee.loading&&(0,e.jsx)("b",{children:"\u4E0A\u4F20\u4E2D..."}),ee.done&&(0,e.jsx)("b",{children:"\u5B8C\u6210"}),(0,c.Wq)(ee.error)||(0,e.jsx)("b",{children:ee.error})]})]},et)})})]})},ge=function(){var Ce=ae()(je()().mark(function he(ee){var et,ut,nt,Ne,_t,Ke;return je()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(ee.length>P)){o.next=3;break}return T.ZP.error("\u8FD8\u53EF\u4EE5\u4E0A\u4F20".concat(P,"\u5F20\u56FE\u7247\uFF0C\u4F60\u9009\u62E9\u7684\u592A\u591A\u4E86")),o.abrupt("return");case 3:et=[],O(function(r){return h()(ee)}),o.prev=5,ut=0;case 7:if(!(ut<ee.length)){o.next=35;break}if(nt=ee[ut],o.prev=9,nt.loading=!0,O(function(r){return h()(ee)}),Ne=nt.file,(0,dt.Or)(Ne.name)){o.next=16;break}return nt.error="\u53EA\u652F\u6301 ".concat((0,dt.MU)().join("\u3001")," \u683C\u5F0F\u7684\u56FE\u7247"),o.abrupt("continue",32);case 16:return o.next=18,(0,dt.yE)(Ne,_e);case 18:if(Ne=o.sent,!(Ne.size>_e)){o.next=22;break}return nt.error="\u56FE\u7247\u5C3A\u5BF8\u8FC7\u5927",o.abrupt("continue",32);case 22:return o.next=24,(0,dt.ku)(Ne);case 24:_t=o.sent,Ke={GoodsId:void 0,SkuId:void 0,PictureMetaId:_t.Id,StorageMeta:_t,FileName:Ne.name},et.push(Ke);case 27:return o.prev=27,nt.loading=!1,nt.done=!0,O(function(r){return h()(ee)}),o.finish(27);case 32:++ut,o.next=7;break;case 35:return o.prev=35,O(function(r){return[]}),ne([].concat(h()(L),et)),o.finish(35);case 39:case"end":return o.stop()}},he,null,[[5,,35,39],[9,,27,32]])}));return function(ee){return Ce.apply(this,arguments)}}(),Xe=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{style:{display:"none"},children:(0,e.jsx)("input",{ref:q,type:"file",accept:"image/*",multiple:!0,onChange:function(){var he=ae()(je()().mark(function ee(et){var ut,nt,Ne;return je()().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(et.target.files!=null){Ke.next=2;break}return Ke.abrupt("return");case 2:ut=[],nt=0;case 4:if(!(nt<et.target.files.length)){Ke.next=19;break}if(Ne=et.target.files.item(nt),Ne!=null){Ke.next=8;break}return Ke.abrupt("continue",16);case 8:return Ke.t0=ut,Ke.t1=Ne,Ke.t2=void 0,Ke.next=13,(0,dt.jP)(Ne);case 13:Ke.t3=Ke.sent,Ke.t4={file:Ke.t1,loading:!1,done:!1,error:Ke.t2,base64:Ke.t3},Ke.t0.push.call(Ke.t0,Ke.t4);case 16:++nt,Ke.next=4;break;case 19:return Ke.next=21,ge(ut);case 21:case"end":return Ke.stop()}},ee)}));return function(ee){return he.apply(this,arguments)}}()})})})};return(0,e.jsxs)(e.Fragment,{children:[Xe(),(0,e.jsxs)(oe.Z,{title:Q||"--",children:[(0,e.jsx)("div",{style:{marginBottom:20},children:(0,e.jsx)(le.Z,{message:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:"\u8FD8\u53EF\u4EE5\u4E0A\u4F20".concat(P,"\u5F20\u56FE\u7247")})}),type:"info"})}),ce(),z(),V()]})]})},vt=n(80799),at=n(24435),xt=n(48746),qe=n(97975),ot=function(te){var k=te.model,W=te.ok,re=(k==null?void 0:k.Values)||[],be=(0,s.useState)(!1),Q=w()(be,2),Y=Q[0],q=Q[1],de=(0,s.useState)(void 0),g=w()(de,2),D=g[0],O=g[1],L=D||{},ne=function(ce){q(!0),I.x1.mallAdmin.specValueEdit(l()(l()({},ce),{},{SpecId:k.Id})).then(function(z){z.data.Error?T.ZP.error(z.data.Error.Message):(T.ZP.success("\u4FDD\u5B58\u6210\u529F"),O(void 0),W&&W())}).finally(function(){q(!1)})},N=function(ce){confirm("\u786E\u5B9A\u5220\u9664\u89C4\u683C")&&(q(!0),I.x1.mallAdmin.specValueDelete({Id:ce.Id}).then(function(z){z.data.Error?T.ZP.error(z.data.Error.Message):(T.ZP.success("\u5220\u9664\u6210\u529F"),O(void 0),W&&W())}).finally(function(){q(!1)}))},P=function(ce){var z=ce.PriceOffset||0;return z>0?(0,e.jsx)("span",{children:"+".concat((0,c.lb)(z))}):z<0?(0,e.jsx)("span",{children:"-".concat((0,c.lb)(z))}):null},_e=function(){if(D!=null&&D.AssociatedSkuId)return{Id:D.AssociatedSkuId,Name:"\u9519\u8BEF\u7684\u89C4\u683Cid: ".concat(D.AssociatedSkuId)}},Ee=_e();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(fe.Z,{title:"\u89C4\u683C\u53C2\u6570",open:D!=null,onCancel:function(){return O(void 0)},footer:(0,e.jsxs)(M.Z,{size:2,children:[(0,c.OB)(L.Id)||(0,e.jsx)(f.ZP,{type:"primary",danger:!0,onClick:function(){N(L)},children:"\u5220\u9664"}),(0,e.jsx)(f.ZP,{type:"primary",onClick:function(){ne(L)},children:"\u4FDD\u5B58"})]}),children:(0,e.jsx)(X.Z,{spinning:Y,children:(0,e.jsxs)(H.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsx)(H.Z.Item,{label:"\u89C4\u683C\u540D\u79F0",children:(0,e.jsx)(Z.Z,{color:"processing",children:k.Name||"--"})}),(0,e.jsx)(H.Z.Item,{label:"\u540D\u79F0",rules:[{required:!0},{max:20}],children:(0,e.jsx)(v.Z,{value:L.Name||"",onChange:function(ce){O(l()(l()({},D),{},{Name:ce.target.value}))}})}),(0,e.jsx)(H.Z.Item,{label:"\u5DEE\u4EF7",children:(0,e.jsx)(at.Z,{defaultValue:L.PriceOffset||void 0,onChange:function(ce){O(l()(l()({},D),{},{PriceOffset:ce||void 0}))}})}),(0,e.jsx)(H.Z.Item,{label:"\u5173\u8054\u7269\u6599",tooltip:"\u68C0\u67E5\u5E76\u6263\u51CF\u7269\u6599\u5E93\u5B58",children:(0,e.jsxs)(M.Z,{direction:"vertical",style:{width:"100%"},children:[(0,e.jsx)(xt.Z,{props:{status:(D==null?void 0:D.AssociatedSku)==null&&Ee!=null?"error":void 0},selectedSku:(D==null?void 0:D.AssociatedSku)||Ee,onChange:function(ce){O(l()(l()({},D),{},{AssociatedSku:ce,AssociatedSkuId:ce==null?void 0:ce.Id}))}}),(0,c.Wq)(D==null?void 0:D.AssociatedSkuId)||(0,e.jsx)(at.Z,{addonBefore:(0,e.jsx)("b",{children:"\u7269\u6599\u6570\u91CF"}),status:((D==null?void 0:D.AssociatedSkuCount)||0)<1?"error":void 0,value:(D==null?void 0:D.AssociatedSkuCount)||0,onChange:function(ce){O(l()(l()({},D),{},{AssociatedSkuCount:ce||0}))},min:1})]})})]})})}),(0,e.jsxs)(M.Z,{wrap:!0,direction:"horizontal",size:2,children:[re.map(function(V,ce){var z=(0,b.CQ)(V.AssociatedSku);return(0,e.jsx)(Z.Z,{color:"blue",style:{cursor:"pointer"},onClick:function(){O(V)},closable:!1,children:(0,e.jsx)(we.Z,{title:z?"\u5173\u8054\u7269\u6599\uFF1A".concat(z," * ").concat(V.AssociatedSkuCount||0):void 0,children:(0,e.jsxs)(M.Z,{direction:"horizontal",children:[(0,e.jsx)("span",{children:V.Name}),P(V)]})})},ce)}),(0,e.jsx)(we.Z,{title:"\u6DFB\u52A0\u89C4\u683C\u660E\u7EC6",children:(0,e.jsx)(f.ZP,{icon:(0,e.jsx)(qe.Z,{stroke:1}),onClick:function(){O({PriceOffset:0,AssociatedSkuCount:1})}})})]})]})},Ve=function(te){var k=te.model,W=(0,s.useState)(!0),re=w()(W,2),be=re[0],Q=re[1],Y=(0,s.useState)([]),q=w()(Y,2),de=q[0],g=q[1],D=(0,s.useState)(void 0),O=w()(D,2),L=O[0],ne=O[1],N=L||{},P=(0,s.useState)(!1),_e=w()(P,2),Ee=_e[0],V=_e[1],ce=function(){k.Id&&(Q(!0),I.x1.mallAdmin.specListJson({Id:k.Id}).then(function(he){he.data.Error?T.ZP.error(he.data.Error.Message):g(he.data.Data||[])}).finally(function(){Q(!1)}))},z=function(he){confirm("\u786E\u5B9A\u5220\u9664\u89C4\u683C")&&(Q(!0),I.x1.mallAdmin.specDelete({Id:he.Id}).then(function(ee){ee.data.Error?T.ZP.error(ee.data.Error.Message):(T.ZP.success("\u5220\u9664\u6210\u529F"),ce())}).finally(function(){Q(!1)}))};(0,s.useEffect)(function(){ce()},[k]);var ge=function(he){V(!0),he.GoodsId=k.Id,I.x1.mallAdmin.specEdit(l()(l()({},he),{},{GoodsId:k.Id})).then(function(ee){ee.data.Error?T.ZP.error(ee.data.Error.Message):(T.ZP.success("\u4FDD\u5B58\u6210\u529F"),ne(void 0),ce())}).finally(function(){V(!1)})},Xe=[{title:"\u540D\u79F0",render:function(he,ee){return ee.Name||"--"}},{title:"\u660E\u7EC6",render:function(he,ee){return(0,e.jsx)(ot,{model:ee,ok:function(){ce()}})}},{title:"\u64CD\u4F5C",render:function(he,ee){return(0,e.jsxs)(f.ZP.Group,{children:[(0,e.jsx)(f.ZP,{type:"link",onClick:function(){ne(ee)},children:"\u7F16\u8F91"}),(0,e.jsx)(f.ZP,{type:"link",danger:!0,onClick:function(){z(ee)},children:"\u5220\u9664"})]})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(fe.Z,{title:"\u89C4\u683C",open:L!=null,onCancel:function(){return ne(void 0)},onOk:function(){return ge(N)},children:(0,e.jsx)(X.Z,{spinning:Ee,children:(0,e.jsx)(H.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:(0,e.jsx)(H.Z.Item,{label:"\u540D\u79F0",rules:[{required:!0},{max:20}],children:(0,e.jsx)(v.Z,{value:N.Name||"",onChange:function(he){ne(l()(l()({},L),{},{Name:he.target.value}))}})})})})}),(0,e.jsx)(oe.Z,{title:"\u5546\u54C1\u89C4\u683C/\u5C5E\u6027",style:{marginBottom:10},extra:(0,e.jsx)(f.ZP,{type:"primary",onClick:function(){ne({})},children:"\u65B0\u589E"}),children:(0,e.jsx)(vt.Z,{rowKey:function(he){return he.Id||""},loading:be,columns:Xe,dataSource:de,pagination:!1})})]})},lt=function(te){var k=te.model,W=te.ok,re=(k==null?void 0:k.Items)||[],be=(0,s.useState)(!1),Q=w()(be,2),Y=Q[0],q=Q[1],de=(0,s.useState)(void 0),g=w()(de,2),D=g[0],O=g[1],L=D||{},ne=function(Ee){q(!0),I.x1.mallAdmin.valueAddedSaveGroupItem(l()(l()({},Ee),{},{GroupId:k.Id})).then(function(V){V.data.Error?T.ZP.error(V.data.Error.Message):(T.ZP.success("\u4FDD\u5B58\u6210\u529F"),O(void 0),W&&W())}).finally(function(){q(!1)})},N=function(Ee){confirm("\u786E\u5B9A\u5220\u9664\uFF1F")&&(q(!0),I.x1.mallAdmin.valueAddedDeleteGroupItem({Id:Ee.Id}).then(function(V){V.data.Error?T.ZP.error(V.data.Error.Message):(T.ZP.success("\u5220\u9664\u6210\u529F"),O(void 0),W&&W())}).finally(function(){q(!1)}))},P=function(Ee){var V=Ee.PriceOffset||0;return V>0?(0,e.jsx)("span",{children:"+".concat((0,c.lb)(V))}):V<0?(0,e.jsx)("span",{children:"-".concat((0,c.lb)(V))}):null};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(fe.Z,{title:"\u589E\u503C\u670D\u52A1",open:D!=null,onCancel:function(){return O(void 0)},footer:(0,e.jsxs)(M.Z,{size:2,children:[(0,c.OB)(L.Id)||(0,e.jsx)(f.ZP,{type:"primary",danger:!0,onClick:function(){N(L)},children:"\u5220\u9664"}),(0,e.jsx)(f.ZP,{type:"primary",onClick:function(){ne(L)},children:"\u4FDD\u5B58"})]}),children:(0,e.jsx)(X.Z,{spinning:Y,children:(0,e.jsxs)(H.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsx)(H.Z.Item,{label:"\u540D\u79F0",children:(0,e.jsx)(Z.Z,{color:"processing",children:k.Name||"--"})}),(0,e.jsx)(H.Z.Item,{label:"\u540D\u79F0",rules:[{required:!0},{max:20}],children:(0,e.jsx)(v.Z,{value:L.Name||"",onChange:function(Ee){O(l()(l()({},D),{},{Name:Ee.target.value}))}})}),(0,e.jsx)(H.Z.Item,{label:"\u5DEE\u4EF7",children:(0,e.jsx)(at.Z,{defaultValue:L.PriceOffset||void 0,onChange:function(Ee){O(l()(l()({},D),{},{PriceOffset:Ee||void 0}))}})})]})})}),(0,e.jsxs)(M.Z,{wrap:!0,direction:"horizontal",size:2,children:[re.map(function(_e,Ee){return(0,e.jsx)(Z.Z,{color:"blue",style:{cursor:"pointer"},onClick:function(){O(_e)},closable:!1,children:(0,e.jsx)(we.Z,{title:void 0,children:(0,e.jsxs)(M.Z,{direction:"horizontal",children:[(0,e.jsx)("span",{children:_e.Name}),P(_e)]})})},Ee)}),(0,e.jsx)(we.Z,{title:"\u6DFB\u52A0\u670D\u52A1\u660E\u7EC6",children:(0,e.jsx)(f.ZP,{icon:(0,e.jsx)(qe.Z,{stroke:1}),onClick:function(){O({})}})})]})]})},Ue=function(te){var k=te.model,W=(0,s.useState)(!0),re=w()(W,2),be=re[0],Q=re[1],Y=(0,s.useState)([]),q=w()(Y,2),de=q[0],g=q[1],D=(0,s.useState)(void 0),O=w()(D,2),L=O[0],ne=O[1],N=L||{},P=(0,s.useState)(!1),_e=w()(P,2),Ee=_e[0],V=_e[1],ce=function(){k.Id&&(Q(!0),I.x1.mallAdmin.valueAddedQueryGroupWithItemsByGoodsId({Id:k.Id}).then(function(he){he.data.Error?T.ZP.error(he.data.Error.Message):g(he.data.Data||[])}).finally(function(){Q(!1)}))},z=function(he){confirm("\u786E\u5B9A\u5220\u9664\uFF1F")&&(Q(!0),I.x1.mallAdmin.valueAddedDeleteGroup({Id:he.Id}).then(function(ee){ee.data.Error?T.ZP.error(ee.data.Error.Message):(T.ZP.success("\u5220\u9664\u6210\u529F"),ce())}).finally(function(){Q(!1)}))};(0,s.useEffect)(function(){ce()},[k]);var ge=function(he){V(!0),he.GoodsId=k.Id,I.x1.mallAdmin.valueAddedSaveGroup(l()(l()({},he),{},{GoodsId:k.Id})).then(function(ee){ee.data.Error?T.ZP.error(ee.data.Error.Message):(T.ZP.success("\u4FDD\u5B58\u6210\u529F"),ne(void 0),ce())}).finally(function(){V(!1)})},Xe=[{title:"\u540D\u79F0",render:function(he,ee){return ee.Name||"--"}},{title:"\u63CF\u8FF0",render:function(he,ee){return ee.Description||"--"}},{title:"\u660E\u7EC6",render:function(he,ee){return(0,e.jsx)(lt,{model:ee,ok:function(){ce()}})}},{title:"\u5FC5\u9009\u9879",render:function(he,ee){return(0,e.jsx)(Te.Z,{checked:ee.IsRequired})}},{title:"\u591A\u9009\u9879",render:function(he,ee){return(0,e.jsx)(Te.Z,{checked:ee.MultipleChoice})}},{title:"\u64CD\u4F5C",render:function(he,ee){return(0,e.jsxs)(f.ZP.Group,{children:[(0,e.jsx)(f.ZP,{type:"link",onClick:function(){ne(ee)},children:"\u7F16\u8F91"}),(0,e.jsx)(f.ZP,{type:"link",danger:!0,onClick:function(){z(ee)},children:"\u5220\u9664"})]})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(fe.Z,{title:"\u5206\u7EC4",open:L!=null,onCancel:function(){return ne(void 0)},onOk:function(){return ge(N)},children:(0,e.jsx)(X.Z,{spinning:Ee,children:(0,e.jsxs)(H.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsx)(H.Z.Item,{label:"\u540D\u79F0",rules:[{required:!0},{max:20}],children:(0,e.jsx)(v.Z,{value:N.Name||"",onChange:function(he){ne(l()(l()({},L),{},{Name:he.target.value}))}})}),(0,e.jsx)(H.Z.Item,{label:"\u63CF\u8FF0",children:(0,e.jsx)(v.Z.TextArea,{rows:2,value:N.Description||"",onChange:function(he){ne(l()(l()({},L),{},{Description:he.target.value}))}})}),(0,e.jsx)(H.Z.Item,{label:"\u5FC5\u9009\u9879",children:(0,e.jsx)(Te.Z,{checked:N.IsRequired,onChange:function(he){ne(l()(l()({},L),{},{IsRequired:he}))}})}),(0,e.jsx)(H.Z.Item,{label:"\u591A\u9009",children:(0,e.jsx)(Te.Z,{checked:N.MultipleChoice,onChange:function(he){ne(l()(l()({},L),{},{MultipleChoice:he}))}})})]})})}),(0,e.jsx)(oe.Z,{title:"\u589E\u503C\u670D\u52A1",style:{marginBottom:10},extra:(0,e.jsx)(f.ZP,{type:"primary",onClick:function(){ne({})},children:"\u65B0\u589E"}),children:(0,e.jsx)(vt.Z,{rowKey:function(he){return he.Id||""},loading:be,columns:Xe,dataSource:de,pagination:!1})})]})},st=function(te){var k=te.goodsId,W=te.ok,re=te.hide,be=te.show,Q=(0,s.useState)({}),Y=w()(Q,2),q=Y[0],de=Y[1],g=(0,s.useState)("1"),D=w()(g,2),O=D[0],L=D[1],ne=(0,c.Wq)(q==null?void 0:q.Id),N=(0,F.Z)(I.x1.mallAdmin.goodsGetById,{manual:!0,onSuccess:function(ge){(0,c._y)(ge,function(){de(ge.data.Data||{})})}}),P=(0,F.Z)(I.x1.mallAdmin.goodsSaveGoods,{manual:!0,onSuccess:function(ge){(0,c._y)(ge,function(){T.ZP.success("\u4FDD\u5B58\u6210\u529F"),W&&W(ge.data.Data||{})})}}),_e=N.loading||P.loading,Ee=function(ge){return ne?(0,e.jsx)(oe.Z,{style:{margin:10},children:(0,e.jsx)(le.Z,{message:"\u8BF7\u5148\u4FDD\u5B58\u5546\u54C1\u518D\u7F16\u8F91\u6B64\u6A21\u5757"})}):(0,e.jsx)(e.Fragment,{children:ge})};(0,s.useEffect)(function(){be&&L("1")},[be]);var V=function(){if((0,c.Wq)(k)){de({GoodsType:b.CJ.Normal,AfterSalesSupported:!0,CommentSupported:!0,OfflinePaymentSupported:!0,PlaceOrderSupported:!0,Published:!0,StockDeductStrategy:b.bD.AfterPlaceOrder});return}N.run({Id:k})};(0,s.useEffect)(function(){V()},[k]);var ce=[{key:"1",label:"\u57FA\u672C\u4FE1\u606F",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(He,{show:be,data:q,ok:function(ge){de(ge||{})}}),(0,e.jsx)("div",{style:{marginBottom:10},children:(0,e.jsx)(Et,{title:"\u5546\u54C1\u56FE\u7247",skus:q.Skus,data:q.GoodsPictures||[],ok:function(ge){de(l()(l()({},q),{},{GoodsPictures:ge}))}})})]})},{key:(0,b.tC)()?"":"2",label:"\u89C4\u683C\u660E\u7EC6",children:(0,e.jsx)(e.Fragment,{children:Ee((0,e.jsx)(Ve,{model:q,ok:function(){V()}}))})},{key:(0,b.tC)()?"":"3",label:"\u589E\u503C\u670D\u52A1",children:(0,e.jsx)(e.Fragment,{children:Ee((0,e.jsx)(Ue,{model:q,ok:function(){V()}}))})}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(fe.Z,{title:"\u7F16\u8F91\u5546\u54C1",forceRender:!0,open:be,destroyOnClose:!0,onCancel:function(){re&&re()},footer:(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(se.Z,{action:ae()(je()().mark(function z(){var ge;return je()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return Ce.next=2,I.x1.mallAdmin.goodsDelete({Id:q.Id});case 2:ge=Ce.sent,(0,c._y)(ge,function(){re(),W(l()(l()({},q),{},{IsDeleted:!0}))});case 4:case"end":return Ce.stop()}},z)})),hide:(0,c.Wq)(q.Id)}),(0,e.jsx)(f.ZP,{type:"primary",onClick:function(){var ge,Xe=l()({},q);Xe.Name=(ge=Xe.Name)===null||ge===void 0?void 0:ge.trim(),!(0,c.Wq)(Xe.Name)&&P.run(l()({},Xe))},children:"\u4FDD\u5B58"})]}),width:"95%",children:(0,e.jsx)(X.Z,{spinning:_e,children:(0,e.jsx)(ue.Z,{activeKey:O,onChange:function(ge){L(ge)},destroyInactiveTabPane:!0,items:ce.filter(function(z){return z.key&&z.key.length>0})})})})})},Fe=function(te){var k=te.query,W=te.onSearch,re=(0,s.useState)(l()({},k)),be=w()(re,2),Q=be[0],Y=be[1],q=function(g){W&&W(l()(l()({},g),{},{Page:1}))};return(0,s.useEffect)(function(){Y(l()({},k))},[k]),(0,e.jsx)(oe.Z,{bordered:!1,style:{marginBottom:10},children:(0,e.jsx)(H.Z,{labelCol:{span:8},autoComplete:"off",children:(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u5173\u952E\u8BCD",children:(0,e.jsx)(v.Z,{value:Q.Keywords||"",onChange:function(g){Y(l()(l()({},Q),{},{Keywords:g.target.value}))}})})}),(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u4E0A\u4E0B\u67B6",children:(0,e.jsx)(Ze.Z,{allowClear:!0,value:Q.IsPublished,onChange:function(g){Y(l()(l()({},Q),{},{IsPublished:g}))},onClear:function(){Y(l()(l()({},Q),{},{IsPublished:void 0}))},options:[{value:!0,label:"\u4E0A\u67B6"},{value:!1,label:"\u4E0B\u67B6"}]})})}),(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u54C1\u724C",children:(0,e.jsx)(De.Z,{value:Q.BrandId,onChange:function(g){Y(l()(l()({},Q),{},{BrandId:(g==null?void 0:g.Id)||void 0}))}})})}),(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u5206\u7C7B",children:(0,e.jsx)(Se.Z,{value:Q.CategoryId,onChange:function(g){Y(l()(l()({},Q),{},{CategoryId:(g==null?void 0:g.Id)||void 0}))}})})}),(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u6807\u7B7E",children:(0,e.jsx)(Re,{single_select:!0,value:[Q.TagId||""].filter(function(de){return!(0,c.Wq)(de)}),onChange:function(g){var D;Y(l()(l()({},Q),{},{TagId:((D=g.at(0))===null||D===void 0?void 0:D.Id)||void 0}))}})})}),(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u6CA1\u6709\u54C1\u724C",children:(0,e.jsx)(Oe.Z,{checked:!!Q.WithoutBrand,onChange:function(g){Y(l()(l()({},Q),{},{WithoutBrand:g.target.checked}))}})})}),(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(H.Z.Item,{label:"\u6CA1\u6709\u5206\u7C7B",children:(0,e.jsx)(Oe.Z,{checked:!!Q.WithoutCategory,onChange:function(g){Y(l()(l()({},Q),{},{WithoutCategory:g.target.checked}))}})})}),(0,e.jsx)(me.Z,{span:6,children:(0,e.jsx)(M.Z,{children:(0,e.jsx)(f.ZP,{type:"primary",htmlType:"submit",onClick:function(){return q(Q)},children:"\u641C\u7D22"})})}),(0,e.jsx)(me.Z,{span:6})]})})})},Qe=n(55241),Je=n(62048),ze=n(50142),ft=n(64442),Ct=function(te){var k=te.goods,W=te.data,re=te._data,be=function(){if(k)return(0,e.jsx)(Z.Z,{color:"blue",children:k.Name||"--"});if(!(0,c.Wq)(W.Id)){var Y;return(0,e.jsx)(we.Z,{title:"edit mode",children:(0,e.jsx)(Z.Z,{color:"blue",children:((Y=W.Goods)===null||Y===void 0?void 0:Y.Name)||"error : spu not found"})})}return W.Goods!=null?(0,e.jsx)(Z.Z,{color:"blue",closable:!0,onClose:function(){re(l()(l()({},W),{},{GoodsId:"",Goods:void 0}))},children:W.Goods.Name||"--"}):(0,e.jsx)(ft.Z,{onChange:function(de){re(l()(l()({},W),{},{GoodsId:de==null?void 0:de.Id,Goods:de}))}})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{title:"\u57FA\u7840\u4FE1\u606F",children:(0,e.jsxs)(H.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:8,children:(0,e.jsx)(H.Z.Item,{label:"\u57FA\u7840\u5546\u54C1\u4FE1\u606F",tooltip:"known as spu\uFF0C\u4FDD\u5B58\u540E\u4E0D\u53EF\u4EE5\u4FEE\u6539",children:be()})}),(0,e.jsx)(me.Z,{span:8}),(0,e.jsx)(me.Z,{span:8})]}),(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:8,children:(0,e.jsxs)(H.Z.Item,{label:"\u89C4\u683C\u540D\u79F0",required:!0,children:[(0,e.jsx)(v.Z,{required:!0,count:{show:!0,max:20},maxLength:20,value:W.Name||"",onChange:function(Y){re(l()(l()({},W),{},{Name:Y.target.value}))}}),(0,c.Wq)(W.Name)&&(0,e.jsx)("p",{style:{color:"red"},children:"\u4E0D\u53EF\u7559\u7A7A"})]})}),(0,e.jsx)(me.Z,{span:8,children:(0,e.jsx)(H.Z.Item,{label:"sku\u7F16\u7801",tooltip:"\u901A\u5E38\u662F\u5546\u54C1\u6761\u7801",children:(0,e.jsx)(v.Z,{maxLength:100,value:W.SkuCode||"",onChange:function(Y){re(l()(l()({},W),{},{SkuCode:Y.target.value}))}})})}),(0,e.jsx)(me.Z,{span:8,children:(0,e.jsx)(H.Z.Item,{label:"\u989C\u8272",children:(0,e.jsx)(ze.Z,{allowClear:!0,value:W.Color,onChange:function(Y){re(l()(l()({},W),{},{Color:Y.toHex()}))}})})}),(0,e.jsx)(me.Z,{span:16,children:(0,e.jsx)(H.Z.Item,{label:"\u63CF\u8FF0\u4FE1\u606F",children:(0,e.jsx)(v.Z.TextArea,{value:W.Description||"",onChange:function(Y){re(l()(l()({},W),{},{Description:Y.target.value}))}})})})]}),(0,e.jsx)(Ae.Z,{gutter:10,children:(0,e.jsx)(me.Z,{span:8,children:(0,e.jsx)(H.Z.Item,{label:"\u91CD\u91CF",tooltip:"kg",children:(0,e.jsx)(at.Z,{min:0,value:W.Weight||0,onChange:function(Y){re(l()(l()({},W),{},{Weight:Y||0}))}})})})}),(0,e.jsxs)(Ae.Z,{gutter:10,children:[(0,e.jsx)(me.Z,{span:8,children:(0,e.jsxs)(H.Z.Item,{label:"\u662F\u5426\u53EF\u7528",children:[(0,e.jsx)(Te.Z,{checked:W.IsActive||!1,onChange:function(Y){re(l()(l()({},W),{},{IsActive:Y}))}}),W.IsActive||(0,e.jsx)(le.Z,{message:"\u5F53\u524Dsku\u4E0D\u53EF\u4EE5\u9500\u552E"})]})}),(0,e.jsx)(me.Z,{span:8,children:(0,e.jsx)(H.Z.Item,{label:"\u6700\u5C11\u8D2D\u4E70\u6570\u91CF",children:(0,e.jsx)(at.Z,{min:0,value:W.MinAmountInOnePurchase||0,onChange:function(Y){re(l()(l()({},W),{},{MinAmountInOnePurchase:Y||0}))}})})}),(0,e.jsx)(me.Z,{span:8,children:(0,e.jsx)(H.Z.Item,{label:"\u6700\u5927\u8D2D\u4E70\u6570\u91CF",children:(0,e.jsx)(at.Z,{min:0,value:W.MaxAmountInOnePurchase||0,onChange:function(Y){re(l()(l()({},W),{},{MaxAmountInOnePurchase:Y||0}))}})})})]})]})})})},yt=n(38295),pt=function(te){var k=te.data,W=te._data,re=(0,yt.o)(),be=re.grades||[],Q=(0,s.useState)(!1),Y=w()(Q,2),q=Y[0],de=Y[1],g=k.GradePrices||[],D=be.map(function(N){var P=g.find(function(Ee){return Ee.GradeId==N.Id});if(P)return l()({},P);var _e={GradeId:N.Id,SkuId:k.Id,PriceOffset:0};return _e}),O=function(P){W(l()(l()({},k),{},{GradePrices:P}))},L=[{title:"\u4F1A\u5458\u7B49\u7EA7",render:function(P){var _e;return((_e=be.find(function(Ee){return Ee.Id==P.GradeId}))===null||_e===void 0?void 0:_e.Name)||"--"}},{title:"\u5DEE\u4EF7",render:function(P,_e,Ee){return(0,e.jsx)(at.Z,{value:_e.PriceOffset||0,onChange:function(ce){var z=h()(D);z[Ee].PriceOffset=ce||0,O(z)}})}}];(0,s.useEffect)(function(){re.queryGrades()},[]);var ne=function(){return be.length<=0?(0,e.jsx)(le.Z,{message:"\u672A\u8BBE\u7F6E\u7528\u6237\u7B49\u7EA7"}):(0,e.jsx)(vt.Z,{rowKey:function(_e){return _e.Id||""},columns:L,dataSource:D,pagination:!1,bordered:!1})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{title:"\u8BBE\u7F6E\u4EF7\u683C",loading:q,children:(0,e.jsxs)(H.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,e.jsx)(Ae.Z,{gutter:10,children:(0,e.jsx)(me.Z,{span:8,children:(0,e.jsx)(H.Z.Item,{label:"\u96F6\u552E\u4EF7",children:(0,e.jsx)(at.Z,{min:0,value:k.Price,onChange:function(P){W(l()(l()({},k),{},{Price:P||0}))}})})})}),(0,e.jsx)(H.Z.Item,{label:"\u4F1A\u5458\u4EF7",children:ne()})]})})})},jt=function(k){return"".concat(k.SpecId,"=").concat(k.SpecValueId)},Mt=function(te){var k,W=te.model,re=te.ok,be=W.SpecItemList||[],Q=(0,F.Z)(I.x1.mallAdmin.specListJson,{manual:!0}),Y=((k=Q.data)===null||k===void 0||(k=k.data)===null||k===void 0?void 0:k.Data)||[],q=Y.flatMap(function(O){return O.Values||[]}).map(function(O){return{SpecId:O.SpecId,SpecValueId:O.Id}}),de=function(){W.GoodsId&&Q.run({Id:W.GoodsId})},g=function(L){var ne=q.map(function(P){return jt(P)}),N=L.filter(function(P){return ne.indexOf(jt(P))>=0});re&&re(N)};(0,s.useEffect)(function(){de()},[]);var D=function(){return Q.loading?(0,e.jsx)(X.Z,{spinning:!0}):(0,c.G5)(Y)?(0,e.jsx)(le.Z,{message:"\u8BF7\u5148\u914D\u7F6E\u89C4\u683C"}):(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(M.Z,{direction:"vertical",children:Y.map(function(L,ne){var N,P=L.Values||[],_e=(N=be.find(function(V){return V.SpecId==L.Id}))===null||N===void 0?void 0:N.SpecValueId,Ee=P.some(function(V){return V.Id==_e});return(0,e.jsx)("div",{style:{marginBottom:10},children:(0,e.jsxs)(M.Z,{direction:"horizontal",children:[(0,e.jsx)("b",{children:L.Name||"--"}),(0,e.jsx)(we.Z,{title:Ee?void 0:"\u8BF7\u9009\u62E9\u6709\u6548\u9009\u9879",children:(0,e.jsx)(Ze.Z,{placeholder:"\u8BF7\u9009\u62E9",options:P.map(function(V){return{label:V.Name,value:V.Id}}),allowClear:!0,onClear:function(){g([])},onChange:function(ce){var z=be.filter(function(ge){return ge.SpecId!=L.Id});ce<=0?g(h()(z)):g([].concat(h()(z),[{SpecId:L.Id,SpecValueId:ce}]))},value:Ee&&_e||void 0,status:Ee?void 0:"error",style:{width:300}})})]})},ne)})})})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(oe.Z,{title:"\u89C4\u683C\u53C2\u6570",children:D()})})},Dt=function(te){var k=te.data,W=te._data,re=(0,yt.o)(),be=re.stores||[],Q=k.StoreGoodsMapping||[],Y=be.map(function(g){var D=Q.find(function(O){return O.StoreId==g.Id});return D?l()({},D):{StoreId:g.Id,SkuId:k.Id,StockQuantity:10,Price:0,OverridePrice:!1,Active:!1}}),q=function(D){W(l()(l()({},k),{},{StoreGoodsMapping:D}))},de=[{title:"\u95E8\u5E97",render:function(D){var O;return(0,e.jsx)(Z.Z,{color:"processing",children:((O=be.find(function(L){return L.Id==D.StoreId}))===null||O===void 0?void 0:O.Name)||"--"})}},{title:"\u5E93\u5B58",render:function(D,O,L){return(0,e.jsx)(at.Z,{value:O.StockQuantity||0,onChange:function(N){var P=h()(Y);P[L].StockQuantity=N||0,q(P)}})}},{title:"\u95E8\u5E97\u5B9A\u4EF7",render:function(D,O,L){return(0,e.jsxs)(M.Z,{direction:"vertical",style:{width:"100%"},children:[(0,e.jsx)(Te.Z,{checked:O.OverridePrice,onChange:function(N){var P=h()(Y);P[L].OverridePrice=N,q(P)}}),(0,e.jsx)(at.Z,{disabled:!O.OverridePrice,value:O.Price||0,onChange:function(N){var P=h()(Y);P[L].Price=N||0,q(P)}})]})}},{title:"\u95E8\u5E97\u5728\u552E",render:function(D,O,L){return(0,e.jsx)(Te.Z,{checked:O.Active,onChange:function(N){var P=h()(Y);P[L].Active=N,q(P)}})}}];return(0,s.useEffect)(function(){re.queryStores()},[]),(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(oe.Z,{title:"\u95E8\u5E97\u5728\u552E\uFF0C\u95E8\u5E97\u5E93\u5B58",children:[be.length<=0&&(0,e.jsx)(le.Z,{type:"warning",message:"\u6CA1\u6709\u914D\u7F6E\u95E8\u5E97\uFF0C\u4E0D\u53EF\u4EE5\u5BF9\u5916\u9500\u552E"}),(0,e.jsx)(vt.Z,{columns:de,dataSource:Y,pagination:!1,bordered:!0})]})})},St=function(te){var k=te.goods,W=te.skuId,re=te.show,be=te.hide,Q=te.ok,Y=(0,s.useState)(!1),q=w()(Y,2),de=q[0],g=q[1],D=(0,s.useState)({}),O=w()(D,2),L=O[0],ne=O[1];(0,s.useEffect)(function(){re||ne({})},[re]);var N=function(V){var ce;if(k!=null&&(V=l()(l()({},V),{},{Goods:k,GoodsId:k.Id})),(0,c.Wq)(V.GoodsId)){T.ZP.error("\u8BF7\u9009\u62E9\u6807\u51C6\u5546\u54C1");return}V.Name=(ce=V.Name)===null||ce===void 0?void 0:ce.trim(),!(0,c.Wq)(V.Name)&&(g(!0),I.x1.mallAdmin.skuSaveSkus(l()({},V)).then(function(z){(0,c._y)(z,function(){T.ZP.success("\u4FDD\u5B58\u6210\u529F"),Q&&Q(z.data.Data||{})})}).finally(function(){g(!1)}))},P=function(){if((0,c.Wq)(W)){ne({Name:"\u9ED8\u8BA4",Price:99999,IsActive:!0});return}g(!0),I.x1.mallAdmin.skuGetById({Id:W}).then(function(V){ne(V.data.Data||{})}).finally(function(){g(!1)})};(0,s.useEffect)(function(){P()},[W]);var _e=function(V){return(0,c.Wq)(L.Id)?(0,e.jsx)(oe.Z,{style:{margin:10},children:(0,e.jsx)(le.Z,{message:"\u8BF7\u5148\u4FDD\u5B58\u5546\u54C1\u518D\u7F16\u8F91\u6B64\u6A21\u5757"})}):(0,e.jsx)(e.Fragment,{children:V})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(fe.Z,{title:"\u5546\u54C1\u660E\u7EC6",width:"95%",open:re,confirmLoading:de,onCancel:function(){be()},onOk:function(){N(L)},footer:(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(se.Z,{action:ae()(je()().mark(function Ee(){var V;return je()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,I.x1.mallAdmin.skuDelete({Id:L.Id});case 2:V=z.sent,(0,c._y)(V,function(){be(),Q(l()(l()({},L),{},{IsDeleted:!0}))});case 4:case"end":return z.stop()}},Ee)})),hide:(0,c.Wq)(L.Id)}),(0,e.jsx)(f.ZP,{type:"primary",onClick:function(){N(L)},children:"\u4FDD\u5B58"})]}),forceRender:!0,destroyOnClose:!0,children:(0,e.jsx)(X.Z,{spinning:de,children:(0,e.jsxs)(M.Z,{direction:"vertical",style:{width:"100%"},children:[(0,e.jsx)(Ct,{goods:k,data:L,_data:function(V){ne(V||{})}}),_e((0,e.jsx)(Mt,{model:L,ok:function(V){ne(l()(l()({},L),{},{SpecItemList:V||[]}))}})),(0,e.jsx)(pt,{data:L,_data:function(V){ne(V||{})}}),(0,e.jsx)(Dt,{data:L,_data:function(V){ne(V||{})}})]})})})})},Pt=function(te){var k=te.goods,W=te.items,re=te.ok,be=(0,s.useState)(void 0),Q=w()(be,2),Y=Q[0],q=Q[1],de=[{title:"\u540D\u79F0",width:150,fixed:"left",render:function(D,O){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("b",{children:O.Name})}),(0,c.Wq)(O.SkuCode)||(0,e.jsx)(Qe.Z,{content:(0,e.jsx)(Je.Z,{value:O.SkuCode||"",style:{height:50}}),title:"SKU",children:(0,e.jsx)("div",{children:(0,e.jsx)(Z.Z,{children:"\u7F16\u53F7\uFF1A".concat(O.SkuCode)})})}),(0,c.G5)(O.SpecCombinationErrors)||(0,e.jsx)("div",{style:{color:"red",fontWeight:"lighter"},children:"\u89C4\u683C\u53C2\u6570\u5B58\u5728\u9519\u8BEF"})]})}},{title:"\u4EF7\u683C",render:function(D,O){return(0,e.jsx)("div",{children:(0,e.jsx)(Z.Z,{color:"warning",children:(0,e.jsx)("b",{children:(0,c.lb)(O.Price||0)})})})}},{title:"\u72B6\u6001",render:function(D,O){return(0,e.jsxs)(e.Fragment,{children:[O.IsActive&&(0,e.jsx)(x.Z,{status:"success",text:"\u53EF\u7528"}),O.IsActive||(0,e.jsx)(x.Z,{status:"error",text:"\u4E0D\u53EF\u7528"})]})}},{title:"\u5728\u552E\u95E8\u5E97",render:function(D,O){var L,ne=(L=O.StoreGoodsMapping)===null||L===void 0?void 0:L.map(function(N){var P;return((P=N.Store)===null||P===void 0?void 0:P.Name)||null}).filter(function(N){return!(0,c.Wq)(N)});return!ne||(0,c.G5)(ne)?(0,e.jsx)("span",{children:"--"}):(0,e.jsx)(e.Fragment,{children:ne.map(function(N,P){return(0,e.jsx)("div",{children:"".concat(P+1,". ").concat(N)},P)})})}},{title:"\u56FE\u7247",render:function(D,O){var L,ne=(0,b.zH)(((L=O.GoodsPictures)===null||L===void 0?void 0:L.filter(function(N){return N.SkuId==O.Id}))||[]).map(function(N){return N.StorageMeta||{}});return(0,e.jsx)("div",{style:{maxWidth:300},children:(0,e.jsx)(_.Z,{count:3,data:ne})})}},{title:"\u65F6\u95F4",render:function(D,O){return(0,e.jsx)(j.Z,{model:O})}},{title:"\u8BE6\u60C5",render:function(D,O){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(f.ZP,{type:"link",onClick:function(){q(O.Id||void 0)},children:"\u7F16\u8F91"})})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(St,{goods:k,show:Y!=null,skuId:Y||"",hide:function(){q(void 0),re()},ok:function(){q(void 0),re()}}),(0,e.jsx)(m.Z,{headerTitle:"\u89C4\u5219\u660E\u7EC6",toolBarRender:function(){return[(0,e.jsx)(f.ZP,{type:"link",onClick:function(){q("")},children:"\u6DFB\u52A0sku"})]},bordered:!0,search:!1,options:!1,rowKey:function(D){return D.Id||""},columns:de,dataSource:W,pagination:!1})]})},Zt=function(){var te,k=(0,F.Z)(I.x1.mallAdmin.goodsQueryGoodsPaging,{manual:!0,onSuccess:function(z,ge){(0,c._y)(z,function(){})}}),W=((te=k.data)===null||te===void 0?void 0:te.data)||{},re=W.Items||[],be=k.loading,Q=(0,s.useState)({Page:1}),Y=w()(Q,2),q=Y[0],de=Y[1],g=(0,s.useState)(void 0),D=w()(g,2),O=D[0],L=D[1],ne=(0,s.useState)([]),N=w()(ne,2),P=N[0],_e=N[1],Ee=[{title:"\u540D\u79F0",render:function(z,ge){var Xe;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{children:(0,e.jsx)("a",{href:"/sales/goods/".concat(ge.Id),target:"blank",children:ge.Name})}),(0,e.jsx)("div",{children:(Xe=ge.Skus)===null||Xe===void 0?void 0:Xe.map(function(Ce){return Ce.Name}).join(",")})]})}},{title:"\u57FA\u7840\u4FE1\u606F",render:function(z,ge){var Xe,Ce;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{children:["\u54C1\u724C:",((Xe=ge.Brand)===null||Xe===void 0?void 0:Xe.Name)||"--"]}),(0,e.jsxs)("div",{children:["\u5206\u7C7B:",((Ce=ge.Category)===null||Ce===void 0?void 0:Ce.Name)||"--"]})]})}},{title:"\u6807\u8BB0",render:function(z,ge){return(0,e.jsx)(M.Z,{direction:"vertical",children:ge.StickyTop&&(0,e.jsx)(Z.Z,{color:"red",children:"\u7F6E\u9876"})})}},{title:"\u72B6\u6001",render:function(z,ge){return(0,e.jsxs)(e.Fragment,{children:[ge.Published&&(0,e.jsx)(x.Z,{status:"success",text:"\u53EF\u7528"}),ge.Published||(0,e.jsx)(x.Z,{status:"error",text:"\u4E0D\u53EF\u7528"})]})}},{title:"\u56FE\u7247",render:function(z,ge){var Xe=(0,b.zH)(ge.GoodsPictures||[]).map(function(Ce){return Ce.StorageMeta||{}});return(0,e.jsx)("div",{style:{maxWidth:300},children:(0,e.jsx)(_.Z,{count:3,data:Xe})})}},{title:"\u65F6\u95F4",render:function(z,ge){return(0,e.jsx)(j.Z,{model:ge})}},{title:"\u64CD\u4F5C",width:150,fixed:"right",render:function(z,ge){return(0,e.jsx)(f.ZP.Group,{children:(0,e.jsx)(f.ZP,{type:"link",onClick:function(){L(ge.Id||void 0)},children:"\u7F16\u8F91"})})}}];(0,s.useEffect)(function(){k.run(q)},[]);var V=function(){return re.length<=0?null:P.length>0?(0,e.jsx)(f.ZP,{type:"link",onClick:function(){_e([])},children:"\u9690\u85CF\u6240\u6709sku"}):(0,e.jsx)(f.ZP,{type:"link",onClick:function(){var ge;_e(((ge=W.Items)===null||ge===void 0?void 0:ge.map(function(Xe){return Xe.Id||""}))||[])},children:"\u5C55\u5F00\u6240\u6709sku"})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(st,{goodsId:O,show:O!=null,hide:function(){L(void 0),k.run(q)},ok:function(z){console.log(z),L(void 0),k.run(q)}}),(0,e.jsx)(Fe,{query:q,onSearch:function(z){k.mutate(),de(z),k.run(z)}}),(0,e.jsx)(m.Z,{toolBarRender:function(){return[(0,b.tC)()||(0,e.jsx)(f.ZP,{type:"dashed",icon:(0,e.jsx)(S,{stroke:1}),onClick:function(){E.m8.push({pathname:"/admin/catalog/import-skus"})},children:"\u5BFC\u5165\u5546\u54C1"}),(0,e.jsx)(f.ZP,{style:{visibility:(0,b.tC)()?"hidden":"visible"},type:"dashed",onClick:function(){E.m8.push({pathname:"/admin/catalog/sku-batch-update-price"})},children:"\u6279\u91CF\u4FEE\u6539\u4EF7\u683C"}),V(),(0,e.jsx)(f.ZP,{type:"primary",onClick:function(){L("")},children:"\u65B0\u589E"})]},rowKey:function(z){return z.Id||""},loading:be,columns:Ee,options:!1,search:!1,dataSource:re,expandable:{expandedRowKeys:P,onExpandedRowsChange:function(z){_e(z)},expandedRowRender:function(z){return(0,e.jsx)("div",{style:{padding:10,border:"5px dashed orange"},children:(0,e.jsx)(Pt,{goods:z,items:z.Skus||[],ok:function(){k.run(q)}})})}},pagination:{showSizeChanger:!1,pageSize:20,current:q.Page,total:W.TotalCount,onChange:function(z){k.mutate();var ge=l()(l()({},q),{},{Page:z});de(ge),k.run(ge)}}})]})}},38295:function(ye,G,n){"use strict";n.d(G,{o:function(){return oe}});var y=n(15009),l=n.n(y),ie=n(99289),w=n.n(ie),F=n(19632),M=n.n(F),Z=n(47650),x=n(30967),f=n(85134),s=n(42838),_=function(fe){var X=T.mallSettings||{},ue=[X.StoreNickName,X.StoreEnglishName];fe?ue=[X.StoreOfficialName,X.StoreOfficialEnglishName].concat(M()(ue)):ue=[].concat(M()(ue),[X.StoreOfficialName,X.StoreOfficialEnglishName]);var se=ue.filter(function(Ae){return!(0,s.Wq)(Ae)}).at(0);return se||f.v.app.name||f.v.app.englishName},j=function(){var le=w()(l()().mark(function fe(){return l()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,x.x1.mall.notificationUnReadCount().then(function(se){T.notificationCount=se.data.Data||0});case 2:case"end":return ue.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),b=function(){var le=w()(l()().mark(function fe(){var X;return l()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,x.x1.mallAdmin.gradeListGrades();case 2:X=se.sent,T.grades=X.data.Data||[];case 4:case"end":return se.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),I=function(){var le=w()(l()().mark(function fe(){var X;return l()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,x.x1.mallAdmin.storeQueryStores();case 2:X=se.sent,T.stores=X.data.Data||[];case 4:case"end":return se.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),E=function(){var le=w()(l()().mark(function fe(){var X;return l()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,x.x1.mall.shoppingCartCount();case 2:X=se.sent,T.shoppingCartCount=X.data.Data||0;case 4:case"end":return se.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),c=function(){var le=w()(l()().mark(function fe(){var X;return l()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,x.x1.mall.storeGetCurrentStore();case 2:X=se.sent,T.currentStore=X.data.Data||{};case 4:case"end":return se.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),m=function(){var le=w()(l()().mark(function fe(){var X;return l()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.next=2,x.x1.mall.storeMostNearbyStore();case 2:X=se.sent,T.mostNearbyStore=X.data.Data||{};case 4:case"end":return se.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),A=function(){var le=w()(l()().mark(function fe(){return l()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,x.x1.platform.userAuth().then(function(se){T.userAuthResult=se.data||{}});case 2:case"end":return ue.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),S=function(){var le=w()(l()().mark(function fe(){return l()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,x.x1.sys.adminAuth().then(function(se){T.adminAuthResult=se.data||{}});case 2:case"end":return ue.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),$=function(){var le=w()(l()().mark(function fe(){return l()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,x.x1.sys.manageAdminQueryAdminPermissions().then(function(se){T.adminPermissions=se.data||{}});case 2:case"end":return ue.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),je=function(){var le=w()(l()().mark(function fe(){return l()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,x.x1.mallManager.storeManagerPermissionGetMyPermission().then(function(se){T.managerPermissions=se.data||{}});case 2:case"end":return ue.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),K=function(){var le=w()(l()().mark(function fe(){return l()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,x.x1.mallManager.storeManagerAuth().then(function(se){T.storeManagerAuthResult=se.data||{}});case 2:case"end":return ue.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),ae=function(){var le=w()(l()().mark(function fe(){return l()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,x.x1.mall.userStoreUserAuth().then(function(se){T.storeUserAuthResult=se.data||{}});case 2:case"end":return ue.stop()}},fe)}));return function(){return le.apply(this,arguments)}}(),T=(0,Z.sj)({queryUserAuthResult:A,getAppName:_,queryAdminAuthResult:S,queryStoreManagerAuthResult:K,queryStoreUserAuthResult:ae,queryAdminPermission:$,queryStoreManagerPermission:je,queryGrades:b,queryStores:I,queryNotificationCount:j,queryShoppingCartCount:E,queryCurrentStore:c,queryMostNearbyStore:m,messageHistory:[],grades:[],stores:[],notificationCount:0,headerHeight:0,bottomHeight:0,mallSettings:{},shoppingCartCount:0,currentStore:void 0,mostNearbyStore:void 0,userAuthResult:void 0,adminAuthResult:void 0,adminPermissions:void 0,storeUserAuthResult:void 0,storeManagerAuthResult:void 0,managerPermissions:void 0,get user(){var le;return(le=this.userAuthResult)===null||le===void 0?void 0:le.User},get admin(){var le;return(le=this.adminAuthResult)===null||le===void 0?void 0:le.Admin},get storeUser(){var le;return(le=this.storeUserAuthResult)===null||le===void 0?void 0:le.StoreUser},get storeManager(){var le;return(le=this.storeManagerAuthResult)===null||le===void 0?void 0:le.StoreManager}}),oe=function(){return(0,Z.ey)(T)}},55793:function(ye,G,n){"use strict";n.d(G,{MU:function(){return f},Or:function(){return s},jP:function(){return E},ku:function(){return b},yE:function(){return j}});var y=n(15009),l=n.n(y),ie=n(99289),w=n.n(ie),F=n(76857),M=n(42838),Z=n(98005),x=n.n(Z),f=function(){return["jpg","jpeg","png","gif"]},s=function(m){var A,S=((A=(0,M.mD)(m))===null||A===void 0?void 0:A.toLowerCase())||"";return f().indexOf(S)>=0},_=function(m,A,S,$){return new Promise(function(je,K){var ae=new(x())(m,{maxHeight:A,maxWidth:S,quality:$,success:function(oe){je(oe)},error:function(oe){K(oe)}});console.log(ae)})},j=function(){var c=w()(l()().mark(function m(A,S){var $,je,K,ae;return l()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:if(!(A.size<=S)){oe.next=2;break}return oe.abrupt("return",A);case 2:return oe.next=4,_(A,void 0,void 0,.9);case 4:if(A=oe.sent,!(A.size<=S)){oe.next=7;break}return oe.abrupt("return",A);case 7:$=5,je=300,K=1e3,ae=0;case 11:if(!(++ae<=$)){oe.next=22;break}return oe.next=14,_(A,K,K,1);case 14:if(A=oe.sent,!(A.size<=S)){oe.next=17;break}return oe.abrupt("return",A);case 17:if(K-=je,!(K<=0)){oe.next=20;break}return oe.abrupt("break",22);case 20:oe.next=11;break;case 22:return oe.abrupt("return",A);case 23:case"end":return oe.stop()}},m)}));return function(A,S){return c.apply(this,arguments)}}(),b=function(){var c=w()(l()().mark(function m(A){var S,$;return l()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,I([A]);case 2:if(S=K.sent,$=S.at(0),$){K.next=6;break}throw new Error("response error");case 6:return K.abrupt("return",$);case 7:case"end":return K.stop()}},m)}));return function(A){return c.apply(this,arguments)}}(),I=function(){var c=w()(l()().mark(function m(A){var S,$;return l()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return S=new FormData,A.forEach(function(ae,T){S.append("formFileCollection",ae,ae.name)}),K.next=4,F.M.post("/api/platform/storage/upload",S);case 4:if($=K.sent,!$.data.Error){K.next=7;break}throw new Error($.data.Error.Message||"upload error");case 7:return K.abrupt("return",$.data.Data||[]);case 8:case"end":return K.stop()}},m)}));return function(A){return c.apply(this,arguments)}}(),E=function(m){return new Promise(function(A,S){var $=new FileReader;$.onload=function(){A($.result)},$.onerror=function(je){S(je)},$.readAsDataURL(m)})}},85980:function(ye,G,n){"use strict";var y=n(97582),l=n(23279),ie=n.n(l),w=n(67294),F=n(3930),M=n(45210),Z=n(92770),x=n(31663);function f(s,_){var j;x.Z&&((0,Z.mf)(s)||console.error("useDebounceFn expected parameter is a function, got ".concat(typeof s)));var b=(0,F.Z)(s),I=(j=_==null?void 0:_.wait)!==null&&j!==void 0?j:1e3,E=(0,w.useMemo)(function(){return ie()(function(){for(var c=[],m=0;m<arguments.length;m++)c[m]=arguments[m];return b.current.apply(b,(0,y.ev)([],(0,y.CR)(c),!1))},I,_)},[]);return(0,M.Z)(function(){E.cancel()}),{run:E,cancel:E.cancel,flush:E.flush}}G.Z=f},27347:function(ye,G,n){"use strict";var y=n(97582),l=n(67294),ie=n(45210);function w(F){var M=(0,l.useRef)(0),Z=(0,y.CR)((0,l.useState)(F),2),x=Z[0],f=Z[1],s=(0,l.useCallback)(function(_){cancelAnimationFrame(M.current),M.current=requestAnimationFrame(function(){f(_)})},[]);return(0,ie.Z)(function(){cancelAnimationFrame(M.current)}),[x,s]}G.Z=w},82052:function(ye,G,n){"use strict";n.d(G,{Z:function(){return I}});var y=n(97582),l=n(91033),ie=n(27347),w=n(48002),F=n(52982),M=n(59682),Z=n(67294),x=n(40351),f=(0,x.Z)(Z.useLayoutEffect),s=f,_=F.Z?s:M.Z,j=_;function b(E){var c=(0,y.CR)((0,ie.Z)(function(){var S=(0,w.n)(E);return S?{width:S.clientWidth,height:S.clientHeight}:void 0}),2),m=c[0],A=c[1];return j(function(){var S=(0,w.n)(E);if(S){var $=new l.Z(function(je){je.forEach(function(K){var ae=K.target,T=ae.clientWidth,oe=ae.clientHeight;A({width:T,height:oe})})});return $.observe(S),function(){$.disconnect()}}},[],E),m}var I=b},40351:function(ye,G,n){"use strict";var y=n(67294),l=n(45210),ie=n(8224),w=n(48002),F=function(M){var Z=function(x,f,s){var _=(0,y.useRef)(!1),j=(0,y.useRef)([]),b=(0,y.useRef)([]),I=(0,y.useRef)();M(function(){var E,c=Array.isArray(s)?s:[s],m=c.map(function(A){return(0,w.n)(A)});if(!_.current){_.current=!0,j.current=m,b.current=f,I.current=x();return}(m.length!==j.current.length||!(0,ie.Z)(j.current,m)||!(0,ie.Z)(b.current,f))&&((E=I.current)===null||E===void 0||E.call(I),j.current=m,b.current=f,I.current=x())}),(0,l.Z)(function(){var E;(E=I.current)===null||E===void 0||E.call(I),_.current=!1})};return Z};G.Z=F},48002:function(ye,G,n){"use strict";n.d(G,{n:function(){return ie}});var y=n(92770),l=n(52982);function ie(w,F){if(l.Z){if(!w)return F;var M;return(0,y.mf)(w)?M=w():"current"in w?M=w.current:M=w,M}}},59682:function(ye,G,n){"use strict";var y=n(67294),l=n(40351),ie=(0,l.Z)(y.useEffect);G.Z=ie},98005:function(ye){(function(G,n){ye.exports=n()})(this,function(){"use strict";function G(R,C){var h=Object.keys(R);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(R);C&&(p=p.filter(function(B){return Object.getOwnPropertyDescriptor(R,B).enumerable})),h.push.apply(h,p)}return h}function n(R){for(var C=1;C<arguments.length;C++){var h=arguments[C]!=null?arguments[C]:{};C%2?G(Object(h),!0).forEach(function(p){w(R,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(h)):G(Object(h)).forEach(function(p){Object.defineProperty(R,p,Object.getOwnPropertyDescriptor(h,p))})}return R}function y(R,C){if(!(R instanceof C))throw new TypeError("Cannot call a class as a function")}function l(R,C){for(var h=0;h<C.length;h++){var p=C[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(R,Z(p.key),p)}}function ie(R,C,h){return C&&l(R.prototype,C),h&&l(R,h),Object.defineProperty(R,"prototype",{writable:!1}),R}function w(R,C,h){return C=Z(C),C in R?Object.defineProperty(R,C,{value:h,enumerable:!0,configurable:!0,writable:!0}):R[C]=h,R}function F(){return F=Object.assign?Object.assign.bind():function(R){for(var C=1;C<arguments.length;C++){var h=arguments[C];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(R[p]=h[p])}return R},F.apply(this,arguments)}function M(R,C){if(typeof R!="object"||R===null)return R;var h=R[Symbol.toPrimitive];if(h!==void 0){var p=h.call(R,C||"default");if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(R)}function Z(R){var C=M(R,"string");return typeof C=="symbol"?C:String(C)}var x={exports:{}};(function(R){typeof window!="undefined"&&function(C){var h=C.HTMLCanvasElement&&C.HTMLCanvasElement.prototype,p=C.Blob&&function(){try{return!!new Blob}catch(Se){return!1}}(),B=p&&C.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch(Se){return!1}}(),e=C.BlobBuilder||C.WebKitBlobBuilder||C.MozBlobBuilder||C.MSBlobBuilder,ke=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,De=(p||e)&&C.atob&&C.ArrayBuffer&&C.Uint8Array&&function(Se){var Ie,Ze,Oe,Re,Be,ve,He,we,it;if(Ie=Se.match(ke),!Ie)throw new Error("invalid data URI");for(Ze=Ie[2]?Ie[1]:"text/plain"+(Ie[3]||";charset=US-ASCII"),Oe=!!Ie[4],Re=Se.slice(Ie[0].length),Oe?Be=atob(Re):Be=decodeURIComponent(Re),ve=new ArrayBuffer(Be.length),He=new Uint8Array(ve),we=0;we<Be.length;we+=1)He[we]=Be.charCodeAt(we);return p?new Blob([B?He:ve],{type:Ze}):(it=new e,it.append(ve),it.getBlob(Ze))};C.HTMLCanvasElement&&!h.toBlob&&(h.mozGetAsFile?h.toBlob=function(Se,Ie,Ze){var Oe=this;setTimeout(function(){Ze&&h.toDataURL&&De?Se(De(Oe.toDataURL(Ie,Ze))):Se(Oe.mozGetAsFile("blob",Ie))})}:h.toDataURL&&De&&(h.msToBlob?h.toBlob=function(Se,Ie,Ze){var Oe=this;setTimeout(function(){(Ie&&Ie!=="image/png"||Ze)&&h.toDataURL&&De?Se(De(Oe.toDataURL(Ie,Ze))):Se(Oe.msToBlob(Ie))})}:h.toBlob=function(Se,Ie,Ze){var Oe=this;setTimeout(function(){Se(De(Oe.toDataURL(Ie,Ze)))})})),R.exports?R.exports=De:C.dataURLtoBlob=De}(window)})(x);var f=x.exports,s=function(C){return typeof Blob=="undefined"?!1:C instanceof Blob||Object.prototype.toString.call(C)==="[object Blob]"},_={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},j=typeof window!="undefined"&&typeof window.document!="undefined",b=j?window:{},I=function(C){return C>0&&C<1/0},E=Array.prototype.slice;function c(R){return Array.from?Array.from(R):E.call(R)}var m=/^image\/.+$/;function A(R){return m.test(R)}function S(R){var C=A(R)?R.substr(6):"";return C==="jpeg"&&(C="jpg"),".".concat(C)}var $=String.fromCharCode;function je(R,C,h){var p="",B;for(h+=C,B=C;B<h;B+=1)p+=$(R.getUint8(B));return p}var K=b.btoa;function ae(R,C){for(var h=[],p=8192,B=new Uint8Array(R);B.length>0;)h.push($.apply(null,c(B.subarray(0,p)))),B=B.subarray(p);return"data:".concat(C,";base64,").concat(K(h.join("")))}function T(R){var C=new DataView(R),h;try{var p,B,e;if(C.getUint8(0)===255&&C.getUint8(1)===216)for(var ke=C.byteLength,De=2;De+1<ke;){if(C.getUint8(De)===255&&C.getUint8(De+1)===225){B=De;break}De+=1}if(B){var Se=B+4,Ie=B+10;if(je(C,Se,4)==="Exif"){var Ze=C.getUint16(Ie);if(p=Ze===18761,(p||Ze===19789)&&C.getUint16(Ie+2,p)===42){var Oe=C.getUint32(Ie+4,p);Oe>=8&&(e=Ie+Oe)}}}if(e){var Re=C.getUint16(e,p),Be,ve;for(ve=0;ve<Re;ve+=1)if(Be=e+ve*12+2,C.getUint16(Be,p)===274){Be+=8,h=C.getUint16(Be,p),C.setUint16(Be,1,p);break}}}catch(He){h=1}return h}function oe(R){var C=0,h=1,p=1;switch(R){case 2:h=-1;break;case 3:C=-180;break;case 4:p=-1;break;case 5:C=90,p=-1;break;case 6:C=90;break;case 7:C=90,h=-1;break;case 8:C=-90;break}return{rotate:C,scaleX:h,scaleY:p}}var le=/\.\d*(?:0|9){12}\d*$/;function fe(R){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return le.test(R)?Math.round(R*C)/C:R}function X(R){var C=R.aspectRatio,h=R.height,p=R.width,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",e=I(p),ke=I(h);if(e&&ke){var De=h*C;(B==="contain"||B==="none")&&De>p||B==="cover"&&De<p?h=p/C:p=h*C}else e?h=p/C:ke&&(p=h*C);return{width:p,height:h}}function ue(R){for(var C=c(new Uint8Array(R)),h=C.length,p=[],B=0;B+3<h;){var e=C[B],ke=C[B+1];if(e===255&&ke===218)break;if(e===255&&ke===216)B+=2;else{var De=C[B+2]*256+C[B+3],Se=B+De+2,Ie=C.slice(B,Se);p.push(Ie),B=Se}}return p.reduce(function(Ze,Oe){return Oe[0]===255&&Oe[1]===225?Ze.concat(Oe):Ze},[])}function se(R,C){var h=c(new Uint8Array(R));if(h[2]!==255||h[3]!==224)return R;var p=h[4]*256+h[5],B=[255,216].concat(C,h.slice(4+p));return new Uint8Array(B)}var Ae=b.ArrayBuffer,me=b.FileReader,H=b.URL||b.webkitURL,Te=/\.\w+$/,v=b.Compressor,rt=function(){function R(C,h){y(this,R),this.file=C,this.exif=[],this.image=new Image,this.options=n(n({},_),h),this.aborted=!1,this.result=null,this.init()}return ie(R,[{key:"init",value:function(){var h=this,p=this.file,B=this.options;if(!s(p)){this.fail(new Error("The first argument must be a File or Blob object."));return}var e=p.type;if(!A(e)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!H||!me){this.fail(new Error("The current browser does not support image compression."));return}Ae||(B.checkOrientation=!1,B.retainExif=!1);var ke=e==="image/jpeg",De=ke&&B.checkOrientation,Se=ke&&B.retainExif;if(H&&!De&&!Se)this.load({url:H.createObjectURL(p)});else{var Ie=new me;this.reader=Ie,Ie.onload=function(Ze){var Oe=Ze.target,Re=Oe.result,Be={},ve=1;De&&(ve=T(Re),ve>1&&F(Be,oe(ve))),Se&&(h.exif=ue(Re)),De||Se?!H||ve>1?Be.url=ae(Re,e):Be.url=H.createObjectURL(p):Be.url=Re,h.load(Be)},Ie.onabort=function(){h.fail(new Error("Aborted to read the image with FileReader."))},Ie.onerror=function(){h.fail(new Error("Failed to read the image with FileReader."))},Ie.onloadend=function(){h.reader=null},De||Se?Ie.readAsArrayBuffer(p):Ie.readAsDataURL(p)}}},{key:"load",value:function(h){var p=this,B=this.file,e=this.image;e.onload=function(){p.draw(n(n({},h),{},{naturalWidth:e.naturalWidth,naturalHeight:e.naturalHeight}))},e.onabort=function(){p.fail(new Error("Aborted to load the image."))},e.onerror=function(){p.fail(new Error("Failed to load the image."))},b.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(b.navigator.userAgent)&&(e.crossOrigin="anonymous"),e.alt=B.name,e.src=h.url}},{key:"draw",value:function(h){var p=this,B=h.naturalWidth,e=h.naturalHeight,ke=h.rotate,De=ke===void 0?0:ke,Se=h.scaleX,Ie=Se===void 0?1:Se,Ze=h.scaleY,Oe=Ze===void 0?1:Ze,Re=this.file,Be=this.image,ve=this.options,He=document.createElement("canvas"),we=He.getContext("2d"),it=Math.abs(De)%180===90,We=(ve.resize==="contain"||ve.resize==="cover")&&I(ve.width)&&I(ve.height),Pe=Math.max(ve.maxWidth,0)||1/0,ht=Math.max(ve.maxHeight,0)||1/0,dt=Math.max(ve.minWidth,0)||0,Le=Math.max(ve.minHeight,0)||0,ct=B/e,Ge=ve.width,$e=ve.height;if(it){var Et=[ht,Pe];Pe=Et[0],ht=Et[1];var vt=[Le,dt];dt=vt[0],Le=vt[1];var at=[$e,Ge];Ge=at[0],$e=at[1]}We&&(ct=Ge/$e);var xt=X({aspectRatio:ct,width:Pe,height:ht},"contain");Pe=xt.width,ht=xt.height;var qe=X({aspectRatio:ct,width:dt,height:Le},"cover");if(dt=qe.width,Le=qe.height,We){var ot=X({aspectRatio:ct,width:Ge,height:$e},ve.resize);Ge=ot.width,$e=ot.height}else{var Ve=X({aspectRatio:ct,width:Ge,height:$e}),lt=Ve.width;Ge=lt===void 0?B:lt;var Ue=Ve.height;$e=Ue===void 0?e:Ue}Ge=Math.floor(fe(Math.min(Math.max(Ge,dt),Pe))),$e=Math.floor(fe(Math.min(Math.max($e,Le),ht)));var st=-Ge/2,Fe=-$e/2,Qe=Ge,Je=$e,ze=[];if(We){var ft=0,Ct=0,yt=B,pt=e,jt=X({aspectRatio:ct,width:B,height:e},{contain:"cover",cover:"contain"}[ve.resize]);yt=jt.width,pt=jt.height,ft=(B-yt)/2,Ct=(e-pt)/2,ze.push(ft,Ct,yt,pt)}if(ze.push(st,Fe,Qe,Je),it){var Mt=[$e,Ge];Ge=Mt[0],$e=Mt[1]}He.width=Ge,He.height=$e,A(ve.mimeType)||(ve.mimeType=Re.type);var Dt="transparent";Re.size>ve.convertSize&&ve.convertTypes.indexOf(ve.mimeType)>=0&&(ve.mimeType="image/jpeg");var St=ve.mimeType==="image/jpeg";if(St&&(Dt="#fff"),we.fillStyle=Dt,we.fillRect(0,0,Ge,$e),ve.beforeDraw&&ve.beforeDraw.call(this,we,He),!this.aborted&&(we.save(),we.translate(Ge/2,$e/2),we.rotate(De*Math.PI/180),we.scale(Ie,Oe),we.drawImage.apply(we,[Be].concat(ze)),we.restore(),ve.drew&&ve.drew.call(this,we,He),!this.aborted)){var Pt=function(te){if(!p.aborted){var k=function(Q){return p.done({naturalWidth:B,naturalHeight:e,result:Q})};if(te&&St&&ve.retainExif&&p.exif&&p.exif.length>0){var W=function(Q){return k(f(ae(se(Q,p.exif),ve.mimeType)))};if(te.arrayBuffer)te.arrayBuffer().then(W).catch(function(){p.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var re=new me;p.reader=re,re.onload=function(be){var Q=be.target;W(Q.result)},re.onabort=function(){p.fail(new Error("Aborted to read the compressed image with FileReader."))},re.onerror=function(){p.fail(new Error("Failed to read the compressed image with FileReader."))},re.onloadend=function(){p.reader=null},re.readAsArrayBuffer(te)}}else k(te)}};He.toBlob?He.toBlob(Pt,ve.mimeType,ve.quality):Pt(f(He.toDataURL(ve.mimeType,ve.quality)))}}},{key:"done",value:function(h){var p=h.naturalWidth,B=h.naturalHeight,e=h.result,ke=this.file,De=this.image,Se=this.options;if(H&&De.src.indexOf("blob:")===0&&H.revokeObjectURL(De.src),e)if(Se.strict&&!Se.retainExif&&e.size>ke.size&&Se.mimeType===ke.type&&!(Se.width>p||Se.height>B||Se.minWidth>p||Se.minHeight>B||Se.maxWidth<p||Se.maxHeight<B))e=ke;else{var Ie=new Date;e.lastModified=Ie.getTime(),e.lastModifiedDate=Ie,e.name=ke.name,e.name&&e.type!==ke.type&&(e.name=e.name.replace(Te,S(e.type)))}else e=ke;this.result=e,Se.success&&Se.success.call(this,e)}},{key:"fail",value:function(h){var p=this.options;if(p.error)p.error.call(this,h);else throw h}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],[{key:"noConflict",value:function(){return window.Compressor=v,R}},{key:"setDefaults",value:function(h){F(_,h)}}]),R}();return rt})},65415:function(ye){"use strict";var G=Object.prototype.hasOwnProperty,n="~";function y(){}Object.create&&(y.prototype=Object.create(null),new y().__proto__||(n=!1));function l(M,Z,x){this.fn=M,this.context=Z,this.once=x||!1}function ie(M,Z,x,f,s){if(typeof x!="function")throw new TypeError("The listener must be a function");var _=new l(x,f||M,s),j=n?n+Z:Z;return M._events[j]?M._events[j].fn?M._events[j]=[M._events[j],_]:M._events[j].push(_):(M._events[j]=_,M._eventsCount++),M}function w(M,Z){--M._eventsCount===0?M._events=new y:delete M._events[Z]}function F(){this._events=new y,this._eventsCount=0}F.prototype.eventNames=function(){var Z=[],x,f;if(this._eventsCount===0)return Z;for(f in x=this._events)G.call(x,f)&&Z.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?Z.concat(Object.getOwnPropertySymbols(x)):Z},F.prototype.listeners=function(Z){var x=n?n+Z:Z,f=this._events[x];if(!f)return[];if(f.fn)return[f.fn];for(var s=0,_=f.length,j=new Array(_);s<_;s++)j[s]=f[s].fn;return j},F.prototype.listenerCount=function(Z){var x=n?n+Z:Z,f=this._events[x];return f?f.fn?1:f.length:0},F.prototype.emit=function(Z,x,f,s,_,j){var b=n?n+Z:Z;if(!this._events[b])return!1;var I=this._events[b],E=arguments.length,c,m;if(I.fn){switch(I.once&&this.removeListener(Z,I.fn,void 0,!0),E){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,x),!0;case 3:return I.fn.call(I.context,x,f),!0;case 4:return I.fn.call(I.context,x,f,s),!0;case 5:return I.fn.call(I.context,x,f,s,_),!0;case 6:return I.fn.call(I.context,x,f,s,_,j),!0}for(m=1,c=new Array(E-1);m<E;m++)c[m-1]=arguments[m];I.fn.apply(I.context,c)}else{var A=I.length,S;for(m=0;m<A;m++)switch(I[m].once&&this.removeListener(Z,I[m].fn,void 0,!0),E){case 1:I[m].fn.call(I[m].context);break;case 2:I[m].fn.call(I[m].context,x);break;case 3:I[m].fn.call(I[m].context,x,f);break;case 4:I[m].fn.call(I[m].context,x,f,s);break;default:if(!c)for(S=1,c=new Array(E-1);S<E;S++)c[S-1]=arguments[S];I[m].fn.apply(I[m].context,c)}}return!0},F.prototype.on=function(Z,x,f){return ie(this,Z,x,f,!1)},F.prototype.once=function(Z,x,f){return ie(this,Z,x,f,!0)},F.prototype.removeListener=function(Z,x,f,s){var _=n?n+Z:Z;if(!this._events[_])return this;if(!x)return w(this,_),this;var j=this._events[_];if(j.fn)j.fn===x&&(!s||j.once)&&(!f||j.context===f)&&w(this,_);else{for(var b=0,I=[],E=j.length;b<E;b++)(j[b].fn!==x||s&&!j[b].once||f&&j[b].context!==f)&&I.push(j[b]);I.length?this._events[_]=I.length===1?I[0]:I:w(this,_)}return this},F.prototype.removeAllListeners=function(Z){var x;return Z?(x=n?n+Z:Z,this._events[x]&&w(this,x)):(this._events=new y,this._eventsCount=0),this},F.prototype.off=F.prototype.removeListener,F.prototype.addListener=F.prototype.on,F.prefixed=n,F.EventEmitter=F,ye.exports=F},9383:function(ye,G,n){"use strict";n.d(G,{J:function(){return I}});var y=n(67294),l=n(76733),ie=n(15607),w=n(55344),F=(0,w.tv)({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),M=n(33295),Z=n(49037),x=n(49869),f=n(50262),s=n(29261);function _(E){var c,m;const A=(0,l.w)(),[S,$]=(0,ie.oe)(E,F.variantKeys),it=S,{ref:je,as:K,src:ae,className:T,classNames:oe,loading:le,isBlurred:fe,fallbackSrc:X,isLoading:ue,disableSkeleton:se=!!X,removeWrapper:Ae=!1,onError:me,onLoad:H,srcSet:Te,sizes:v,crossOrigin:rt}=it,R=Rt(it,["ref","as","src","className","classNames","loading","isBlurred","fallbackSrc","isLoading","disableSkeleton","removeWrapper","onError","onLoad","srcSet","sizes","crossOrigin"]),C=(0,s.d)({src:ae,loading:le,onError:me,onLoad:H,ignoreFallback:!1,srcSet:Te,sizes:v,crossOrigin:rt}),h=(m=(c=E.disableAnimation)!=null?c:A==null?void 0:A.disableAnimation)!=null?m:!1,p=C==="loaded"&&!ue,B=C==="loading"||ue,e=E.isZoomed,ke=K||"img",De=(0,M.gy)(je),{w:Se,h:Ie}=(0,y.useMemo)(()=>({w:S.width?typeof S.width=="number"?`${S.width}px`:S.width:"fit-content",h:S.height?typeof S.height=="number"?`${S.height}px`:S.height:"auto"}),[S==null?void 0:S.width,S==null?void 0:S.height]),Ze=(!ae||!p)&&!!X,Oe=B&&!se,Re=(0,y.useMemo)(()=>F(It(mt({},$),{disableAnimation:h,showSkeleton:Oe})),[(0,Z.Xx)($),h,Oe]),Be=(0,x.W)(T,oe==null?void 0:oe.img),ve=(We={})=>{const Pe=(0,x.W)(Be,We==null?void 0:We.className);return It(mt({src:ae,ref:De,"data-loaded":(0,f.PB)(p),className:Re.img({class:Pe}),loading:le,srcSet:Te,sizes:v,crossOrigin:rt},R),{style:mt(mt(mt({},(R==null?void 0:R.height)&&{height:Ie}),We.style),R.style)})},He=(0,y.useCallback)(()=>{const We=Ze?{backgroundImage:`url(${X})`}:{};return{className:Re.wrapper({class:oe==null?void 0:oe.wrapper}),style:It(mt({},We),{maxWidth:Se})}},[Re,Ze,X,oe==null?void 0:oe.wrapper]),we=(0,y.useCallback)(()=>({src:ae,"aria-hidden":(0,f.PB)(!0),className:Re.blurredImg({class:oe==null?void 0:oe.blurredImg})}),[Re,ae,oe==null?void 0:oe.blurredImg]);return{Component:ke,domRef:De,slots:Re,classNames:oe,isBlurred:fe,disableSkeleton:se,fallbackSrc:X,removeWrapper:Ae,isZoomed:e,isLoading:B,getImgProps:ve,getWrapperProps:He,getBlurredImgProps:we}}var j=n(85893),b=(0,ie.Gp)((E,c)=>{const{Component:m,domRef:A,slots:S,classNames:$,isBlurred:je,isZoomed:K,fallbackSrc:ae,removeWrapper:T,disableSkeleton:oe,getImgProps:le,getWrapperProps:fe,getBlurredImgProps:X}=_(It(mt({},E),{ref:c})),ue=(0,j.jsx)(m,mt({ref:A},le()));if(T)return ue;const se=(0,j.jsx)("div",{className:S.zoomedWrapper({class:$==null?void 0:$.zoomedWrapper}),children:ue});return je?(0,j.jsxs)("div",It(mt({},fe()),{children:[K?se:ue,(0,y.cloneElement)(ue,X())]})):K||!oe||ae?(0,j.jsxs)("div",It(mt({},fe()),{children:[" ",K?se:ue]})):ue});b.displayName="NextUI.Image";var I=b},46347:function(ye,G,n){"use strict";n.d(G,{k:function(){return l}});var y=n(67294);function l(ie={}){const{strict:w=!0,errorMessage:F="useContext: `context` is undefined. Seems you forgot to wrap component within the Provider",name:M}=ie,Z=y.createContext(void 0);Z.displayName=M;function x(){var f;const s=y.useContext(Z);if(!s&&w){const _=new Error(F);throw _.name="ContextError",(f=Error.captureStackTrace)==null||f.call(Error,_,x),_}return s}return[Z.Provider,x,Z]}},33295:function(ye,G,n){"use strict";n.d(G,{fg:function(){return s},gy:function(){return j}});var y=n(67294);function l(){return!!(typeof window!="undefined"&&window.document&&window.document.createElement)}var ie=l();function w(c){const{userAgent:m,vendor:A}=c,S=/(android)/i.test(m);switch(!0){case/CriOS/.test(m):return"Chrome for iOS";case/Edg\//.test(m):return"Edge";case(S&&/Silk\//.test(m)):return"Silk";case(/Chrome/.test(m)&&/Google Inc/.test(A)):return"Chrome";case/Firefox\/\d+\.\d+$/.test(m):return"Firefox";case S:return"AOSP";case/MSIE|Trident/.test(m):return"IE";case(/Safari/.test(c.userAgent)&&/Apple Computer/.test(m)):return"Safari";case/AppleWebKit/.test(m):return"WebKit";default:return null}}function F(c){const{userAgent:m,platform:A}=c;switch(!0){case/Android/.test(m):return"Android";case/iPhone|iPad|iPod/.test(A):return"iOS";case/Win/.test(A):return"Windows";case/Mac/.test(A):return"Mac";case/CrOS/.test(m):return"Chrome OS";case/Firefox/.test(m):return"Firefox OS";default:return null}}function M(c){const{userAgent:m}=c;return/(tablet)|(iPad)|(Nexus 9)/i.test(m)?"tablet":/(mobi)/i.test(m)?"phone":"desktop"}function Z(c){return ie?F(window.navigator)===c:!1}function x(c){return ie?w(window.navigator)===c:!1}function f(){return ie?window.ontouchstart===null&&window.ontouchmove===null&&window.ontouchend===null:!1}function s(c){return{UNSAFE_getDOMNode(){return c.current}}}function _(c,m=c){return It(mt({},s(c)),{focus(){m.current&&m.current.focus()}})}function j(c){const m=(0,y.useRef)(null);return(0,y.useImperativeHandle)(c,()=>m.current),m}function b(c,m){const A=useRef(null);return useImperativeHandle(c,()=>_(A,m)),A}function I(c,m){useLayoutEffect(()=>{if(c&&c.ref&&m&&m.current)return c.ref.current=m.current,()=>{var A;(A=c.ref)!=null&&A.current&&(c.ref.current=null)}},[c,m])}function E(c,m){return c&&m&&c.x<m.x+m.width&&c.x+c.width>m.x&&c.y<m.y+m.height&&c.y+c.height>m.y}},50262:function(ye,G,n){"use strict";n.d(G,{PB:function(){return f},Ts:function(){return y},mf:function(){return x},xb:function(){return Z}});var y=!1,l=null;function ie(_){return Array.isArray(_)}function w(_){return ie(_)&&_.length===0}function F(_){const j=typeof _;return _!=null&&(j==="object"||j==="function")&&!ie(_)}function M(_){return F(_)&&Object.keys(_).length===0}function Z(_){return ie(_)?w(_):F(_)?M(_):_==null||_===""}function x(_){return typeof _=="function"}var f=_=>_?"true":void 0,s=_=>_!=null&&parseInt(_.toString(),10)>0},76733:function(ye,G,n){"use strict";n.d(G,{a:function(){return l},w:function(){return ie}});var y=n(46347),[l,ie]=(0,y.k)({name:"ProviderContext",strict:!1})},29261:function(ye,G,n){"use strict";n.d(G,{d:function(){return ie}});var y=n(67294),l=n(93387);function ie(F={}){const{loading:M,src:Z,srcSet:x,onLoad:f,onError:s,crossOrigin:_,sizes:j,ignoreFallback:b}=F,[I,E]=(0,y.useState)("pending");(0,y.useEffect)(()=>{E(Z?"loading":"pending")},[Z]);const c=(0,y.useRef)(),m=(0,y.useCallback)(()=>{if(!Z)return;A();const S=new Image;S.src=Z,_&&(S.crossOrigin=_),x&&(S.srcset=x),j&&(S.sizes=j),M&&(S.loading=M),S.onload=$=>{A(),E("loaded"),f==null||f($)},S.onerror=$=>{A(),E("failed"),s==null||s($)},c.current=S},[Z,_,x,j,f,s,M]),A=()=>{c.current&&(c.current.onload=null,c.current.onerror=null,c.current=null)};return(0,l.G)(()=>{if(!b)return I==="loading"&&m(),()=>{A()}},[I,m,b]),b?"loaded":I}var w=(F,M)=>F!=="loaded"&&M==="beforeLoadOrError"||F==="failed"&&M==="onError"},93387:function(ye,G,n){"use strict";n.d(G,{G:function(){return l}});var y=n(67294),l=globalThis!=null&&globalThis.document?y.useLayoutEffect:y.useEffect},33733:function(ye,G,n){"use strict";n.d(G,{Z:function(){return ie}});var y=n(67294);var l={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const ie=(w,F,M,Z)=>{const x=(0,y.forwardRef)((m,c)=>{var A=m,{color:f="currentColor",size:s=24,stroke:_=2,title:j,className:b,children:I}=A,E=Rt(A,["color","size","stroke","title","className","children"]);return(0,y.createElement)("svg",mt(mt(It(mt({ref:c},l[w]),{width:s,height:s,className:["tabler-icon",`tabler-icon-${F}`,b].join(" ")}),w==="filled"?{fill:f}:{strokeWidth:_,stroke:f}),E),[j&&(0,y.createElement)("title",{key:"svg-title"},j),...Z.map(([S,$])=>(0,y.createElement)(S,$)),...Array.isArray(I)?I:[I]])});return x.displayName=`${M}`,x}},97975:function(ye,G,n){"use strict";n.d(G,{Z:function(){return l}});var y=n(33733);var l=(0,y.Z)("outline","plus","IconPlus",[["path",{d:"M12 5l0 14",key:"svg-0"}],["path",{d:"M5 12l14 0",key:"svg-1"}]])},70278:function(ye,G,n){"use strict";n.d(G,{Z:function(){return l}});var y=n(33733);var l=(0,y.Z)("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]])},77953:function(ye,G,n){"use strict";n.d(G,{Z:function(){return I}});var y=n(74073),l=n(16423);function ie(E,c){for(var m=-1,A=c.length,S=Array(A),$=E==null;++m<A;)S[m]=$?void 0:(0,l.Z)(E,c[m]);return S}var w=ie,F=n(49344),M=n(56009),Z=Array.prototype,x=Z.splice;function f(E,c){for(var m=E?c.length:0,A=m-1;m--;){var S=c[m];if(m==A||S!==$){var $=S;(0,M.Z)(S)?x.call(E,S,1):(0,F.Z)(E,S)}}return E}var s=f,_=n(97109),j=n(94008),b=(0,j.Z)(function(E,c){var m=E==null?0:E.length,A=w(E,c);return s(E,(0,y.Z)(c,function(S){return(0,M.Z)(S,m)?+S:S}).sort(_.Z)),A}),I=b}}]);
}());