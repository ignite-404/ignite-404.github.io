"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8835],{74590:function(Y,L,e){var i=e(17061),P=e.n(i),W=e(17156),m=e.n(W),R=e(27424),N=e.n(R),j=e(83062),n=e(14726),K=e(67294),g=e(85893);L.Z=function(M){var T=M.action,$=M.confirmText,G=M.hide,V=(0,K.useState)(!1),d=N()(V,2),U=d[0],F=d[1],o=$||"\u786E\u5B9A\u5220\u9664\uFF1F",z=function(){var t=m()(P()().mark(function r(){return P()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(confirm(o)){a.next=2;break}return a.abrupt("return");case 2:return F(!0),a.prev=3,a.next=6,T();case 6:return a.prev=6,F(!1),a.finish(6);case 9:case"end":return a.stop()}},r,null,[[3,,6,9]])}));return function(){return t.apply(this,arguments)}}();return G?null:(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(j.Z,{title:o,children:(0,g.jsx)(n.ZP,{loading:U,danger:!0,type:"link",onClick:function(){z()},children:"\u5220\u9664"})})})}},11587:function(Y,L,e){e.r(L),e.d(L,{default:function(){return p}});var i=e(27424),P=e.n(i),W=e(68421),m=e(14726),R=e(4393),N=e(80799),j=e(67294),n=e(85893),K=function(s){var D=s.model,E=s.children,y=s.deletedNotice;return D==null||D.IsDeleted?y||(0,n.jsx)("span",{children:"\u8D44\u6E90\u5DF2\u7ECF\u88AB\u5220\u9664"}):(0,n.jsx)(n.Fragment,{children:E})},g=e(30967),M=e(17061),T=e.n(M),$=e(17156),G=e.n($),V=e(42122),d=e.n(V),U=e(45360),F=e(85576),o=e(78957),z=e(57381),t=e(11346),r=e(25278),Z=e(74590),a=e(42838),u=function(s){var D=s.show,E=s.hide,y=s.data,x=s.ok,O=(0,j.useState)(!1),v=P()(O,2),S=v[0],B=v[1],f=(0,j.useState)({}),h=P()(f,2),l=h[0],C=h[1],H=function(c){var Q;c.Name=(Q=c.Name)===null||Q===void 0?void 0:Q.trim(),!(0,a.Wq)(c.Name)&&(B(!0),g.x1.mallAdmin.tagSaveTag(d()({},c)).then(function(I){I.data.Error?U.ZP.error(I.data.Error.Message):(U.ZP.success("\u4FDD\u5B58\u6210\u529F"),x())}).finally(function(){B(!1)}))};return(0,j.useEffect)(function(){C(d()({},y||{}))},[y]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(F.Z,{title:"\u6807\u7B7E",open:D,onCancel:function(){return E()},footer:(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(Z.Z,{action:G()(T()().mark(function A(){var c;return T()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,g.x1.mallAdmin.tagDelete({Id:l.Id});case 2:c=I.sent,(0,a._y)(c,function(){E(),x()});case 4:case"end":return I.stop()}},A)})),hide:(0,a.Wq)(l.Id)}),(0,n.jsx)(m.ZP,{type:"primary",onClick:function(){H(l)},children:"\u4FDD\u5B58"})]}),children:(0,n.jsx)(z.Z,{spinning:S,children:(0,n.jsxs)(t.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,n.jsxs)(t.Z.Item,{label:"\u540D\u79F0",required:!0,children:[(0,n.jsx)(r.Z,{count:{show:!0,max:20},maxLength:20,value:l.Name||"",onChange:function(c){C(d()(d()({},l),{},{Name:c.target.value}))}}),(0,a.Wq)(l.Name)&&(0,n.jsx)("p",{style:{color:"red"},children:"\u5FC5\u586B"})]}),(0,n.jsx)(t.Z.Item,{label:"\u63CF\u8FF0",children:(0,n.jsx)(r.Z.TextArea,{maxLength:200,value:l.Description||"",onChange:function(c){C(d()(d()({},l),{},{Description:c.target.value}))}})}),(0,n.jsx)(t.Z.Item,{label:"\u63D0\u793A",children:(0,n.jsx)(r.Z,{maxLength:50,value:l.Alert||"",onChange:function(c){C(d()(d()({},l),{},{Alert:c.target.value}))}})}),(0,n.jsx)(t.Z.Item,{label:"\u8FDE\u63A5",tooltip:"\u6682\u4E0D\u53EF\u7528",children:(0,n.jsx)(r.Z,{maxLength:1e3,value:l.Link||"",onChange:function(c){C(d()(d()({},l),{},{Link:c.target.value}))}})})]})})})})},p=function(){var s,D=(0,j.useState)(void 0),E=P()(D,2),y=E[0],x=E[1],O=(0,W.Z)(g.x1.mallAdmin.tagListTags),v=((s=O.data)===null||s===void 0||(s=s.data)===null||s===void 0?void 0:s.Data)||[],S=function(){O.run({})},B=[{title:"\u540D\u79F0",render:function(h,l){return l.Name||"--"}},{title:"\u63CF\u8FF0",render:function(h,l){return l.Description||"--"}},{title:"\u63D0\u793A",render:function(h,l){return l.Alert||"--"}},{title:"\u94FE\u63A5",render:function(h,l){return l.Link||"--"}},{title:"\u64CD\u4F5C",width:200,render:function(h,l){return(0,n.jsx)(K,{model:l,children:(0,n.jsx)(m.ZP.Group,{children:(0,n.jsx)(m.ZP,{type:"link",onClick:function(){x(l)},children:"\u7F16\u8F91"})})})}}];return(0,j.useEffect)(function(){S()},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u,{show:y!=null,hide:function(){return x(void 0)},data:y||{},ok:function(){x(void 0),S()}}),(0,n.jsx)(R.Z,{title:"\u6807\u7B7E",extra:(0,n.jsx)(m.ZP,{type:"primary",onClick:function(){x({})},children:"\u65B0\u589E"}),children:(0,n.jsx)(N.Z,{rowKey:function(h){return h.Id||""},loading:O.loading,columns:B,dataSource:v||[],pagination:!1})})]})}},85576:function(Y,L,e){e.d(L,{Z:function(){return z}});var i=e(56080),P=e(38657),W=e(56745),m=e(67294),R=e(93967),N=e.n(R),j=e(40974),n=e(8745),K=e(53124),g=e(35792),M=e(32409),T=e(4941),$=e(71194),G=function(t,r){var Z={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(Z[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,a=Object.getOwnPropertySymbols(t);u<a.length;u++)r.indexOf(a[u])<0&&Object.prototype.propertyIsEnumerable.call(t,a[u])&&(Z[a[u]]=t[a[u]]);return Z};const V=t=>{const{prefixCls:r,className:Z,closeIcon:a,closable:u,type:p,title:s,children:D,footer:E}=t,y=G(t,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:x}=m.useContext(K.E_),O=x(),v=r||x("modal"),S=(0,g.Z)(O),[B,f,h]=(0,$.ZP)(v,S),l=`${v}-confirm`;let C={};return p?C={closable:u!=null?u:!1,title:"",footer:"",children:m.createElement(M.O,Object.assign({},t,{prefixCls:v,confirmPrefixCls:l,rootPrefixCls:O,content:D}))}:C={closable:u!=null?u:!0,title:s,footer:E!==null&&m.createElement(T.$,Object.assign({},t)),children:D},B(m.createElement(j.s,Object.assign({prefixCls:v,className:N()(f,`${v}-pure-panel`,p&&l,p&&`${l}-${p}`,Z,h,S)},y,{closeIcon:(0,T.b)(v,a),closable:u},C)))};var d=(0,n.i)(V),U=e(94423);function F(t){return(0,i.ZP)((0,i.uW)(t))}const o=W.Z;o.useModal=U.Z,o.info=function(r){return(0,i.ZP)((0,i.cw)(r))},o.success=function(r){return(0,i.ZP)((0,i.vq)(r))},o.error=function(r){return(0,i.ZP)((0,i.AQ)(r))},o.warning=F,o.warn=F,o.confirm=function(r){return(0,i.ZP)((0,i.Au)(r))},o.destroyAll=function(){for(;P.Z.length;){const r=P.Z.pop();r&&r()}},o.config=i.ai,o._InternalPanelDoNotUseOrYouWillBeFired=d;var z=o}}]);
