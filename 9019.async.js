"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9019],{39019:function(bn,Nt,b){b.d(Nt,{Z:function(){return ta}});var h=b(67294),St=b(93967),Q=b.n(St),be=b(87462),W=b(74902),R=b(1413),te=b(97685),Fe=b(45987),Ue=b(71002),lt=b(82275),Be=b(88708),ae=b(80334);function me(n,o){return n[o]}function At(n,o){var d=new Set;return n.forEach(function(e){o.has(e)||d.add(e)}),d}function Dn(n){var o=n||{},d=o.disabled,e=o.disableCheckbox,i=o.checkable;return!!(d||e)||i===!1}function Pn(n,o,d,e){for(var i=new Set(n),s=new Set,c=0;c<=d;c+=1){var t=o.get(c)||new Set;t.forEach(function(u){var f=u.key,p=u.node,g=u.children,y=g===void 0?[]:g;i.has(f)&&!e(p)&&y.filter(function(v){return!e(v.node)}).forEach(function(v){i.add(v.key)})})}for(var r=new Set,a=d;a>=0;a-=1){var l=o.get(a)||new Set;l.forEach(function(u){var f=u.parent,p=u.node;if(!(e(p)||!u.parent||r.has(u.parent.key))){if(e(u.parent.node)){r.add(f.key);return}var g=!0,y=!1;(f.children||[]).filter(function(v){return!e(v.node)}).forEach(function(v){var m=v.key,k=i.has(m);g&&!k&&(g=!1),!y&&(k||s.has(m))&&(y=!0)}),g&&i.add(f.key),y&&s.add(f.key),r.add(f.key)}})}return{checkedKeys:Array.from(i),halfCheckedKeys:Array.from(At(s,i))}}function Tn(n,o,d,e,i){for(var s=new Set(n),c=new Set(o),t=0;t<=e;t+=1){var r=d.get(t)||new Set;r.forEach(function(f){var p=f.key,g=f.node,y=f.children,v=y===void 0?[]:y;!s.has(p)&&!c.has(p)&&!i(g)&&v.filter(function(m){return!i(m.node)}).forEach(function(m){s.delete(m.key)})})}c=new Set;for(var a=new Set,l=e;l>=0;l-=1){var u=d.get(l)||new Set;u.forEach(function(f){var p=f.parent,g=f.node;if(!(i(g)||!f.parent||a.has(f.parent.key))){if(i(f.parent.node)){a.add(p.key);return}var y=!0,v=!1;(p.children||[]).filter(function(m){return!i(m.node)}).forEach(function(m){var k=m.key,K=s.has(k);y&&!K&&(y=!1),!v&&(K||c.has(k))&&(v=!0)}),y||s.delete(p.key),v&&c.add(p.key),a.add(p.key)}})}return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(At(c,s))}}function et(n,o,d,e){var i=[],s;e?s=e:s=Dn;var c=new Set(n.filter(function(l){var u=!!me(d,l);return u||i.push(l),u})),t=new Map,r=0;Object.keys(d).forEach(function(l){var u=d[l],f=u.level,p=t.get(f);p||(p=new Set,t.set(f,p)),p.add(u),r=Math.max(r,f)}),(0,ae.ZP)(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map(function(l){return"'".concat(l,"'")}).join(", ")));var a;return o===!0?a=Pn(c,t,r,s):a=Tn(c,o.halfCheckedKeys,t,r,s),a}var Ht=b(21770),On=function(n){var o=h.useRef({valueLabels:new Map});return h.useMemo(function(){var d=o.current.valueLabels,e=new Map,i=n.map(function(s){var c=s.value,t=s.label,r=t!=null?t:d.get(c);return e.set(c,r),(0,R.Z)((0,R.Z)({},s),{},{label:r})});return o.current.valueLabels=e,[i]},[n])},wn=function(o,d,e,i){return h.useMemo(function(){var s=function(p){return p.map(function(g){var y=g.value;return y})},c=s(o),t=s(d),r=c.filter(function(f){return!i[f]}),a=c,l=t;if(e){var u=et(c,!0,i);a=u.checkedKeys,l=u.halfCheckedKeys}return[Array.from(new Set([].concat((0,W.Z)(r),(0,W.Z)(a)))),l]},[o,d,e,i])},In=wn,Vt=b(50344),Ft=b(98423),Ln=["children"];function Wt(n,o){return"".concat(n,"-").concat(o)}function Mn(n){return n&&n.type&&n.type.isTreeNode}function dt(n,o){return n!=null?n:o}function pt(n){var o=n||{},d=o.title,e=o._title,i=o.key,s=o.children,c=d||"title";return{title:c,_title:e||[c],key:i||"key",children:s||"children"}}function ua(n,o){var d=new Map;function e(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(i||[]).forEach(function(c){var t=c[o.key],r=c[o.children];warning(t!=null,"Tree node must have a certain key: [".concat(s).concat(t,"]"));var a=String(t);warning(!d.has(a)||t===null||t===void 0,"Same 'key' exist in the Tree: ".concat(a)),d.set(a,!0),e(r,"".concat(s).concat(a," > "))})}e(n)}function Rn(n){function o(d){var e=(0,Vt.Z)(d);return e.map(function(i){if(!Mn(i))return(0,ae.ZP)(!i,"Tree/TreeNode can only accept TreeNode as children."),null;var s=i.key,c=i.props,t=c.children,r=(0,Fe.Z)(c,Ln),a=(0,R.Z)({key:s},r),l=o(t);return l.length&&(a.children=l),a}).filter(function(i){return i})}return o(n)}function kt(n,o,d){var e=pt(d),i=e._title,s=e.key,c=e.children,t=new Set(o===!0?[]:o),r=[];function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return l.map(function(f,p){for(var g=Wt(u?u.pos:"0",p),y=dt(f[s],g),v,m=0;m<i.length;m+=1){var k=i[m];if(f[k]!==void 0){v=f[k];break}}var K=Object.assign((0,Ft.Z)(f,[].concat((0,W.Z)(i),[s,c])),{title:v,key:y,parent:u,pos:g,children:null,data:f,isStart:[].concat((0,W.Z)(u?u.isStart:[]),[p===0]),isEnd:[].concat((0,W.Z)(u?u.isEnd:[]),[p===l.length-1])});return r.push(K),o===!0||t.has(y)?K.children=a(f[c]||[],K):K.children=[],K})}return a(n),r}function $n(n,o,d){var e={};(0,Ue.Z)(d)==="object"?e=d:e={externalGetKey:d},e=e||{};var i=e,s=i.childrenPropName,c=i.externalGetKey,t=i.fieldNames,r=pt(t),a=r.key,l=r.children,u=s||l,f;c?typeof c=="string"?f=function(y){return y[c]}:typeof c=="function"&&(f=function(y){return c(y)}):f=function(y,v){return dt(y[a],v)};function p(g,y,v,m){var k=g?g[u]:n,K=g?Wt(v.pos,y):"0",N=g?[].concat((0,W.Z)(m),[g]):[];if(g){var S=f(g,K),E={node:g,index:y,pos:K,key:S,parentPos:v.node?v.pos:null,level:v.level+1,nodes:N};o(E)}k&&k.forEach(function(D,Z){p(D,Z,{node:g,pos:K,level:v?v.level+1:-1},N)})}p(null)}function jt(n){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=o.initWrapper,e=o.processEntity,i=o.onProcessFinished,s=o.externalGetKey,c=o.childrenPropName,t=o.fieldNames,r=arguments.length>2?arguments[2]:void 0,a=s||r,l={},u={},f={posEntities:l,keyEntities:u};return d&&(f=d(f)||f),$n(n,function(p){var g=p.node,y=p.index,v=p.pos,m=p.key,k=p.parentPos,K=p.level,N=p.nodes,S={node:g,nodes:N,index:y,key:m,pos:v,level:K},E=dt(m,v);l[v]=S,u[E]=S,S.parent=l[k],S.parent&&(S.parent.children=S.parent.children||[],S.parent.children.push(S)),e&&e(S,f)},{externalGetKey:a,childrenPropName:c,fieldNames:t}),i&&i(f),f}function st(n,o){var d=o.expandedKeys,e=o.selectedKeys,i=o.loadedKeys,s=o.loadingKeys,c=o.checkedKeys,t=o.halfCheckedKeys,r=o.dragOverNodeKey,a=o.dropPosition,l=o.keyEntities,u=me(l,n),f={eventKey:n,expanded:d.indexOf(n)!==-1,selected:e.indexOf(n)!==-1,loaded:i.indexOf(n)!==-1,loading:s.indexOf(n)!==-1,checked:c.indexOf(n)!==-1,halfChecked:t.indexOf(n)!==-1,pos:String(u?u.pos:""),dragOver:r===n&&a===0,dragOverGapTop:r===n&&a===-1,dragOverGapBottom:r===n&&a===1};return f}function ne(n){var o=n.data,d=n.expanded,e=n.selected,i=n.checked,s=n.loaded,c=n.loading,t=n.halfChecked,r=n.dragOver,a=n.dragOverGapTop,l=n.dragOverGapBottom,u=n.pos,f=n.active,p=n.eventKey,g=(0,R.Z)((0,R.Z)({},o),{},{expanded:d,selected:e,checked:i,loaded:s,loading:c,halfChecked:t,dragOver:r,dragOverGapTop:a,dragOverGapBottom:l,pos:u,active:f,key:p});return"props"in g||Object.defineProperty(g,"props",{get:function(){return(0,ae.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),g}var An=function(n,o){return h.useMemo(function(){var d=jt(n,{fieldNames:o,initWrapper:function(i){return(0,R.Z)((0,R.Z)({},i),{},{valueEntities:new Map})},processEntity:function(i,s){var c=i.node[o.value];if(0)var t;s.valueEntities.set(c,i)}});return d},[n,o])},C=b(4942),Hn=function(){return null},Et=Hn,Vn=["children","value"];function Ut(n){return(0,Vt.Z)(n).map(function(o){if(!h.isValidElement(o)||!o.type)return null;var d=o,e=d.key,i=d.props,s=i.children,c=i.value,t=(0,Fe.Z)(i,Vn),r=(0,R.Z)({key:e,value:c},t),a=Ut(s);return a.length&&(r.children=a),r}).filter(function(o){return o})}function Zt(n){if(!n)return n;var o=(0,R.Z)({},n);return"props"in o||Object.defineProperty(o,"props",{get:function(){return(0,ae.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),o}}),o}function Fn(n,o,d,e,i,s){var c=null,t=null;function r(){function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return l.map(function(p,g){var y="".concat(u,"-").concat(g),v=p[s.value],m=d.includes(v),k=a(p[s.children]||[],y,m),K=h.createElement(Et,p,k.map(function(S){return S.node}));if(o===v&&(c=K),m){var N={pos:y,node:K,children:k};return f||t.push(N),N}return null}).filter(function(p){return p})}t||(t=[],a(e),t.sort(function(l,u){var f=l.node.props.value,p=u.node.props.value,g=d.indexOf(f),y=d.indexOf(p);return g-y}))}Object.defineProperty(n,"triggerNode",{get:function(){return(0,ae.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),r(),c}}),Object.defineProperty(n,"allCheckedNodes",{get:function(){return(0,ae.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),r(),i?t:t.map(function(l){var u=l.node;return u})}})}var Wn=function(o,d,e){var i=e.fieldNames,s=e.treeNodeFilterProp,c=e.filterTreeNode,t=i.children;return h.useMemo(function(){if(!d||c===!1)return o;var r=typeof c=="function"?c:function(l,u){return String(u[s]).toUpperCase().includes(d.toUpperCase())},a=function l(u){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return u.reduce(function(p,g){var y=g[t],v=f||r(d,Zt(g)),m=l(y||[],v);return(v||m.length)&&p.push((0,R.Z)((0,R.Z)({},g),{},(0,C.Z)({isLeaf:void 0},t,m))),p},[])};return a(o)},[o,d,t,s,c])},jn=Wn;function Bt(n){var o=h.useRef();o.current=n;var d=h.useCallback(function(){return o.current.apply(o,arguments)},[]);return d}function Un(n,o){var d=o.id,e=o.pId,i=o.rootPId,s=new Map,c=[];return n.forEach(function(t){var r=t[d],a=(0,R.Z)((0,R.Z)({},t),{},{key:t.key||r});s.set(r,a)}),s.forEach(function(t){var r=t[e],a=s.get(r);a?(a.children=a.children||[],a.children.push(t)):(r===i||i===null)&&c.push(t)}),c}function Bn(n,o,d){return h.useMemo(function(){if(n){if(d){var e=(0,R.Z)({id:"id",pId:"pId",rootPId:null},(0,Ue.Z)(d)==="object"?d:{});return Un(n,e)}return n}return Ut(o)},[o,d,n])}var Gn=h.createContext(null),Gt=Gn,zn=b(37762),zt=b(15671),Xt=b(43144),x=b(97326),Yt=b(60136),Jt=b(29388),De=b(15105),Qt=b(64217),bt=h.createContext(null);function Xn(n){var o=n.dropPosition,d=n.dropLevelOffset,e=n.indent,i={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(o){case-1:i.top=0,i.left=-d*e;break;case 1:i.bottom=0,i.left=-d*e;break;case 0:i.bottom=0,i.left=e;break}return h.createElement("div",{style:i})}var qt=b(36459),ht=b(8410),Yn=b(85344),Jn=b(29372),Qn=function(o){for(var d=o.prefixCls,e=o.level,i=o.isStart,s=o.isEnd,c="".concat(d,"-indent-unit"),t=[],r=0;r<e;r+=1)t.push(h.createElement("span",{key:r,className:Q()(c,(0,C.Z)((0,C.Z)({},"".concat(c,"-start"),i[r]),"".concat(c,"-end"),s[r]))}));return h.createElement("span",{"aria-hidden":"true",className:"".concat(d,"-indent")},t)},qn=h.memo(Qn),_n=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],_t="open",en="close",er="---",tr=function(n){(0,Yt.Z)(d,n);var o=(0,Jt.Z)(d);function d(){var e;(0,zt.Z)(this,d);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return e=o.call.apply(o,[this].concat(s)),(0,C.Z)((0,x.Z)(e),"state",{dragNodeHighlight:!1}),(0,C.Z)((0,x.Z)(e),"selectHandle",void 0),(0,C.Z)((0,x.Z)(e),"cacheIndent",void 0),(0,C.Z)((0,x.Z)(e),"onSelectorClick",function(t){var r=e.props.context.onNodeClick;r(t,ne(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)}),(0,C.Z)((0,x.Z)(e),"onSelectorDoubleClick",function(t){var r=e.props.context.onNodeDoubleClick;r(t,ne(e.props))}),(0,C.Z)((0,x.Z)(e),"onSelect",function(t){if(!e.isDisabled()){var r=e.props.context.onNodeSelect;r(t,ne(e.props))}}),(0,C.Z)((0,x.Z)(e),"onCheck",function(t){if(!e.isDisabled()){var r=e.props,a=r.disableCheckbox,l=r.checked,u=e.props.context.onNodeCheck;if(!(!e.isCheckable()||a)){var f=!l;u(t,ne(e.props),f)}}}),(0,C.Z)((0,x.Z)(e),"onMouseEnter",function(t){var r=e.props.context.onNodeMouseEnter;r(t,ne(e.props))}),(0,C.Z)((0,x.Z)(e),"onMouseLeave",function(t){var r=e.props.context.onNodeMouseLeave;r(t,ne(e.props))}),(0,C.Z)((0,x.Z)(e),"onContextMenu",function(t){var r=e.props.context.onNodeContextMenu;r(t,ne(e.props))}),(0,C.Z)((0,x.Z)(e),"onDragStart",function(t){var r=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),r(t,(0,x.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(a){}}),(0,C.Z)((0,x.Z)(e),"onDragEnter",function(t){var r=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),r(t,(0,x.Z)(e))}),(0,C.Z)((0,x.Z)(e),"onDragOver",function(t){var r=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),r(t,(0,x.Z)(e))}),(0,C.Z)((0,x.Z)(e),"onDragLeave",function(t){var r=e.props.context.onNodeDragLeave;t.stopPropagation(),r(t,(0,x.Z)(e))}),(0,C.Z)((0,x.Z)(e),"onDragEnd",function(t){var r=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,(0,x.Z)(e))}),(0,C.Z)((0,x.Z)(e),"onDrop",function(t){var r=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,(0,x.Z)(e))}),(0,C.Z)((0,x.Z)(e),"onExpand",function(t){var r=e.props,a=r.loading,l=r.context.onNodeExpand;a||l(t,ne(e.props))}),(0,C.Z)((0,x.Z)(e),"setSelectHandle",function(t){e.selectHandle=t}),(0,C.Z)((0,x.Z)(e),"getNodeState",function(){var t=e.props.expanded;return e.isLeaf()?null:t?_t:en}),(0,C.Z)((0,x.Z)(e),"hasChildren",function(){var t=e.props.eventKey,r=e.props.context.keyEntities,a=me(r,t)||{},l=a.children;return!!(l||[]).length}),(0,C.Z)((0,x.Z)(e),"isLeaf",function(){var t=e.props,r=t.isLeaf,a=t.loaded,l=e.props.context.loadData,u=e.hasChildren();return r===!1?!1:r||!l&&!u||l&&a&&!u}),(0,C.Z)((0,x.Z)(e),"isDisabled",function(){var t=e.props.disabled,r=e.props.context.disabled;return!!(r||t)}),(0,C.Z)((0,x.Z)(e),"isCheckable",function(){var t=e.props.checkable,r=e.props.context.checkable;return!r||t===!1?!1:r}),(0,C.Z)((0,x.Z)(e),"syncLoadData",function(t){var r=t.expanded,a=t.loading,l=t.loaded,u=e.props.context,f=u.loadData,p=u.onNodeLoad;a||f&&r&&!e.isLeaf()&&!l&&p(ne(e.props))}),(0,C.Z)((0,x.Z)(e),"isDraggable",function(){var t=e.props,r=t.data,a=t.context.draggable;return!!(a&&(!a.nodeDraggable||a.nodeDraggable(r)))}),(0,C.Z)((0,x.Z)(e),"renderDragHandler",function(){var t=e.props.context,r=t.draggable,a=t.prefixCls;return r!=null&&r.icon?h.createElement("span",{className:"".concat(a,"-draggable-icon")},r.icon):null}),(0,C.Z)((0,x.Z)(e),"renderSwitcherIconDom",function(t){var r=e.props.switcherIcon,a=e.props.context.switcherIcon,l=r||a;return typeof l=="function"?l((0,R.Z)((0,R.Z)({},e.props),{},{isLeaf:t})):l}),(0,C.Z)((0,x.Z)(e),"renderSwitcher",function(){var t=e.props.expanded,r=e.props.context.prefixCls;if(e.isLeaf()){var a=e.renderSwitcherIconDom(!0);return a!==!1?h.createElement("span",{className:Q()("".concat(r,"-switcher"),"".concat(r,"-switcher-noop"))},a):null}var l=Q()("".concat(r,"-switcher"),"".concat(r,"-switcher_").concat(t?_t:en)),u=e.renderSwitcherIconDom(!1);return u!==!1?h.createElement("span",{onClick:e.onExpand,className:l},u):null}),(0,C.Z)((0,x.Z)(e),"renderCheckbox",function(){var t=e.props,r=t.checked,a=t.halfChecked,l=t.disableCheckbox,u=e.props.context.prefixCls,f=e.isDisabled(),p=e.isCheckable();if(!p)return null;var g=typeof p!="boolean"?p:null;return h.createElement("span",{className:Q()("".concat(u,"-checkbox"),r&&"".concat(u,"-checkbox-checked"),!r&&a&&"".concat(u,"-checkbox-indeterminate"),(f||l)&&"".concat(u,"-checkbox-disabled")),onClick:e.onCheck},g)}),(0,C.Z)((0,x.Z)(e),"renderIcon",function(){var t=e.props.loading,r=e.props.context.prefixCls;return h.createElement("span",{className:Q()("".concat(r,"-iconEle"),"".concat(r,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(r,"-icon_loading"))})}),(0,C.Z)((0,x.Z)(e),"renderSelector",function(){var t=e.state.dragNodeHighlight,r=e.props,a=r.title,l=a===void 0?er:a,u=r.selected,f=r.icon,p=r.loading,g=r.data,y=e.props.context,v=y.prefixCls,m=y.showIcon,k=y.icon,K=y.loadData,N=y.titleRender,S=e.isDisabled(),E="".concat(v,"-node-content-wrapper"),D;if(m){var Z=f||k;D=Z?h.createElement("span",{className:Q()("".concat(v,"-iconEle"),"".concat(v,"-icon__customize"))},typeof Z=="function"?Z(e.props):Z):e.renderIcon()}else K&&p&&(D=e.renderIcon());var T;typeof l=="function"?T=l(g):N?T=N(g):T=l;var P=h.createElement("span",{className:"".concat(v,"-title")},T);return h.createElement("span",{ref:e.setSelectHandle,title:typeof l=="string"?l:"",className:Q()("".concat(E),"".concat(E,"-").concat(e.getNodeState()||"normal"),!S&&(u||t)&&"".concat(v,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},D,P,e.renderDropIndicator())}),(0,C.Z)((0,x.Z)(e),"renderDropIndicator",function(){var t=e.props,r=t.disabled,a=t.eventKey,l=e.props.context,u=l.draggable,f=l.dropLevelOffset,p=l.dropPosition,g=l.prefixCls,y=l.indent,v=l.dropIndicatorRender,m=l.dragOverNodeKey,k=l.direction,K=!!u,N=!r&&K&&m===a,S=y!=null?y:e.cacheIndent;return e.cacheIndent=y,N?v({dropPosition:p,dropLevelOffset:f,indent:S,prefixCls:g,direction:k}):null}),e}return(0,Xt.Z)(d,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var i=this.props.selectable,s=this.props.context.selectable;return typeof i=="boolean"?i:s}},{key:"render",value:function(){var i,s=this.props,c=s.eventKey,t=s.className,r=s.style,a=s.dragOver,l=s.dragOverGapTop,u=s.dragOverGapBottom,f=s.isLeaf,p=s.isStart,g=s.isEnd,y=s.expanded,v=s.selected,m=s.checked,k=s.halfChecked,K=s.loading,N=s.domRef,S=s.active,E=s.data,D=s.onMouseMove,Z=s.selectable,T=(0,Fe.Z)(s,_n),P=this.props.context,O=P.prefixCls,w=P.filterTreeNode,H=P.keyEntities,F=P.dropContainerKey,j=P.dropTargetKey,q=P.draggingNodeKey,L=this.isDisabled(),re=(0,Qt.Z)(T,{aria:!0,data:!0}),he=me(H,c)||{},de=he.level,Pe=g[g.length-1],ie=this.isDraggable(),Ce=!L&&ie,U=q===c,ge=Z!==void 0?{"aria-selected":!!Z}:void 0;return h.createElement("div",(0,be.Z)({ref:N,className:Q()(t,"".concat(O,"-treenode"),(i={},(0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)(i,"".concat(O,"-treenode-disabled"),L),"".concat(O,"-treenode-switcher-").concat(y?"open":"close"),!f),"".concat(O,"-treenode-checkbox-checked"),m),"".concat(O,"-treenode-checkbox-indeterminate"),k),"".concat(O,"-treenode-selected"),v),"".concat(O,"-treenode-loading"),K),"".concat(O,"-treenode-active"),S),"".concat(O,"-treenode-leaf-last"),Pe),"".concat(O,"-treenode-draggable"),ie),"dragging",U),(0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)((0,C.Z)(i,"drop-target",j===c),"drop-container",F===c),"drag-over",!L&&a),"drag-over-gap-top",!L&&l),"drag-over-gap-bottom",!L&&u),"filter-node",w&&w(ne(this.props))))),style:r,draggable:Ce,"aria-grabbed":U,onDragStart:Ce?this.onDragStart:void 0,onDragEnter:ie?this.onDragEnter:void 0,onDragOver:ie?this.onDragOver:void 0,onDragLeave:ie?this.onDragLeave:void 0,onDrop:ie?this.onDrop:void 0,onDragEnd:ie?this.onDragEnd:void 0,onMouseMove:D},ge,re),h.createElement(qn,{prefixCls:O,level:de,isStart:p,isEnd:g}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),d}(h.Component),Dt=function(o){return h.createElement(bt.Consumer,null,function(d){return h.createElement(tr,(0,be.Z)({},o,{context:d}))})};Dt.displayName="TreeNode",Dt.isTreeNode=1;var Pt=Dt;function nr(n,o){var d=h.useState(!1),e=(0,te.Z)(d,2),i=e[0],s=e[1];(0,ht.Z)(function(){if(i)return n(),function(){o()}},[i]),(0,ht.Z)(function(){return s(!0),function(){s(!1)}},[])}var rr=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],tn=function(o,d){var e=o.className,i=o.style,s=o.motion,c=o.motionNodes,t=o.motionType,r=o.onMotionStart,a=o.onMotionEnd,l=o.active,u=o.treeNodeRequiredProps,f=(0,Fe.Z)(o,rr),p=h.useState(!0),g=(0,te.Z)(p,2),y=g[0],v=g[1],m=h.useContext(bt),k=m.prefixCls,K=c&&t!=="hide";(0,ht.Z)(function(){c&&K!==y&&v(K)},[c]);var N=function(){c&&r()},S=h.useRef(!1),E=function(){c&&!S.current&&(S.current=!0,a())};nr(N,E);var D=function(T){K===T&&E()};return c?h.createElement(Jn.ZP,(0,be.Z)({ref:d,visible:y},s,{motionAppear:t==="show",onVisibleChanged:D}),function(Z,T){var P=Z.className,O=Z.style;return h.createElement("div",{ref:T,className:Q()("".concat(k,"-treenode-motion"),P),style:O},c.map(function(w){var H=Object.assign({},((0,qt.Z)(w.data),w.data)),F=w.title,j=w.key,q=w.isStart,L=w.isEnd;delete H.children;var re=st(j,u);return h.createElement(Pt,(0,be.Z)({},H,re,{title:F,active:l,data:w.data,key:j,isStart:q,isEnd:L}))}))}):h.createElement(Pt,(0,be.Z)({domRef:d,className:e,style:i},f,{active:l}))};tn.displayName="MotionTreeNode";var ar=h.forwardRef(tn),or=ar;function ir(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],d=n.length,e=o.length;if(Math.abs(d-e)!==1)return{add:!1,key:null};function i(s,c){var t=new Map;s.forEach(function(a){t.set(a,!0)});var r=c.filter(function(a){return!t.has(a)});return r.length===1?r[0]:null}return d<e?{add:!0,key:i(n,o)}:{add:!1,key:i(o,n)}}function nn(n,o,d){var e=n.findIndex(function(t){return t.key===d}),i=n[e+1],s=o.findIndex(function(t){return t.key===d});if(i){var c=o.findIndex(function(t){return t.key===i.key});return o.slice(s+1,c)}return o.slice(s+1)}var lr=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],rn={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},dr=function(){},Je="RC_TREE_MOTION_".concat(Math.random()),Tt={key:Je},an={key:Je,level:0,index:0,pos:"0",node:Tt,nodes:[Tt]},on={parent:null,children:[],pos:an.pos,data:Tt,title:null,key:Je,isStart:[],isEnd:[]};function ln(n,o,d,e){return o===!1||!d?n:n.slice(0,Math.ceil(d/e)+1)}function dn(n){var o=n.key,d=n.pos;return dt(o,d)}function sr(n){for(var o=String(n.data.key),d=n;d.parent;)d=d.parent,o="".concat(d.data.key," > ").concat(o);return o}var sn=h.forwardRef(function(n,o){var d=n.prefixCls,e=n.data,i=n.selectable,s=n.checkable,c=n.expandedKeys,t=n.selectedKeys,r=n.checkedKeys,a=n.loadedKeys,l=n.loadingKeys,u=n.halfCheckedKeys,f=n.keyEntities,p=n.disabled,g=n.dragging,y=n.dragOverNodeKey,v=n.dropPosition,m=n.motion,k=n.height,K=n.itemHeight,N=n.virtual,S=n.focusable,E=n.activeItem,D=n.focused,Z=n.tabIndex,T=n.onKeyDown,P=n.onFocus,O=n.onBlur,w=n.onActiveChange,H=n.onListChangeStart,F=n.onListChangeEnd,j=(0,Fe.Z)(n,lr),q=h.useRef(null),L=h.useRef(null);h.useImperativeHandle(o,function(){return{scrollTo:function(ye){q.current.scrollTo(ye)},getIndentWidth:function(){return L.current.offsetWidth}}});var re=h.useState(c),he=(0,te.Z)(re,2),de=he[0],Pe=he[1],ie=h.useState(e),Ce=(0,te.Z)(ie,2),U=Ce[0],ge=Ce[1],Oe=h.useState(e),G=(0,te.Z)(Oe,2),Ne=G[0],le=G[1],Ke=h.useState([]),we=(0,te.Z)(Ke,2),$e=we[0],Te=we[1],je=h.useState(null),ue=(0,te.Z)(je,2),Ae=ue[0],He=ue[1],ze=h.useRef(e);ze.current=e;function Se(){var I=ze.current;ge(I),le(I),Te([]),He(null),F()}(0,ht.Z)(function(){Pe(c);var I=ir(de,c);if(I.key!==null)if(I.add){var ye=U.findIndex(function(ke){var M=ke.key;return M===I.key}),fe=ln(nn(U,e,I.key),N,k,K),ve=U.slice();ve.splice(ye+1,0,on),le(ve),Te(fe),He("show")}else{var pe=e.findIndex(function(ke){var M=ke.key;return M===I.key}),Me=ln(nn(e,U,I.key),N,k,K),z=e.slice();z.splice(pe+1,0,on),le(z),Te(Me),He("hide")}else U!==e&&(ge(e),le(e))},[c,e]),h.useEffect(function(){g||Se()},[g]);var Ie=m?Ne:e,Le={expandedKeys:c,selectedKeys:t,loadedKeys:a,loadingKeys:l,checkedKeys:r,halfCheckedKeys:u,dragOverNodeKey:y,dropPosition:v,keyEntities:f};return h.createElement(h.Fragment,null,D&&E&&h.createElement("span",{style:rn,"aria-live":"assertive"},sr(E)),h.createElement("div",null,h.createElement("input",{style:rn,disabled:S===!1||p,tabIndex:S!==!1?Z:null,onKeyDown:T,onFocus:P,onBlur:O,value:"",onChange:dr,"aria-label":"for screen reader"})),h.createElement("div",{className:"".concat(d,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},h.createElement("div",{className:"".concat(d,"-indent")},h.createElement("div",{ref:L,className:"".concat(d,"-indent-unit")}))),h.createElement(Yn.Z,(0,be.Z)({},j,{data:Ie,itemKey:dn,height:k,fullHeight:!1,virtual:N,itemHeight:K,prefixCls:"".concat(d,"-list"),ref:q,onVisibleChange:function(ye){ye.every(function(fe){return dn(fe)!==Je})&&Se()}}),function(I){var ye=I.pos,fe=Object.assign({},((0,qt.Z)(I.data),I.data)),ve=I.title,pe=I.key,Me=I.isStart,z=I.isEnd,ke=dt(pe,ye);delete fe.key,delete fe.children;var M=st(ke,Le);return h.createElement(or,(0,be.Z)({},fe,M,{title:ve,active:!!E&&pe===E.key,pos:ye,data:I.data,isStart:Me,isEnd:z,motion:m,motionNodes:pe===Je?$e:null,motionType:Ae,onMotionStart:H,onMotionEnd:Se,treeNodeRequiredProps:Le,onMouseMove:function(){w(null)}}))}))});sn.displayName="NodeList";var cr=sn,ur=null;function We(n,o){if(!n)return[];var d=n.slice(),e=d.indexOf(o);return e>=0&&d.splice(e,1),d}function Ge(n,o){var d=(n||[]).slice();return d.indexOf(o)===-1&&d.push(o),d}function Ot(n){return n.split("-")}function fr(n,o){var d=[],e=me(o,n);function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(c){var t=c.key,r=c.children;d.push(t),i(r)})}return i(e.children),d}function vr(n){if(n.parent){var o=Ot(n.pos);return Number(o[o.length-1])===n.parent.children.length-1}return!1}function pr(n){var o=Ot(n.pos);return Number(o[o.length-1])===0}function cn(n,o,d,e,i,s,c,t,r,a){var l,u=n.clientX,f=n.clientY,p=n.target.getBoundingClientRect(),g=p.top,y=p.height,v=(a==="rtl"?-1:1)*(((i==null?void 0:i.x)||0)-u),m=(v-12)/e,k=r.filter(function(q){var L;return(L=t[q])===null||L===void 0||(L=L.children)===null||L===void 0?void 0:L.length}),K=me(t,d.props.eventKey);if(f<g+y/2){var N=c.findIndex(function(q){return q.key===K.key}),S=N<=0?0:N-1,E=c[S].key;K=me(t,E)}var D=K.key,Z=K,T=K.key,P=0,O=0;if(!k.includes(D))for(var w=0;w<m&&vr(K);w+=1)K=K.parent,O+=1;var H=o.props.data,F=K.node,j=!0;return pr(K)&&K.level===0&&f<g+y/2&&s({dragNode:H,dropNode:F,dropPosition:-1})&&K.key===d.props.eventKey?P=-1:(Z.children||[]).length&&k.includes(T)?s({dragNode:H,dropNode:F,dropPosition:0})?P=0:j=!1:O===0?m>-1.5?s({dragNode:H,dropNode:F,dropPosition:1})?P=1:j=!1:s({dragNode:H,dropNode:F,dropPosition:0})?P=0:s({dragNode:H,dropNode:F,dropPosition:1})?P=1:j=!1:s({dragNode:H,dropNode:F,dropPosition:1})?P=1:j=!1,{dropPosition:P,dropLevelOffset:O,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:T,dropContainerKey:P===0?null:((l=K.parent)===null||l===void 0?void 0:l.key)||null,dropAllowed:j}}function un(n,o){if(n){var d=o.multiple;return d?n.slice():n.length?[n[0]]:n}}var hr=function(o){return o};function gr(n,o){if(!n)return[];var d=o||{},e=d.processProps,i=e===void 0?hr:e,s=Array.isArray(n)?n:[n];return s.map(function(c){var t=c.children,r=_objectWithoutProperties(c,ur),a=gr(t,o);return React.createElement(TreeNode,_extends({key:r.key},i(r)),a)})}function wt(n){if(!n)return null;var o;if(Array.isArray(n))o={checkedKeys:n,halfCheckedKeys:void 0};else if((0,Ue.Z)(n)==="object")o={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return(0,ae.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return o}function fn(n,o){var d=new Set;function e(i){if(!d.has(i)){var s=me(o,i);if(s){d.add(i);var c=s.parent,t=s.node;t.disabled||c&&e(c.key)}}}return(n||[]).forEach(function(i){e(i)}),(0,W.Z)(d)}var yr=10,It=function(n){(0,Yt.Z)(d,n);var o=(0,Jt.Z)(d);function d(){var e;(0,zt.Z)(this,d);for(var i=arguments.length,s=new Array(i),c=0;c<i;c++)s[c]=arguments[c];return e=o.call.apply(o,[this].concat(s)),(0,C.Z)((0,x.Z)(e),"destroyed",!1),(0,C.Z)((0,x.Z)(e),"delayedDragEnterLogic",void 0),(0,C.Z)((0,x.Z)(e),"loadingRetryTimes",{}),(0,C.Z)((0,x.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:pt()}),(0,C.Z)((0,x.Z)(e),"dragStartMousePosition",null),(0,C.Z)((0,x.Z)(e),"dragNode",void 0),(0,C.Z)((0,x.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,C.Z)((0,x.Z)(e),"listRef",h.createRef()),(0,C.Z)((0,x.Z)(e),"onNodeDragStart",function(t,r){var a=e.state,l=a.expandedKeys,u=a.keyEntities,f=e.props.onDragStart,p=r.props.eventKey;e.dragNode=r,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var g=We(l,p);e.setState({draggingNodeKey:p,dragChildrenKeys:fr(p,u),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),f==null||f({event:t,node:ne(r.props)})}),(0,C.Z)((0,x.Z)(e),"onNodeDragEnter",function(t,r){var a=e.state,l=a.expandedKeys,u=a.keyEntities,f=a.dragChildrenKeys,p=a.flattenNodes,g=a.indent,y=e.props,v=y.onDragEnter,m=y.onExpand,k=y.allowDrop,K=y.direction,N=r.props,S=N.pos,E=N.eventKey,D=(0,x.Z)(e),Z=D.dragNode;if(e.currentMouseOverDroppableNodeKey!==E&&(e.currentMouseOverDroppableNodeKey=E),!Z){e.resetDragState();return}var T=cn(t,Z,r,g,e.dragStartMousePosition,k,p,u,l,K),P=T.dropPosition,O=T.dropLevelOffset,w=T.dropTargetKey,H=T.dropContainerKey,F=T.dropTargetPos,j=T.dropAllowed,q=T.dragOverNodeKey;if(f.indexOf(w)!==-1||!j){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(L){clearTimeout(e.delayedDragEnterLogic[L])}),Z.props.eventKey!==r.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[S]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var L=(0,W.Z)(l),re=me(u,r.props.eventKey);re&&(re.children||[]).length&&(L=Ge(l,r.props.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(L),m==null||m(L,{node:ne(r.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),Z.props.eventKey===w&&O===0){e.resetDragState();return}e.setState({dragOverNodeKey:q,dropPosition:P,dropLevelOffset:O,dropTargetKey:w,dropContainerKey:H,dropTargetPos:F,dropAllowed:j}),v==null||v({event:t,node:ne(r.props),expandedKeys:l})}),(0,C.Z)((0,x.Z)(e),"onNodeDragOver",function(t,r){var a=e.state,l=a.dragChildrenKeys,u=a.flattenNodes,f=a.keyEntities,p=a.expandedKeys,g=a.indent,y=e.props,v=y.onDragOver,m=y.allowDrop,k=y.direction,K=(0,x.Z)(e),N=K.dragNode;if(N){var S=cn(t,N,r,g,e.dragStartMousePosition,m,u,f,p,k),E=S.dropPosition,D=S.dropLevelOffset,Z=S.dropTargetKey,T=S.dropContainerKey,P=S.dropAllowed,O=S.dropTargetPos,w=S.dragOverNodeKey;l.indexOf(Z)!==-1||!P||(N.props.eventKey===Z&&D===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():E===e.state.dropPosition&&D===e.state.dropLevelOffset&&Z===e.state.dropTargetKey&&T===e.state.dropContainerKey&&O===e.state.dropTargetPos&&P===e.state.dropAllowed&&w===e.state.dragOverNodeKey||e.setState({dropPosition:E,dropLevelOffset:D,dropTargetKey:Z,dropContainerKey:T,dropTargetPos:O,dropAllowed:P,dragOverNodeKey:w}),v==null||v({event:t,node:ne(r.props)}))}}),(0,C.Z)((0,x.Z)(e),"onNodeDragLeave",function(t,r){e.currentMouseOverDroppableNodeKey===r.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var a=e.props.onDragLeave;a==null||a({event:t,node:ne(r.props)})}),(0,C.Z)((0,x.Z)(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,C.Z)((0,x.Z)(e),"onNodeDragEnd",function(t,r){var a=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),a==null||a({event:t,node:ne(r.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,C.Z)((0,x.Z)(e),"onNodeDrop",function(t,r){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=e.state,f=u.dragChildrenKeys,p=u.dropPosition,g=u.dropTargetKey,y=u.dropTargetPos,v=u.dropAllowed;if(v){var m=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),g!==null){var k=(0,R.Z)((0,R.Z)({},st(g,e.getTreeNodeRequiredProps())),{},{active:((a=e.getActiveItem())===null||a===void 0?void 0:a.key)===g,data:me(e.state.keyEntities,g).node}),K=f.indexOf(g)!==-1;(0,ae.ZP)(!K,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var N=Ot(y),S={event:t,node:ne(k),dragNode:e.dragNode?ne(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(f),dropToGap:p!==0,dropPosition:p+Number(N[N.length-1])};l||m==null||m(S),e.dragNode=null}}}),(0,C.Z)((0,x.Z)(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,C.Z)((0,x.Z)(e),"triggerExpandActionExpand",function(t,r){var a=e.state,l=a.expandedKeys,u=a.flattenNodes,f=r.expanded,p=r.key,g=r.isLeaf;if(!(g||t.shiftKey||t.metaKey||t.ctrlKey)){var y=u.filter(function(m){return m.key===p})[0],v=ne((0,R.Z)((0,R.Z)({},st(p,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(f?We(l,p):Ge(l,p)),e.onNodeExpand(t,v)}}),(0,C.Z)((0,x.Z)(e),"onNodeClick",function(t,r){var a=e.props,l=a.onClick,u=a.expandAction;u==="click"&&e.triggerExpandActionExpand(t,r),l==null||l(t,r)}),(0,C.Z)((0,x.Z)(e),"onNodeDoubleClick",function(t,r){var a=e.props,l=a.onDoubleClick,u=a.expandAction;u==="doubleClick"&&e.triggerExpandActionExpand(t,r),l==null||l(t,r)}),(0,C.Z)((0,x.Z)(e),"onNodeSelect",function(t,r){var a=e.state.selectedKeys,l=e.state,u=l.keyEntities,f=l.fieldNames,p=e.props,g=p.onSelect,y=p.multiple,v=r.selected,m=r[f.key],k=!v;k?y?a=Ge(a,m):a=[m]:a=We(a,m);var K=a.map(function(N){var S=me(u,N);return S?S.node:null}).filter(function(N){return N});e.setUncontrolledState({selectedKeys:a}),g==null||g(a,{event:"select",selected:k,node:r,selectedNodes:K,nativeEvent:t.nativeEvent})}),(0,C.Z)((0,x.Z)(e),"onNodeCheck",function(t,r,a){var l=e.state,u=l.keyEntities,f=l.checkedKeys,p=l.halfCheckedKeys,g=e.props,y=g.checkStrictly,v=g.onCheck,m=r.key,k,K={event:"check",node:r,checked:a,nativeEvent:t.nativeEvent};if(y){var N=a?Ge(f,m):We(f,m),S=We(p,m);k={checked:N,halfChecked:S},K.checkedNodes=N.map(function(O){return me(u,O)}).filter(function(O){return O}).map(function(O){return O.node}),e.setUncontrolledState({checkedKeys:N})}else{var E=et([].concat((0,W.Z)(f),[m]),!0,u),D=E.checkedKeys,Z=E.halfCheckedKeys;if(!a){var T=new Set(D);T.delete(m);var P=et(Array.from(T),{checked:!1,halfCheckedKeys:Z},u);D=P.checkedKeys,Z=P.halfCheckedKeys}k=D,K.checkedNodes=[],K.checkedNodesPositions=[],K.halfCheckedKeys=Z,D.forEach(function(O){var w=me(u,O);if(w){var H=w.node,F=w.pos;K.checkedNodes.push(H),K.checkedNodesPositions.push({node:H,pos:F})}}),e.setUncontrolledState({checkedKeys:D},!1,{halfCheckedKeys:Z})}v==null||v(k,K)}),(0,C.Z)((0,x.Z)(e),"onNodeLoad",function(t){var r,a=t.key,l=e.state.keyEntities,u=me(l,a);if(!(u!=null&&(r=u.children)!==null&&r!==void 0&&r.length)){var f=new Promise(function(p,g){e.setState(function(y){var v=y.loadedKeys,m=v===void 0?[]:v,k=y.loadingKeys,K=k===void 0?[]:k,N=e.props,S=N.loadData,E=N.onLoad;if(!S||m.indexOf(a)!==-1||K.indexOf(a)!==-1)return null;var D=S(t);return D.then(function(){var Z=e.state.loadedKeys,T=Ge(Z,a);E==null||E(T,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:T}),e.setState(function(P){return{loadingKeys:We(P.loadingKeys,a)}}),p()}).catch(function(Z){if(e.setState(function(P){return{loadingKeys:We(P.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=yr){var T=e.state.loadedKeys;(0,ae.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:Ge(T,a)}),p()}g(Z)}),{loadingKeys:Ge(K,a)}})});return f.catch(function(){}),f}}),(0,C.Z)((0,x.Z)(e),"onNodeMouseEnter",function(t,r){var a=e.props.onMouseEnter;a==null||a({event:t,node:r})}),(0,C.Z)((0,x.Z)(e),"onNodeMouseLeave",function(t,r){var a=e.props.onMouseLeave;a==null||a({event:t,node:r})}),(0,C.Z)((0,x.Z)(e),"onNodeContextMenu",function(t,r){var a=e.props.onRightClick;a&&(t.preventDefault(),a({event:t,node:r}))}),(0,C.Z)((0,x.Z)(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];t==null||t.apply(void 0,a)}),(0,C.Z)((0,x.Z)(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];t==null||t.apply(void 0,a)}),(0,C.Z)((0,x.Z)(e),"getTreeNodeRequiredProps",function(){var t=e.state,r=t.expandedKeys,a=t.selectedKeys,l=t.loadedKeys,u=t.loadingKeys,f=t.checkedKeys,p=t.halfCheckedKeys,g=t.dragOverNodeKey,y=t.dropPosition,v=t.keyEntities;return{expandedKeys:r||[],selectedKeys:a||[],loadedKeys:l||[],loadingKeys:u||[],checkedKeys:f||[],halfCheckedKeys:p||[],dragOverNodeKey:g,dropPosition:y,keyEntities:v}}),(0,C.Z)((0,x.Z)(e),"setExpandedKeys",function(t){var r=e.state,a=r.treeData,l=r.fieldNames,u=kt(a,t,l);e.setUncontrolledState({expandedKeys:t,flattenNodes:u},!0)}),(0,C.Z)((0,x.Z)(e),"onNodeExpand",function(t,r){var a=e.state.expandedKeys,l=e.state,u=l.listChanging,f=l.fieldNames,p=e.props,g=p.onExpand,y=p.loadData,v=r.expanded,m=r[f.key];if(!u){var k=a.indexOf(m),K=!v;if((0,ae.ZP)(v&&k!==-1||!v&&k===-1,"Expand state not sync with index check"),K?a=Ge(a,m):a=We(a,m),e.setExpandedKeys(a),g==null||g(a,{node:r,expanded:K,nativeEvent:t.nativeEvent}),K&&y){var N=e.onNodeLoad(r);N&&N.then(function(){var S=kt(e.state.treeData,a,f);e.setUncontrolledState({flattenNodes:S})}).catch(function(){var S=e.state.expandedKeys,E=We(S,m);e.setExpandedKeys(E)})}}}),(0,C.Z)((0,x.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,C.Z)((0,x.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,C.Z)((0,x.Z)(e),"onActiveChange",function(t){var r=e.state.activeKey,a=e.props,l=a.onActiveChange,u=a.itemScrollOffset,f=u===void 0?0:u;r!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:f}),l==null||l(t))}),(0,C.Z)((0,x.Z)(e),"getActiveItem",function(){var t=e.state,r=t.activeKey,a=t.flattenNodes;return r===null?null:a.find(function(l){var u=l.key;return u===r})||null}),(0,C.Z)((0,x.Z)(e),"offsetActiveKey",function(t){var r=e.state,a=r.flattenNodes,l=r.activeKey,u=a.findIndex(function(g){var y=g.key;return y===l});u===-1&&t<0&&(u=a.length),u=(u+t+a.length)%a.length;var f=a[u];if(f){var p=f.key;e.onActiveChange(p)}else e.onActiveChange(null)}),(0,C.Z)((0,x.Z)(e),"onKeyDown",function(t){var r=e.state,a=r.activeKey,l=r.expandedKeys,u=r.checkedKeys,f=r.fieldNames,p=e.props,g=p.onKeyDown,y=p.checkable,v=p.selectable;switch(t.which){case De.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case De.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var m=e.getActiveItem();if(m&&m.data){var k=e.getTreeNodeRequiredProps(),K=m.data.isLeaf===!1||!!(m.data[f.children]||[]).length,N=ne((0,R.Z)((0,R.Z)({},st(a,k)),{},{data:m.data,active:!0}));switch(t.which){case De.Z.LEFT:{K&&l.includes(a)?e.onNodeExpand({},N):m.parent&&e.onActiveChange(m.parent.key),t.preventDefault();break}case De.Z.RIGHT:{K&&!l.includes(a)?e.onNodeExpand({},N):m.children&&m.children.length&&e.onActiveChange(m.children[0].key),t.preventDefault();break}case De.Z.ENTER:case De.Z.SPACE:{y&&!N.disabled&&N.checkable!==!1&&!N.disableCheckbox?e.onNodeCheck({},N,!u.includes(a)):!y&&v&&!N.disabled&&N.selectable!==!1&&e.onNodeSelect({},N);break}}}g==null||g(t)}),(0,C.Z)((0,x.Z)(e),"setUncontrolledState",function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var l=!1,u=!0,f={};Object.keys(t).forEach(function(p){if(e.props.hasOwnProperty(p)){u=!1;return}l=!0,f[p]=t[p]}),l&&(!r||u)&&e.setState((0,R.Z)((0,R.Z)({},f),a))}}),(0,C.Z)((0,x.Z)(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return(0,Xt.Z)(d,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var i=this.props,s=i.activeKey,c=i.itemScrollOffset,t=c===void 0?0:c;s!==void 0&&s!==this.state.activeKey&&(this.setState({activeKey:s}),s!==null&&this.scrollTo({key:s,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var i=this.state,s=i.focused,c=i.flattenNodes,t=i.keyEntities,r=i.draggingNodeKey,a=i.activeKey,l=i.dropLevelOffset,u=i.dropContainerKey,f=i.dropTargetKey,p=i.dropPosition,g=i.dragOverNodeKey,y=i.indent,v=this.props,m=v.prefixCls,k=v.className,K=v.style,N=v.showLine,S=v.focusable,E=v.tabIndex,D=E===void 0?0:E,Z=v.selectable,T=v.showIcon,P=v.icon,O=v.switcherIcon,w=v.draggable,H=v.checkable,F=v.checkStrictly,j=v.disabled,q=v.motion,L=v.loadData,re=v.filterTreeNode,he=v.height,de=v.itemHeight,Pe=v.virtual,ie=v.titleRender,Ce=v.dropIndicatorRender,U=v.onContextMenu,ge=v.onScroll,Oe=v.direction,G=v.rootClassName,Ne=v.rootStyle,le=(0,Qt.Z)(this.props,{aria:!0,data:!0}),Ke;return w&&((0,Ue.Z)(w)==="object"?Ke=w:typeof w=="function"?Ke={nodeDraggable:w}:Ke={}),h.createElement(bt.Provider,{value:{prefixCls:m,selectable:Z,showIcon:T,icon:P,switcherIcon:O,draggable:Ke,draggingNodeKey:r,checkable:H,checkStrictly:F,disabled:j,keyEntities:t,dropLevelOffset:l,dropContainerKey:u,dropTargetKey:f,dropPosition:p,dragOverNodeKey:g,indent:y,direction:Oe,dropIndicatorRender:Ce,loadData:L,filterTreeNode:re,titleRender:ie,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},h.createElement("div",{role:"tree",className:Q()(m,k,G,(0,C.Z)((0,C.Z)((0,C.Z)({},"".concat(m,"-show-line"),N),"".concat(m,"-focused"),s),"".concat(m,"-active-focused"),a!==null)),style:Ne},h.createElement(cr,(0,be.Z)({ref:this.listRef,prefixCls:m,style:K,data:c,disabled:j,selectable:Z,checkable:!!H,motion:q,dragging:r!==null,height:he,itemHeight:de,virtual:Pe,focusable:S,focused:s,tabIndex:D,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:U,onScroll:ge},this.getTreeNodeRequiredProps(),le))))}}],[{key:"getDerivedStateFromProps",value:function(i,s){var c=s.prevProps,t={prevProps:i};function r(D){return!c&&i.hasOwnProperty(D)||c&&c[D]!==i[D]}var a,l=s.fieldNames;if(r("fieldNames")&&(l=pt(i.fieldNames),t.fieldNames=l),r("treeData")?a=i.treeData:r("children")&&((0,ae.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),a=Rn(i.children)),a){t.treeData=a;var u=jt(a,{fieldNames:l});t.keyEntities=(0,R.Z)((0,C.Z)({},Je,an),u.keyEntities)}var f=t.keyEntities||s.keyEntities;if(r("expandedKeys")||c&&r("autoExpandParent"))t.expandedKeys=i.autoExpandParent||!c&&i.defaultExpandParent?fn(i.expandedKeys,f):i.expandedKeys;else if(!c&&i.defaultExpandAll){var p=(0,R.Z)({},f);delete p[Je];var g=[];Object.keys(p).forEach(function(D){var Z=p[D];Z.children&&Z.children.length&&g.push(Z.key)}),t.expandedKeys=g}else!c&&i.defaultExpandedKeys&&(t.expandedKeys=i.autoExpandParent||i.defaultExpandParent?fn(i.defaultExpandedKeys,f):i.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,a||t.expandedKeys){var y=kt(a||s.treeData,t.expandedKeys||s.expandedKeys,l);t.flattenNodes=y}if(i.selectable&&(r("selectedKeys")?t.selectedKeys=un(i.selectedKeys,i):!c&&i.defaultSelectedKeys&&(t.selectedKeys=un(i.defaultSelectedKeys,i))),i.checkable){var v;if(r("checkedKeys")?v=wt(i.checkedKeys)||{}:!c&&i.defaultCheckedKeys?v=wt(i.defaultCheckedKeys)||{}:a&&(v=wt(i.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),v){var m=v,k=m.checkedKeys,K=k===void 0?[]:k,N=m.halfCheckedKeys,S=N===void 0?[]:N;if(!i.checkStrictly){var E=et(K,!0,f);K=E.checkedKeys,S=E.halfCheckedKeys}t.checkedKeys=K,t.halfCheckedKeys=S}}return r("loadedKeys")&&(t.loadedKeys=i.loadedKeys),t}}]),d}(h.Component);(0,C.Z)(It,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Xn,allowDrop:function(){return!0},expandAction:!1}),(0,C.Z)(It,"TreeNode",Pt);var mr=It,Cr=mr,vn=b(56982),Kr=h.createContext(null),pn=Kr,xr=function(o){return Array.isArray(o)?o:o!==void 0?[o]:[]},Nr=function(o){var d=o||{},e=d.label,i=d.value,s=d.children;return{_title:e?[e]:["title","label"],value:i||"value",key:i||"value",children:s||"children"}},Lt=function(o){return!o||o.disabled||o.disableCheckbox||o.checkable===!1},Sr=function(o,d){var e=[],i=function s(c){c.forEach(function(t){var r=t[d.children];r&&(e.push(t[d.value]),s(r))})};return i(o),e},hn=function(o){return o==null},kr={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Er=function(o,d){var e=(0,lt.lk)(),i=e.prefixCls,s=e.multiple,c=e.searchValue,t=e.toggleOpen,r=e.open,a=e.notFoundContent,l=h.useContext(pn),u=l.virtual,f=l.listHeight,p=l.listItemHeight,g=l.listItemScrollOffset,y=l.treeData,v=l.fieldNames,m=l.onSelect,k=l.dropdownMatchSelectWidth,K=l.treeExpandAction,N=l.treeTitleRender,S=l.onPopupScroll,E=h.useContext(Gt),D=E.checkable,Z=E.checkedKeys,T=E.halfCheckedKeys,P=E.treeExpandedKeys,O=E.treeDefaultExpandAll,w=E.treeDefaultExpandedKeys,H=E.onTreeExpand,F=E.treeIcon,j=E.showTreeIcon,q=E.switcherIcon,L=E.treeLine,re=E.treeNodeFilterProp,he=E.loadData,de=E.treeLoadedKeys,Pe=E.treeMotion,ie=E.onTreeLoad,Ce=E.keyEntities,U=h.useRef(),ge=(0,vn.Z)(function(){return y},[r,y],function(M,B){return B[0]&&M[1]!==B[1]}),Oe=h.useMemo(function(){return D?{checked:Z,halfChecked:T}:null},[D,Z,T]);h.useEffect(function(){if(r&&!s&&Z.length){var M;(M=U.current)===null||M===void 0||M.scrollTo({key:Z[0]})}},[r]);var G=function(B){B.preventDefault()},Ne=function(B,se){var _=se.node;D&&Lt(_)||(m(_.key,{selected:!Z.includes(_.key)}),s||t(!1))},le=h.useState(w),Ke=(0,te.Z)(le,2),we=Ke[0],$e=Ke[1],Te=h.useState(null),je=(0,te.Z)(Te,2),ue=je[0],Ae=je[1],He=h.useMemo(function(){return P?(0,W.Z)(P):c?ue:we},[we,ue,P,c]),ze=function(B){$e(B),Ae(B),H&&H(B)},Se=String(c).toLowerCase(),Ie=function(B){return Se?String(B[re]).toLowerCase().includes(Se):!1};h.useEffect(function(){c&&Ae(Sr(y,v))},[c]);var Le=function M(B){var se=(0,zn.Z)(B),_;try{for(se.s();!(_=se.n()).done;){var oe=_.value;if(!(oe.disabled||oe.selectable===!1)){if(c){if(Ie(oe))return oe}else return oe;if(oe[v.children]){var xe=M(oe[v.children]);if(xe)return xe}}}}catch(ee){se.e(ee)}finally{se.f()}return null},I=h.useState(null),ye=(0,te.Z)(I,2),fe=ye[0],ve=ye[1],pe=Ce[fe];h.useEffect(function(){if(r){var M=null,B=function(){var _=Le(ge);return _?_[v.value]:null};!s&&Z.length&&!c?M=Z[0]:M=B(),ve(M)}},[r,c]),h.useImperativeHandle(d,function(){var M;return{scrollTo:(M=U.current)===null||M===void 0?void 0:M.scrollTo,onKeyDown:function(se){var _,oe=se.which;switch(oe){case De.Z.UP:case De.Z.DOWN:case De.Z.LEFT:case De.Z.RIGHT:(_=U.current)===null||_===void 0||_.onKeyDown(se);break;case De.Z.ENTER:{if(pe){var xe=(pe==null?void 0:pe.node)||{},ee=xe.selectable,Re=xe.value,tt=xe.disabled;ee!==!1&&!tt&&Ne(null,{node:{key:fe},selected:!Z.includes(Re)})}break}case De.Z.ESC:t(!1)}},onKeyUp:function(){}}});var Me=(0,vn.Z)(function(){return!c},[c,P||we],function(M,B){var se=(0,te.Z)(M,1),_=se[0],oe=(0,te.Z)(B,2),xe=oe[0],ee=oe[1];return _!==xe&&!!(xe||ee)}),z=Me?he:null;if(ge.length===0)return h.createElement("div",{role:"listbox",className:"".concat(i,"-empty"),onMouseDown:G},a);var ke={fieldNames:v};return de&&(ke.loadedKeys=de),He&&(ke.expandedKeys=He),h.createElement("div",{onMouseDown:G},pe&&r&&h.createElement("span",{style:kr,"aria-live":"assertive"},pe.node.value),h.createElement(Cr,(0,be.Z)({ref:U,focusable:!1,prefixCls:"".concat(i,"-tree"),treeData:ge,height:f,itemHeight:p,itemScrollOffset:g,virtual:u!==!1&&k!==!1,multiple:s,icon:F,showIcon:j,switcherIcon:q,showLine:L,loadData:z,motion:Pe,activeKey:fe,checkable:D,checkStrictly:!0,checkedKeys:Oe,selectedKeys:D?[]:Z,defaultExpandAll:O,titleRender:N},ke,{onActiveChange:ve,onSelect:Ne,onCheck:Ne,onExpand:ze,onLoad:ie,filterTreeNode:Ie,expandAction:K,onScroll:S})))},Zr=h.forwardRef(Er),br=Zr,Mt="SHOW_ALL",Rt="SHOW_PARENT",gt="SHOW_CHILD";function gn(n,o,d,e){var i=new Set(n);return o===gt?n.filter(function(s){var c=d[s];return!c||!c.children||!c.children.some(function(t){var r=t.node;return i.has(r[e.value])})||!c.children.every(function(t){var r=t.node;return Lt(r)||i.has(r[e.value])})}):o===Rt?n.filter(function(s){var c=d[s],t=c?c.parent:null;return!t||Lt(t.node)||!i.has(t.key)}):n}function fa(n){var o=n.searchPlaceholder,d=n.treeCheckStrictly,e=n.treeCheckable,i=n.labelInValue,s=n.value,c=n.multiple;warning(!o,"`searchPlaceholder` has been removed."),d&&i===!1&&warning(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(i||d)&&warning(toArray(s).every(function(t){return t&&_typeof(t)==="object"&&"value"in t}),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),d||c||e?warning(!s||Array.isArray(s),"`value` should be an array when `TreeSelect` is checkable or multiple."):warning(!Array.isArray(s),"`value` should not be array when `TreeSelect` is single mode.")}var va=null,Dr=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function Pr(n){return!n||(0,Ue.Z)(n)!=="object"}var Tr=h.forwardRef(function(n,o){var d=n.id,e=n.prefixCls,i=e===void 0?"rc-tree-select":e,s=n.value,c=n.defaultValue,t=n.onChange,r=n.onSelect,a=n.onDeselect,l=n.searchValue,u=n.inputValue,f=n.onSearch,p=n.autoClearSearchValue,g=p===void 0?!0:p,y=n.filterTreeNode,v=n.treeNodeFilterProp,m=v===void 0?"value":v,k=n.showCheckedStrategy,K=n.treeNodeLabelProp,N=n.multiple,S=n.treeCheckable,E=n.treeCheckStrictly,D=n.labelInValue,Z=n.fieldNames,T=n.treeDataSimpleMode,P=n.treeData,O=n.children,w=n.loadData,H=n.treeLoadedKeys,F=n.onTreeLoad,j=n.treeDefaultExpandAll,q=n.treeExpandedKeys,L=n.treeDefaultExpandedKeys,re=n.onTreeExpand,he=n.treeExpandAction,de=n.virtual,Pe=n.listHeight,ie=Pe===void 0?200:Pe,Ce=n.listItemHeight,U=Ce===void 0?20:Ce,ge=n.listItemScrollOffset,Oe=ge===void 0?0:ge,G=n.onDropdownVisibleChange,Ne=n.dropdownMatchSelectWidth,le=Ne===void 0?!0:Ne,Ke=n.treeLine,we=n.treeIcon,$e=n.showTreeIcon,Te=n.switcherIcon,je=n.treeMotion,ue=n.treeTitleRender,Ae=n.onPopupScroll,He=(0,Fe.Z)(n,Dr),ze=(0,Be.ZP)(d),Se=S&&!E,Ie=S||E,Le=E||D,I=Ie||N,ye=(0,Ht.Z)(c,{value:s}),fe=(0,te.Z)(ye,2),ve=fe[0],pe=fe[1],Me=h.useMemo(function(){return S?k||gt:Mt},[k,S]),z=h.useMemo(function(){return Nr(Z)},[JSON.stringify(Z)]),ke=(0,Ht.Z)("",{value:l!==void 0?l:u,postState:function($){return $||""}}),M=(0,te.Z)(ke,2),B=M[0],se=M[1],_=function($){se($),f==null||f($)},oe=Bn(P,O,T),xe=An(oe,z),ee=xe.keyEntities,Re=xe.valueEntities,tt=h.useCallback(function(A){var $=[],V=[];return A.forEach(function(X){Re.has(X)?V.push(X):$.push(X)}),{missingRawValues:$,existRawValues:V}},[Re]),yt=jn(oe,B,{fieldNames:z,treeNodeFilterProp:m,filterTreeNode:y}),mt=h.useCallback(function(A){if(A){if(K)return A[K];for(var $=z._title,V=0;V<$.length;V+=1){var X=A[$[V]];if(X!==void 0)return X}}},[z,K]),qe=h.useCallback(function(A){var $=xr(A);return $.map(function(V){return Pr(V)?{value:V}:V})},[]),nt=h.useCallback(function(A){var $=qe(A);return $.map(function(V){var X=V.label,Ee=V.value,ce=V.halfChecked,Y,J=Re.get(Ee);if(J){var Ze;X=ue?ue(J.node):(Ze=X)!==null&&Ze!==void 0?Ze:mt(J.node),Y=J.node.disabled}else if(X===void 0){var Xe=qe(ve).find(function(ft){return ft.value===Ee});X=Xe.label}return{label:X,value:Ee,halfChecked:ce,disabled:Y}})},[Re,mt,qe,ve]),rt=h.useMemo(function(){return qe(ve===null?[]:ve)},[qe,ve]),ut=h.useMemo(function(){var A=[],$=[];return rt.forEach(function(V){V.halfChecked?$.push(V):A.push(V)}),[A,$]},[rt]),Sn=(0,te.Z)(ut,2),at=Sn[0],kn=Sn[1],En=h.useMemo(function(){return at.map(function(A){return A.value})},[at]),na=In(at,kn,Se,ee),Zn=(0,te.Z)(na,2),ot=Zn[0],Ct=Zn[1],ra=h.useMemo(function(){var A=gn(ot,Me,ee,z),$=A.map(function(ce){var Y,J;return(Y=(J=ee[ce])===null||J===void 0||(J=J.node)===null||J===void 0?void 0:J[z.value])!==null&&Y!==void 0?Y:ce}),V=$.map(function(ce){var Y=at.find(function(Ze){return Ze.value===ce}),J=D?Y==null?void 0:Y.label:ue==null?void 0:ue(Y);return{value:ce,label:J}}),X=nt(V),Ee=X[0];return!I&&Ee&&hn(Ee.value)&&hn(Ee.label)?[]:X.map(function(ce){var Y;return(0,R.Z)((0,R.Z)({},ce),{},{label:(Y=ce.label)!==null&&Y!==void 0?Y:ce.value})})},[z,I,ot,at,nt,Me,ee]),aa=On(ra),oa=(0,te.Z)(aa,1),ia=oa[0],Kt=Bt(function(A,$,V){var X=nt(A);if(pe(X),g&&se(""),t){var Ee=A;if(Se){var ce=gn(A,Me,ee,z);Ee=ce.map(function(Ve){var Ye=Re.get(Ve);return Ye?Ye.node[z.value]:Ve})}var Y=$||{triggerValue:void 0,selected:void 0},J=Y.triggerValue,Ze=Y.selected,Xe=Ee;if(E){var ft=kn.filter(function(Ve){return!Ee.includes(Ve.value)});Xe=[].concat((0,W.Z)(Xe),(0,W.Z)(ft))}var vt=nt(Xe),_e={preValue:at,triggerValue:J},it=!0;(E||V==="selection"&&!Ze)&&(it=!1),Fn(_e,J,A,oe,it,z),Ie?_e.checked=Ze:_e.selected=Ze;var xt=Le?vt:vt.map(function(Ve){return Ve.value});t(I?xt:xt[0],Le?null:vt.map(function(Ve){return Ve.label}),_e)}}),$t=h.useCallback(function(A,$){var V,X=$.selected,Ee=$.source,ce=ee[A],Y=ce==null?void 0:ce.node,J=(V=Y==null?void 0:Y[z.value])!==null&&V!==void 0?V:A;if(!I)Kt([J],{selected:!0,triggerValue:J},"option");else{var Ze=X?[].concat((0,W.Z)(En),[J]):ot.filter(function(Ye){return Ye!==J});if(Se){var Xe=tt(Ze),ft=Xe.missingRawValues,vt=Xe.existRawValues,_e=vt.map(function(Ye){return Re.get(Ye).key}),it;if(X){var xt=et(_e,!0,ee);it=xt.checkedKeys}else{var Ve=et(_e,{checked:!1,halfCheckedKeys:Ct},ee);it=Ve.checkedKeys}Ze=[].concat((0,W.Z)(ft),(0,W.Z)(it.map(function(Ye){return ee[Ye].node[z.value]})))}Kt(Ze,{selected:X,triggerValue:J},Ee||"option")}X||!I?r==null||r(J,Zt(Y)):a==null||a(J,Zt(Y))},[tt,Re,ee,z,I,En,Kt,Se,r,a,ot,Ct]),la=h.useCallback(function(A){if(G){var $={};Object.defineProperty($,"documentClickClose",{get:function(){return(0,ae.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),G(A,$)}},[G]),da=Bt(function(A,$){var V=A.map(function(X){return X.value});if($.type==="clear"){Kt(V,{},"selection");return}$.values.length&&$t($.values[0].value,{selected:!1,source:"selection"})}),sa=h.useMemo(function(){return{virtual:de,dropdownMatchSelectWidth:le,listHeight:ie,listItemHeight:U,listItemScrollOffset:Oe,treeData:yt,fieldNames:z,onSelect:$t,treeExpandAction:he,treeTitleRender:ue,onPopupScroll:Ae}},[de,le,ie,U,Oe,yt,z,$t,he,ue,Ae]),ca=h.useMemo(function(){return{checkable:Ie,loadData:w,treeLoadedKeys:H,onTreeLoad:F,checkedKeys:ot,halfCheckedKeys:Ct,treeDefaultExpandAll:j,treeExpandedKeys:q,treeDefaultExpandedKeys:L,onTreeExpand:re,treeIcon:we,treeMotion:je,showTreeIcon:$e,switcherIcon:Te,treeLine:Ke,treeNodeFilterProp:m,keyEntities:ee}},[Ie,w,H,F,ot,Ct,j,q,L,re,we,je,$e,Te,Ke,m,ee]);return h.createElement(pn.Provider,{value:sa},h.createElement(Gt.Provider,{value:ca},h.createElement(lt.Ac,(0,be.Z)({ref:o},He,{id:ze,prefixCls:i,mode:I?"multiple":void 0,displayValues:ia,onDisplayValuesChange:da,searchValue:B,onSearch:_,OptionList:br,emptyOptions:!oe.length,onDropdownVisibleChange:la,dropdownMatchSelectWidth:le}))))}),ct=Tr;ct.TreeNode=Et,ct.SHOW_ALL=Mt,ct.SHOW_PARENT=Rt,ct.SHOW_CHILD=gt;var Or=ct,wr=Or,Ir=b(87263),yn=b(33603),Lr=b(8745),mn=b(9708),Mr=b(53124),Rr=b(88258),$r=b(98866),Cn=b(35792),Ar=b(98675),Hr=b(65223),Vr=b(27833),Fr=b(30307),Wr=b(15030),jr=b(43277),Ur=b(78642),Br=b(4173),Gr=b(23797),zr=b(29691),Kn=b(11568),Xr=b(63185),xn=b(83262),Yr=b(83559),Nn=b(40561);const Jr=n=>{const{componentCls:o,treePrefixCls:d,colorBgElevated:e}=n,i=`.${d}`;return[{[`${o}-dropdown`]:[{padding:`${(0,Kn.bf)(n.paddingXS)} ${(0,Kn.bf)(n.calc(n.paddingXS).div(2).equal())}`},(0,Nn.Yk)(d,(0,xn.IX)(n,{colorBgContainer:e})),{[i]:{borderRadius:0,[`${i}-list-holder-inner`]:{alignItems:"stretch",[`${i}-treenode`]:{[`${i}-node-content-wrapper`]:{flex:"auto"}}}}},(0,Xr.C2)(`${d}-checkbox`,n),{"&-rtl":{direction:"rtl",[`${i}-switcher${i}-switcher_close`]:{[`${i}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]},pa=null;function Qr(n,o,d){return(0,Yr.I$)("TreeSelect",e=>{const i=(0,xn.IX)(e,{treePrefixCls:o});return[Jr(i)]},Nn.TM)(n,d)}var qr=function(n,o){var d={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&o.indexOf(e)<0&&(d[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,e=Object.getOwnPropertySymbols(n);i<e.length;i++)o.indexOf(e[i])<0&&Object.prototype.propertyIsEnumerable.call(n,e[i])&&(d[e[i]]=n[e[i]]);return d};const _r=(n,o)=>{var d;const{prefixCls:e,size:i,disabled:s,bordered:c=!0,className:t,rootClassName:r,treeCheckable:a,multiple:l,listHeight:u=256,listItemHeight:f,placement:p,notFoundContent:g,switcherIcon:y,treeLine:v,getPopupContainer:m,popupClassName:k,dropdownClassName:K,treeIcon:N=!1,transitionName:S,choiceTransitionName:E="",status:D,treeExpandAction:Z,builtinPlacements:T,dropdownMatchSelectWidth:P,popupMatchSelectWidth:O,allowClear:w,variant:H,dropdownStyle:F,tagRender:j}=n,q=qr(n,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender"]),{getPopupContainer:L,getPrefixCls:re,renderEmpty:he,direction:de,virtual:Pe,popupMatchSelectWidth:ie,popupOverflow:Ce}=h.useContext(Mr.E_),[,U]=(0,zr.ZP)(),ge=f!=null?f:(U==null?void 0:U.controlHeightSM)+(U==null?void 0:U.paddingXXS),Oe=re(),G=re("select",e),Ne=re("select-tree",e),le=re("tree-select",e),{compactSize:Ke,compactItemClassnames:we}=(0,Br.ri)(G,de),$e=(0,Cn.Z)(G),Te=(0,Cn.Z)(le),[je,ue,Ae]=(0,Wr.Z)(G,$e),[He]=Qr(le,Ne,Te),[ze,Se]=(0,Vr.Z)("treeSelect",H,c),Ie=Q()(k||K,`${le}-dropdown`,{[`${le}-dropdown-rtl`]:de==="rtl"},r,Ae,$e,Te,ue),Le=!!(a||l),I=(0,Ur.Z)(n.suffixIcon,n.showArrow),ye=(d=O!=null?O:P)!==null&&d!==void 0?d:ie,{status:fe,hasFeedback:ve,isFormItemInput:pe,feedbackIcon:Me}=h.useContext(Hr.aM),z=(0,mn.F)(fe,D),{suffixIcon:ke,removeIcon:M,clearIcon:B}=(0,jr.Z)(Object.assign(Object.assign({},q),{multiple:Le,showSuffixIcon:I,hasFeedback:ve,feedbackIcon:Me,prefixCls:G,componentName:"TreeSelect"})),se=w===!0?{clearIcon:B}:w;let _;g!==void 0?_=g:_=(he==null?void 0:he("Select"))||h.createElement(Rr.Z,{componentName:"Select"});const oe=(0,Ft.Z)(q,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),xe=h.useMemo(()=>p!==void 0?p:de==="rtl"?"bottomRight":"bottomLeft",[p,de]),ee=(0,Ar.Z)(rt=>{var ut;return(ut=i!=null?i:Ke)!==null&&ut!==void 0?ut:rt}),Re=h.useContext($r.Z),tt=s!=null?s:Re,yt=Q()(!e&&le,{[`${G}-lg`]:ee==="large",[`${G}-sm`]:ee==="small",[`${G}-rtl`]:de==="rtl",[`${G}-${ze}`]:Se,[`${G}-in-form-item`]:pe},(0,mn.Z)(G,z,ve),we,t,r,Ae,$e,Te,ue),mt=rt=>h.createElement(Gr.Z,{prefixCls:Ne,switcherIcon:y,treeNodeProps:rt,showLine:v}),[qe]=(0,Ir.Cn)("SelectLike",F==null?void 0:F.zIndex),nt=h.createElement(wr,Object.assign({virtual:Pe,disabled:tt},oe,{dropdownMatchSelectWidth:ye,builtinPlacements:(0,Fr.Z)(T,Ce),ref:o,prefixCls:G,className:yt,listHeight:u,listItemHeight:ge,treeCheckable:a&&h.createElement("span",{className:`${G}-tree-checkbox-inner`}),treeLine:!!v,suffixIcon:ke,multiple:Le,placement:xe,removeIcon:M,allowClear:se,switcherIcon:mt,showTreeIcon:N,notFoundContent:_,getPopupContainer:m||L,treeMotion:null,dropdownClassName:Ie,dropdownStyle:Object.assign(Object.assign({},F),{zIndex:qe}),choiceTransitionName:(0,yn.m)(Oe,"",E),transitionName:(0,yn.m)(Oe,"slide-up",S),treeExpandAction:Z,tagRender:Le?j:void 0}));return je(He(nt))},Qe=h.forwardRef(_r),ea=(0,Lr.Z)(Qe);Qe.TreeNode=Et,Qe.SHOW_ALL=Mt,Qe.SHOW_PARENT=Rt,Qe.SHOW_CHILD=gt,Qe._InternalPanelDoNotUseOrYouWillBeFired=ea;var ta=Qe},37762:function(bn,Nt,b){b.d(Nt,{Z:function(){return St}});var h=b(40181);function St(Q,be){var W=typeof Symbol!="undefined"&&Q[Symbol.iterator]||Q["@@iterator"];if(!W){if(Array.isArray(Q)||(W=(0,h.Z)(Q))||be&&Q&&typeof Q.length=="number"){W&&(Q=W);var R=0,te=function(){};return{s:te,n:function(){return R>=Q.length?{done:!0}:{done:!1,value:Q[R++]}},e:function(ae){throw ae},f:te}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fe,Ue=!0,lt=!1;return{s:function(){W=W.call(Q)},n:function(){var ae=W.next();return Ue=ae.done,ae},e:function(ae){lt=!0,Fe=ae},f:function(){try{Ue||W.return==null||W.return()}finally{if(lt)throw Fe}}}}}}]);
