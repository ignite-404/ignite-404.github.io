"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5900],{50112:function(T,E,e){var t=e(21274),l=e(85893);E.Z=function(M){var h=M.loading,O=M.hasMore;return h?(0,l.jsx)(t.Z,{}):O?null:(0,l.jsx)("div",{className:"flex flex-row items-center justify-center gap-2",children:(0,l.jsx)("span",{className:"text-slate-400",children:"\u6CA1\u6709\u66F4\u591A\u4E86"})})}},85685:function(T,E,e){e.d(E,{Z:function(){return C}});var t=e(38295),l=e(95813),M=e(22897),h=e(48135),O=e(76021),i=e(85893);function C(c){var r=c.children,u=c.rightButtons,m=c.leftButtons,g=(0,t.o)(),s=function(){window.history.length>1?O.m8.back():O.m8.push({pathname:"/"})},a=function(){return(0,i.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,l.G5)(m)&&(0,i.jsxs)("div",{className:"flex-row-center cursor-pointer gap-1",onClick:function(x){x.preventDefault(),x.stopPropagation(),s()},children:[(0,i.jsx)(M.A,{size:"lg",color:"default",radius:"full",variant:"light",isIconOnly:!0,onPress:function(){s()},children:(0,i.jsx)(h.Z,{stroke:1})}),(0,i.jsx)("h1",{className:"text-title m-0 p-0",children:window.document.title||g.getAppName()})]}),m==null?void 0:m.map(function(f){return f})]})};return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"container max-w-lg",children:[(0,i.jsxs)("div",{className:"flex-row-between py-1",children:[a(),(0,i.jsx)("div",{className:"flex-row-center gap-2",children:u==null?void 0:u.map(function(_){return _})})]}),(0,i.jsx)("div",{children:r})]})})}},72640:function(T,E,e){var t=e(32983),l=e(85893);E.Z=function(){return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",paddingTop:100},children:(0,l.jsx)(t.Z,{})})})}},70566:function(T,E,e){e.r(E),e.d(E,{default:function(){return z}});var t=e(19632),l=e.n(t),M=e(15009),h=e.n(M),O=e(97857),i=e.n(O),C=e(99289),c=e.n(C),r=e(5574),u=e.n(r),m=e(68770),g=e(68421),s=e(7134),a=e(67294),_=e(72640),f=e(50112),x=e(85685),j=e(35291),L=e(30699),V=e(46629),y=e(95813),k=e(22897),q=e(45595),$=e(35301),N=e(18266),H=e(54666),v=e(85893);function z(){var U=(0,a.useState)({Page:1}),K=u()(U,2),B=K[0],F=K[1],I=(0,a.useState)(void 0),W=u()(I,2),b=W[0],w=W[1],p=(0,m.Z)(function(){var D=c()(h()().mark(function o(n){var d,P;return h()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,L.x1.mall.notificationPaging(i()(i()({},B),{},{Page:((n==null||(d=n.res)===null||d===void 0?void 0:d.PageIndex)||0)+1}));case 2:return P=A.sent,A.abrupt("return",{list:P.data.Items||[],res:P.data});case 4:case"end":return A.stop()}},o)}));return function(o){return D.apply(this,arguments)}}(),{target:window.document,isNoMore:function(o){var n;return(o==null||(n=o.res)===null||n===void 0?void 0:n.IsEmpty)||!1},reloadDeps:[B]}),R=p.data,Q=p.loading,ee=p.loadingMore,G=p.noMore,X=p.mutate,ne=function(o){o.Read||(w(o.Id),L.x1.mall.notificationUpdateStatus({Id:o.Id,Read:!0}).then(function(n){(0,y._y)(n,function(){var d=[].concat(l()(Z.filter(function(P){return P.Id!=o.Id})),[i()(i()({},o),{},{Read:!0})]);X(i()(i()({},R),{},{list:d}))})}).finally(function(){w(void 0)}))};(0,a.useEffect)(function(){X(void 0)},[B]);var Z=(R==null?void 0:R.list)||[],J=(0,g.Z)(L.x1.mall.notificationDeleteAll,{manual:!0,onSuccess:function(o,n){(0,y._y)(o,function(){var d=i()(i()({},B),{},{Page:1});F(d)})}}),te=function(){return(0,v.jsx)(k.A,{isLoading:J.loading,variant:"light",onPress:function(){confirm("\u6E05\u7A7A\u6240\u6709\u6D88\u606F\uFF1F")&&J.run({})},children:"\u6E05\u7A7A"})},Y=(0,j.Wq)(Z,function(D){return D.CreationTime});return(0,y.G5)(Y)?(0,v.jsx)(_.Z,{}):(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(x.Z,{children:(0,v.jsxs)("div",{className:"container max-w-lg",children:[(0,v.jsx)("div",{className:"mb-1 flex flex-row items-center justify-end",children:te()}),(0,v.jsx)(q.X,{variant:"light",disabledKeys:b?[b]:void 0,children:Y.map(function(D,o){return(0,v.jsx)($.y,{title:D.key,showDivider:!0,children:D.value.map(function(n,d){return(0,v.jsxs)(N.R,{startContent:(0,v.jsx)(s.C,{icon:(0,v.jsx)(H.Z,{stroke:1}),style:{backgroundColor:"green"}}),description:n.Content,endContent:(0,V.Gl)(n.CreationTime),onClick:function(){ne(n)},children:[n.Read&&(0,v.jsx)("span",{children:n.Title}),n.Read||(0,v.jsx)("b",{children:n.Title})]},n.Id||d.toString())})},o)})}),(0,v.jsx)(f.Z,{loading:Q||ee,hasMore:!G})]})})})}},68770:function(T,E,e){e.d(E,{Z:function(){return g}});var t=e(97582),l=e(67294),M=e(83204),h=e(22638),O=e(68421),i=e(77598),C=e(48002),c=function(s){return s===document||s===document.documentElement||s===document.body?Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop):s.scrollTop},r=function(s){return s.scrollHeight||Math.max(document.documentElement.scrollHeight,document.body.scrollHeight)},u=function(s){return s.clientHeight||Math.max(document.documentElement.clientHeight,document.body.clientHeight)},m=function(s,a){a===void 0&&(a={});var _=a.target,f=a.isNoMore,x=a.threshold,j=x===void 0?100:x,L=a.direction,V=L===void 0?"bottom":L,y=a.reloadDeps,k=y===void 0?[]:y,q=a.manual,$=a.onBefore,N=a.onSuccess,H=a.onError,v=a.onFinally,z=(0,t.CR)((0,l.useState)(),2),U=z[0],K=z[1],B=(0,t.CR)((0,l.useState)(!1),2),F=B[0],I=B[1],W=V==="top",b=(0,l.useRef)(),w=(0,l.useRef)(0),p=(0,l.useMemo)(function(){return f?f(U):!1},[U]),R=(0,O.Z)(function(o){return(0,t.mG)(void 0,void 0,void 0,function(){var n,d,P,S;return(0,t.Jh)(this,function(A){switch(A.label){case 0:return[4,s(o)];case 1:return n=A.sent(),K(o?(0,t.pi)((0,t.pi)({},n),{list:W?(0,t.ev)((0,t.ev)([],(0,t.CR)(n.list),!1),(0,t.CR)((P=o.list)!==null&&P!==void 0?P:[]),!1):(0,t.ev)((0,t.ev)([],(0,t.CR)((S=o.list)!==null&&S!==void 0?S:[]),!1),(0,t.CR)(n.list),!1)}):(0,t.pi)((0,t.pi)({},n),{list:(0,t.ev)([],(0,t.CR)((d=n.list)!==null&&d!==void 0?d:[]),!1)})),[2,n]}})})},{manual:q,onFinally:function(o,n,d){I(!1),v==null||v(n,d)},onBefore:function(){return $==null?void 0:$()},onSuccess:function(o){setTimeout(function(){if(W){var n=(0,C.n)(_);if(n=n===document?document.documentElement:n,n){var d=r(n);n.scrollTo(0,d-w.current)}}else D()}),N==null||N(o)},onError:function(o){return H==null?void 0:H(o)}}),Q=R.loading,ee=R.error,G=R.run,X=R.runAsync,ne=R.cancel,Z=(0,h.Z)(function(){p||(I(!0),G(U))}),J=(0,h.Z)(function(){return p?Promise.reject():(I(!0),X(U))}),te=function(){return I(!1),G()},Y=function(){return I(!1),X()},D=function(){var o=(0,C.n)(_);if(o){var n=o===document?document.documentElement:o,d=c(n),P=r(n),S=u(n);W?(b.current!==void 0&&b.current>d&&d<=j&&Z(),b.current=d,w.current=P-d):P-d<=S+j&&Z()}};return(0,M.Z)("scroll",function(){Q||F||D()},{target:_}),(0,i.Z)(function(){G()},(0,t.ev)([],(0,t.CR)(k),!1)),{data:U,loading:!F&&Q,error:ee,loadingMore:F,noMore:p,loadMore:Z,loadMoreAsync:J,reload:(0,h.Z)(te),reloadAsync:(0,h.Z)(Y),mutate:K,cancel:ne}},g=m},57838:function(T,E,e){e.d(E,{Z:function(){return l}});var t=e(67294);function l(){const[,M]=t.useReducer(h=>h+1,0);return M}},74443:function(T,E,e){e.d(E,{ZP:function(){return i},c4:function(){return M},m9:function(){return C}});var t=e(67294),l=e(29691);const M=["xxl","xl","lg","md","sm","xs"],h=c=>({xs:`(max-width: ${c.screenXSMax}px)`,sm:`(min-width: ${c.screenSM}px)`,md:`(min-width: ${c.screenMD}px)`,lg:`(min-width: ${c.screenLG}px)`,xl:`(min-width: ${c.screenXL}px)`,xxl:`(min-width: ${c.screenXXL}px)`}),O=c=>{const r=c,u=[].concat(M).reverse();return u.forEach((m,g)=>{const s=m.toUpperCase(),a=`screen${s}Min`,_=`screen${s}`;if(!(r[a]<=r[_]))throw new Error(`${a}<=${_} fails : !(${r[a]}<=${r[_]})`);if(g<u.length-1){const f=`screen${s}Max`;if(!(r[_]<=r[f]))throw new Error(`${_}<=${f} fails : !(${r[_]}<=${r[f]})`);const j=`screen${u[g+1].toUpperCase()}Min`;if(!(r[f]<=r[j]))throw new Error(`${f}<=${j} fails : !(${r[f]}<=${r[j]})`)}}),c};function i(){const[,c]=(0,l.ZP)(),r=h(O(c));return t.useMemo(()=>{const u=new Map;let m=-1,g={};return{matchHandlers:{},dispatch(s){return g=s,u.forEach(a=>a(g)),u.size>=1},subscribe(s){return u.size||this.register(),m+=1,u.set(m,s),s(g),m},unsubscribe(s){u.delete(s),u.size||this.unregister()},unregister(){Object.keys(r).forEach(s=>{const a=r[s],_=this.matchHandlers[a];_==null||_.mql.removeListener(_==null?void 0:_.listener)}),u.clear()},register(){Object.keys(r).forEach(s=>{const a=r[s],_=x=>{let{matches:j}=x;this.dispatch(Object.assign(Object.assign({},g),{[s]:j}))},f=window.matchMedia(a);f.addListener(_),this.matchHandlers[a]={mql:f,listener:_},_(f)})},responsiveMap:r}},[c])}const C=(c,r)=>{if(r&&typeof r=="object")for(let u=0;u<M.length;u++){const m=M[u];if(c[m]&&r[m]!==void 0)return r[m]}}},25378:function(T,E,e){var t=e(67294),l=e(8410),M=e(57838),h=e(74443);function O(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const C=(0,t.useRef)({}),c=(0,M.Z)(),r=(0,h.ZP)();return(0,l.Z)(()=>{const u=r.subscribe(m=>{C.current=m,i&&c()});return()=>r.unsubscribe(u)},[]),C.current}E.Z=O},54666:function(T,E,e){e.d(E,{Z:function(){return l}});var t=e(33733);var l=(0,t.Z)("outline","message","IconMessage",[["path",{d:"M8 9h8",key:"svg-0"}],["path",{d:"M8 13h6",key:"svg-1"}],["path",{d:"M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z",key:"svg-2"}]])}}]);
