"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8958],{66386:function(A,v,t){t.d(v,{Z:function(){return h}});var u=t(4483),o=t(85893);function h(){return(0,o.jsxs)("div",{className:"py-3",children:[(0,o.jsx)("div",{children:(0,o.jsx)(u.X,{className:"flex h-12 w-12 rounded-full"})}),(0,o.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,o.jsx)(u.X,{className:"h-3 w-3/5 rounded-lg"}),(0,o.jsx)(u.X,{className:"h-3 w-4/5 rounded-lg"})]})]})}},99872:function(A,v,t){var u=t(5574),o=t.n(u),h=t(68421),m=t(67294),x=t(66386),U=t(30699),f=t(95813),M=t(90845),O=t(19314),p=t(82354),N=t(1461),I=t(80570),P=t(76021),n=t(85893);v.Z=function(){var d,y=(0,m.useState)(!1),C=o()(y,2),T=C[0],B=C[1],j=(0,h.Z)(U.x1.mall.userUserBalanceAndPoints,{manual:!0}),E=((d=j.data)===null||d===void 0||(d=d.data)===null||d===void 0?void 0:d.Data)||{};(0,m.useEffect)(function(){j.run({})},[]);var g=function(r){return(0,n.jsx)(M.w,{isPressable:!0,isHoverable:!0,className:"h-full w-full",onClick:function(){r.action&&r.action(),r.pathname&&P.m8.push({pathname:r.pathname})},children:(0,n.jsxs)(O.G,{className:"flex h-full w-full flex-col items-center justify-center py-2",children:[r.icon,(0,n.jsx)("h3",{className:"mb-1 text-nowrap font-bold",children:r.title}),(0,n.jsx)("span",{className:"text-sm text-slate-600",style:{visibility:(0,f.Wq)(r.subtitle)?"hidden":"visible"},children:r.subtitle||"--"})]})})};return j.loading?(0,n.jsx)(x.Z,{}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"my-4 grid grid-flow-row grid-cols-3 gap-2 px-2",children:[g({icon:(0,n.jsx)(p.Z,{stroke:1,size:35}),title:"\u4F59\u989D",subtitle:"".concat((0,f.lb)(E.Balance||0)),pathname:"/ucenter/balance"}),g({icon:(0,n.jsx)(N.Z,{stroke:1,size:35}),title:"\u4ED8\u6B3E",action:function(){B(!0)}}),g({icon:(0,n.jsx)(I.Z,{stroke:1,size:35}),title:"\u79EF\u5206",subtitle:"".concat(E.Points==null?"--":E.Points),pathname:"/ucenter/points"})]})})}},62966:function(A,v,t){t.r(v),t.d(v,{default:function(){return X}});var u=t(84179),o=t(67294),h=t(99872),m=t(38295),x=t(35291),U=t(55932),f=t(95813),M=t(8432),O=t(17226),p=t(13403),N=t(22897),I=t(41279),P=t(76021),n=t(85893);function d(){var e=(0,m.o)(),s=function(){(0,x.lE)(e.storeUser)&&e.queryNotificationCount()};(0,o.useEffect)(function(){s()},[]),(0,o.useEffect)(function(){(0,x.lE)(e.storeUser)||(e.notificationCount=0)},[e.storeUser]);var a=e.notificationCount||0;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p.O,{shape:"circle",content:a,isInvisible:a<=0,color:"danger",children:(0,n.jsx)(N.A,{variant:"light",size:"sm",color:"default",radius:"full",isIconOnly:!0,onPress:function(){P.m8.push("/inbox")},children:(0,n.jsx)(I.Z,{stroke:1})})})})}var y=function(){var s,a,l,i,c=(0,m.o)(),D=(s=c.storeUser)===null||s===void 0||(s=s.Grade)===null||s===void 0?void 0:s.Name;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"px-3 py-6 flex-row-between gap-2 flex-nowrap flex-shrink-0",children:[(0,n.jsx)(M.z,{name:(0,n.jsx)("div",{className:"text-black",children:(0,f.zO)((0,x.vW)((a=c.storeUser)===null||a===void 0?void 0:a.User)||"New User",8)}),description:(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-light text-xs text-gray-400",children:"@".concat((l=c.storeUser)===null||l===void 0?void 0:l.Id)}),(0,f.Wq)(D)||(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"text-overline text-tiny font-light",children:D})})]}),avatarProps:{className:"w-20 h-20 text-large mr-2",size:"lg",isBordered:!0,icon:(0,n.jsx)(O.Z,{stroke:1}),color:"primary",showFallback:!0,src:(0,U.SZ)((i=c.storeUser)===null||i===void 0||(i=i.User)===null||i===void 0?void 0:i.Avatar,{width:80,height:80})}}),(0,n.jsx)("div",{className:"",children:(0,n.jsx)(d,{})})]})})},C=y,T=t(68421),B=t(30699),j=t(45595),E=t(18266),g=t(97322),R=t(73138),r=t(39276),W=t(63070),L=t(26380),Z=t(15741),K=function(s){var a=s.content;return(0,n.jsxs)("div",{className:"flex items-center gap-1 text-default-400",children:[(0,n.jsx)("span",{className:"text-small text-slate-500",children:a}),(0,n.jsx)(g.Z,{stroke:1})]})},_=function(s){return(0,n.jsx)(j.X,{className:"w-full gap-0 divide-y divide-default-300/50 overflow-visible rounded-medium bg-content1 p-0 shadow-small dark:divide-default-100/80",itemClasses:{base:"px-3 first:rounded-t-medium last:rounded-b-medium rounded-none gap-3 h-12 data-[hover=true]:bg-default-100/80"},children:s.map(function(a,l){return(0,n.jsx)(E.R,{startContent:a.icon,endContent:a.right==null||(0,n.jsx)(K,{content:a.right}),onClick:function(){a.path?P.m8.push({pathname:a.path}):a.action&&a.action()},children:a.name},l)})})};function b(){var e,s,a=(0,m.o)(),l=(e=a.storeUser)===null||e===void 0||(e=e.User)===null||e===void 0||(e=e.UserMobile)===null||e===void 0?void 0:e.MobilePhone,i=(0,T.Z)(B.x1.mall.orderPendingCount,{manual:!0}),c=((s=i.data)===null||s===void 0||(s=s.data)===null||s===void 0?void 0:s.Data)||0;(0,o.useEffect)(function(){i.run()},[]);var D=[{icon:(0,n.jsx)(R.Z,{stroke:1}),name:"\u8BA2\u5355",path:"/order",right:c>0?"".concat(c,"\u4E2A\u8FDB\u884C\u4E2D"):""},{icon:(0,n.jsx)(r.Z,{stroke:1}),name:"\u4F18\u60E0\u5238",right:"\u2318X",path:"/user/coupon"},{icon:(0,n.jsx)(W.Z,{stroke:1}),name:"\u6536\u8D27\u5730\u5740",right:"\u2318X",path:"/user/address"},{icon:(0,n.jsx)(L.Z,{stroke:1}),name:"\u7ED1\u5B9A\u624B\u673A",right:(0,f.Wq)(l)?"\u2318C":"".concat(l),path:"/user/mobile",action:function(){}}],F=[{icon:(0,n.jsx)(Z.Z,{stroke:1}),name:"\u8BBE \u7F6E",path:"/ucenter/profile"}];return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"mb-3 px-1",children:[(0,n.jsx)("div",{className:"mb-2",children:_(D)}),(0,n.jsx)("div",{className:"mb-2",children:_(F)})]})})}function X(){return(0,u.Z)("\u7528\u6237"),(0,o.useEffect)(function(){var e=document.body.style.backgroundColor;return document.body.style.backgroundColor="#f5f7f9",function(){document.body.style.backgroundColor=e}},[]),(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"container mx-auto max-w-md mb-1",children:[(0,n.jsx)(C,{}),(0,n.jsx)(h.Z,{}),(0,n.jsx)(b,{})]})})}}}]);
