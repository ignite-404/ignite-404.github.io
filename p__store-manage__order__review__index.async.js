"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9732],{89780:function(z,j,n){n.r(j),n.d(j,{default:function(){return b}});var h=n(42122),d=n.n(h),E=n(27424),f=n.n(E),H=n(45360),x=n(14726),R=n(59606),L=n(40411),Q=n(83062),D=n(85576),l=n(67294),p=n(48382),G=n(23806),F=n(30967),$=n(42838),P=n(26089),J=n(99646),N=n(35291),e=n(85893),U=function(v){var c=v.review,g=[{title:"\u5546\u54C1\u4FE1\u606F",render:function(s,a){var u;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:(0,N.CQ)(((u=a.OrderItem)===null||u===void 0?void 0:u.Sku)||{})})})}},{title:"\u8BC4\u8BBA",render:function(s,a){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:a.ReviewText||"--"})})}},{title:"\u56FE\u7247",render:function(s,a){return a.StorageMeta==null||a.StorageMeta.length<=0?null:(0,e.jsx)(p.Z,{data:a.StorageMeta,count:10})}},{title:"\u5F97\u5206",render:function(s,a){return(0,e.jsx)(R.Z,{value:a.Rating||0,allowHalf:!0,disabled:!0})}}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.Z,{search:!1,headerTitle:"\u8BE6\u60C5",options:!1,columns:g,dataSource:c.Items||[],pagination:!1})})},V=n(4393),Z=n(11346),W=n(71230),T=n(15746),X=n(25278),Y=function(v){var c=v.query,g=v.onSearch,o=(0,l.useState)({}),s=f()(o,2),a=s[0],u=s[1];return(0,l.useEffect)(function(){u(d()(d()({},a),c))},[c]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(V.Z,{bordered:!1,style:{marginBottom:10},children:(0,e.jsx)(Z.Z,{onFinish:function(){g(d()(d()({},a),{},{Page:1}))},children:(0,e.jsxs)(W.Z,{gutter:10,children:[(0,e.jsx)(T.Z,{span:6,children:(0,e.jsx)(Z.Z.Item,{label:"\u5173\u952E\u8BCD",children:(0,e.jsx)(X.Z,{value:a.Keywords||"",onChange:function(C){u(d()(d()({},a),{},{Keywords:C.target.value}))}})})}),(0,e.jsx)(T.Z,{span:6,children:(0,e.jsx)(Z.Z.Item,{children:(0,e.jsx)(x.ZP,{htmlType:"submit",type:"primary",children:"\u641C\u7D22"})})})]})})})})},b=function(){var v=(0,l.useState)(!0),c=f()(v,2),g=c[0],o=c[1],s=(0,l.useState)({}),a=f()(s,2),u=a[0],y=a[1],C=(0,l.useState)({}),M=f()(C,2),m=M[0],B=M[1],k=(0,l.useState)(void 0),A=f()(k,2),q=A[0],O=A[1],_=(0,l.useState)(void 0),w=f()(_,2),I=w[0],K=w[1],ee=function(r){confirm("\u786E\u5B9A\u5BA1\u6279?")&&(O(r.Id),F.x1.mallManager.orderReviewApproveReview({Id:r.Id}).then(function(t){(0,$._y)(t,function(){H.ZP.success("\u5BA1\u6279\u6210\u529F"),S(m)})}).finally(function(){return O(void 0)}))},S=function(r){o(!0),F.x1.mallManager.orderReviewQueryOrderReviewPaging(r).then(function(t){y(t.data||{})}).finally(function(){o(!1)})},ne=[{title:"",render:function(r,t){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:(0,e.jsx)(x.ZP,{type:"link",onClick:function(){K(t.OrderId||"")},children:"\u67E5\u770B\u76F8\u5173\u8BA2\u5355"})})})}},{title:"\u8BC4\u8BBA",render:function(r,t){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{children:t.ReviewText||"--"})})}},{title:"\u56FE\u7247",render:function(r,t){return t.StorageMeta==null||t.StorageMeta.length<=0?null:(0,e.jsx)(p.Z,{data:t.StorageMeta,count:10})}},{title:"\u8BC4\u5206",render:function(r,t){return(0,e.jsx)(R.Z,{value:t.Rating||0,allowHalf:!0,disabled:!0})}},{title:"\u65F6\u95F4",render:function(r,t){return(0,e.jsx)(G.Z,{model:t})}},{title:"\u64CD\u4F5C",width:200,render:function(r,t){return t.Approved?(0,e.jsx)(L.Z,{text:"\u5DF2\u5BA1\u6279",color:"green"}):(0,e.jsx)(x.ZP.Group,{children:(0,e.jsx)(Q.Z,{title:"\u6279\u51C6\u540E\u53EF\u4EE5\u516C\u5F00\u5C55\u793A",children:(0,e.jsx)(x.ZP,{loading:q==t.Id,type:"link",onClick:function(){ee(t)},children:"\u6279\u51C6\u6B64\u8BC4\u8BBA"})})})}}];return(0,l.useEffect)(function(){S(d()(d()({},m),{},{Page:1}))},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(D.Z,{title:"\u8BA2\u5355",open:I!=null,footer:!1,width:"95%",onCancel:function(){return K(void 0)},children:I&&(0,e.jsx)(J.Z,{detailId:I})}),(0,e.jsx)(Y,{query:m,onSearch:function(r){B(r),S(r)}}),(0,e.jsx)(P.Z,{search:!1,headerTitle:"\u8BA2\u5355\u8BC4\u8BBA",options:!1,rowKey:function(r){return r.Id||""},loading:g,columns:ne,dataSource:u.Items||[],expandable:{expandedRowRender:function(r){return(0,e.jsx)(U,{review:r||{}})}},pagination:{total:u.TotalCount,pageSize:u.PageSize,onChange:function(r){var t=d()(d()({},m),{},{Page:r});B(t),S(t)}}})]})}},935:function(z,j){function n(h){var d=h==null?0:h.length;return d?h[d-1]:void 0}j.Z=n}}]);
