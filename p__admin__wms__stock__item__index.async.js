"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1241],{1100:function(W,E,r){r.r(E),r.d(E,{default:function(){return L}});var P=r(97857),h=r.n(P),Q=r(5574),S=r.n(Q),I=r(30699),N=r(45360),A=r(66309),B=r(83062),D=r(13275),Z=r(4393),T=r(80799),i=r(67294),y=r(11346),$=r(25278),z=r(14726),e=r(85893),G=function(l){var j=l.query,d=l.onSearch,x=(0,i.useState)({}),c=S()(x,2),v=c[0],m=c[1],p=function(o){o.Page=1,d&&d(o)};return(0,i.useEffect)(function(){m(j||{})},[]),(0,e.jsx)(Z.Z,{bordered:!1,style:{marginBottom:10},children:(0,e.jsxs)(y.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},onFinish:function(){return p(v)},layout:"inline",children:[(0,e.jsx)(y.Z.Item,{label:"\u5E8F\u5217\u53F7",children:(0,e.jsx)($.Z,{value:v.SerialNo||"",onChange:function(o){return m(function(g){return h()(h()({},g),{},{SerialNo:o.target.value})})}})}),(0,e.jsx)(y.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,e.jsx)(z.ZP,{type:"primary",htmlType:"submit",children:"\u641C\u7D22"})})]})})},K=G,L=function(){var F=(0,i.useState)(!0),l=S()(F,2),j=l[0],d=l[1],x=(0,i.useState)({Items:[],TotalCount:0}),c=S()(x,2),v=c[0],m=c[1],p=(0,i.useState)({Page:1}),f=S()(p,2),o=f[0],g=f[1],C=function(a){d(!0),I.x1.mallAdmin.stockItemStockItemPaging(a).then(function(t){t.data.Error?N.ZP.error(t.data.Error.Message):m(t.data||{})}).finally(function(){d(!1)})},M=[{title:"\u6279\u6B21\u53F7",render:function(a,t){var n;return(0,e.jsx)("b",{children:((n=t.Stock)===null||n===void 0?void 0:n.No)||"--"})}},{title:"\u5546\u54C1",render:function(a,t){var n,s;return(0,e.jsx)("span",{children:"".concat(((n=t.Goods)===null||n===void 0?void 0:n.Name)||"--","/").concat(((s=t.Sku)===null||s===void 0?void 0:s.Name)||"--")})}},{title:"\u4ED3\u5E93",render:function(a,t){var n;return(0,e.jsx)("span",{children:((n=t.Stock)===null||n===void 0||(n=n.Warehouse)===null||n===void 0?void 0:n.Name)||"--"})}},{title:"\u4F9B\u8D27\u5546",render:function(a,t){var n;return(0,e.jsx)("span",{children:((n=t.Stock)===null||n===void 0||(n=n.Supplier)===null||n===void 0?void 0:n.Name)||"--"})}},{title:"\u91C7\u8D2D\u5355\u4EF7",render:function(a,t){return(0,e.jsx)("span",{children:t.Price})}},{title:"\u91C7\u8D2D\u6570\u91CF",render:function(a,t){return(0,e.jsx)("span",{children:t.Quantity})}},{title:"\u5E93\u5B58\u7ED3\u4F59",render:function(a,t){if((t.DeductQuantity||0)>=(t.Quantity||0))return(0,e.jsx)(A.Z,{color:"red",children:"\u5DF2\u65E0\u5E93\u5B58"});if(!(t.Quantity&&t.Quantity>0))return(0,e.jsx)("span",{children:"\u91C7\u8D2D\u6570\u91CF\u5F02\u5E38"});var n=(t.Quantity||0)-(t.DeductQuantity||0),s=n/(t.Quantity||0)*100;return s>100?(0,e.jsx)("span",{children:"\u8BA1\u7B97\u9519\u8BEF"}):(0,e.jsx)(B.Z,{title:"\u5269\u4F59".concat(n),children:(0,e.jsx)(D.Z,{percent:s,status:"active"})})}}];return(0,i.useEffect)(function(){C(o)},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(K,{query:o,onSearch:function(a){g(a),C(a)}}),(0,e.jsx)(Z.Z,{title:"\u5E93\u5B58\u660E\u7EC6",children:(0,e.jsx)(T.Z,{rowKey:function(a){return a.Id||""},loading:j,columns:M,dataSource:v.Items||[],pagination:{showSizeChanger:!1,pageSize:20,current:o.Page,total:v.TotalCount,onChange:function(a){var t=h()(h()({},o),{},{Page:a});g(t),C(t)}}})})]})}}}]);
