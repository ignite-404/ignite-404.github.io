"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1241],{1100:function(te,W,o){o.r(W),o.d(W,{default:function(){return m}});var c=o(97857),x=o.n(c),T=o(5574),j=o.n(T),P=o(30699),E=o(45360),V=o(66309),U=o(83062),v=o(38703),d=o(4393),f=o(80799),i=o(67294),g=o(11346),C=o(65233),p=o(28036),a=o(85893),$=function(Z){var K=Z.query,F=Z.onSearch,X=(0,i.useState)({}),M=j()(X,2),S=M[0],H=M[1],G=function(h){h.Page=1,F&&F(h)};return(0,i.useEffect)(function(){H(K||{})},[]),(0,a.jsx)(d.Z,{bordered:!1,style:{marginBottom:10},children:(0,a.jsxs)(g.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},onFinish:function(){return G(S)},layout:"inline",children:[(0,a.jsx)(g.Z.Item,{label:"\u5E8F\u5217\u53F7",children:(0,a.jsx)(C.Z,{value:S.SerialNo||"",onChange:function(h){return H(function(Q){return x()(x()({},Q),{},{SerialNo:h.target.value})})}})}),(0,a.jsx)(g.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,a.jsx)(p.ZP,{type:"primary",htmlType:"submit",children:"\u641C\u7D22"})})]})})},B=$,m=function(){var N=(0,i.useState)(!0),Z=j()(N,2),K=Z[0],F=Z[1],X=(0,i.useState)({Items:[],TotalCount:0}),M=j()(X,2),S=M[0],H=M[1],G=(0,i.useState)({Page:1}),L=j()(G,2),h=L[0],Q=L[1],e=function(t){F(!0),P.x1.mallAdmin.stockItemStockItemPaging(t).then(function(n){n.data.Error?E.ZP.error(n.data.Error.Message):H(n.data||{})}).finally(function(){F(!1)})},s=[{title:"\u6279\u6B21\u53F7",render:function(t,n){var r;return(0,a.jsx)("b",{children:((r=n.Stock)===null||r===void 0?void 0:r.No)||"--"})}},{title:"\u5546\u54C1",render:function(t,n){var r,u;return(0,a.jsx)("span",{children:"".concat(((r=n.Goods)===null||r===void 0?void 0:r.Name)||"--","/").concat(((u=n.Sku)===null||u===void 0?void 0:u.Name)||"--")})}},{title:"\u4ED3\u5E93",render:function(t,n){var r;return(0,a.jsx)("span",{children:((r=n.Stock)===null||r===void 0||(r=r.Warehouse)===null||r===void 0?void 0:r.Name)||"--"})}},{title:"\u4F9B\u8D27\u5546",render:function(t,n){var r;return(0,a.jsx)("span",{children:((r=n.Stock)===null||r===void 0||(r=r.Supplier)===null||r===void 0?void 0:r.Name)||"--"})}},{title:"\u91C7\u8D2D\u5355\u4EF7",render:function(t,n){return(0,a.jsx)("span",{children:n.Price})}},{title:"\u91C7\u8D2D\u6570\u91CF",render:function(t,n){return(0,a.jsx)("span",{children:n.Quantity})}},{title:"\u5E93\u5B58\u7ED3\u4F59",render:function(t,n){if((n.DeductQuantity||0)>=(n.Quantity||0))return(0,a.jsx)(V.Z,{color:"red",children:"\u5DF2\u65E0\u5E93\u5B58"});if(!(n.Quantity&&n.Quantity>0))return(0,a.jsx)("span",{children:"\u91C7\u8D2D\u6570\u91CF\u5F02\u5E38"});var r=(n.Quantity||0)-(n.DeductQuantity||0),u=r/(n.Quantity||0)*100;return u>100?(0,a.jsx)("span",{children:"\u8BA1\u7B97\u9519\u8BEF"}):(0,a.jsx)(U.Z,{title:"\u5269\u4F59".concat(r),children:(0,a.jsx)(v.Z,{percent:u,status:"active"})})}}];return(0,i.useEffect)(function(){e(h)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B,{query:h,onSearch:function(t){Q(t),e(t)}}),(0,a.jsx)(d.Z,{title:"\u5E93\u5B58\u660E\u7EC6",children:(0,a.jsx)(f.Z,{rowKey:function(t){return t.Id||""},loading:K,columns:s,dataSource:S.Items||[],pagination:{showSizeChanger:!1,pageSize:20,current:h.Page,total:S.TotalCount,onChange:function(t){var n=x()(x()({},h),{},{Page:t});Q(n),e(n)}}})})]})}},69760:function(te,W,o){o.d(W,{Z:function(){return U},w:function(){return j}});var c=o(67294),x=o(97937),T=o(64217);function j(v){if(v)return{closable:v.closable,closeIcon:v.closeIcon}}function P(v){const{closable:d,closeIcon:f}=v||{};return c.useMemo(()=>{if(!d&&(d===!1||f===!1||f===null))return!1;if(d===void 0&&f===void 0)return null;let i={closeIcon:typeof f!="boolean"&&f!==null?f:void 0};return d&&typeof d=="object"&&(i=Object.assign(Object.assign({},i),d)),i},[d,f])}function E(){const v={};for(var d=arguments.length,f=new Array(d),i=0;i<d;i++)f[i]=arguments[i];return f.forEach(g=>{g&&Object.keys(g).forEach(C=>{g[C]!==void 0&&(v[C]=g[C])})}),v}const V={};function U(v,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:V;const i=P(v),g=P(d),C=typeof i!="boolean"?!!(i!=null&&i.disabled):!1,p=c.useMemo(()=>Object.assign({closeIcon:c.createElement(x.Z,null)},f),[f]),a=c.useMemo(()=>i===!1?!1:i?E(p,g,i):g===!1?!1:g?E(p,g):p.closable?p:!1,[i,g,p]);return c.useMemo(()=>{if(a===!1)return[!1,null,C];const{closeIconRender:$}=p,{closeIcon:B}=a;let m=B;if(m!=null){$&&(m=$(B));const N=(0,T.Z)(a,!0);Object.keys(N).length&&(m=c.isValidElement(m)?c.cloneElement(m,N):c.createElement("span",Object.assign({},N),m))}return[!0,m,C]},[a,p])}},66309:function(te,W,o){o.d(W,{Z:function(){return Q}});var c=o(67294),x=o(93967),T=o.n(x),j=o(98423),P=o(98787),E=o(69760),V=o(96159),U=o(45353),v=o(53124),d=o(11568),f=o(10274),i=o(14747),g=o(83262),C=o(83559);const p=e=>{const{paddingXXS:s,lineWidth:l,tagPaddingHorizontal:t,componentCls:n,calc:r}=e,u=r(t).sub(l).equal(),z=r(s).sub(l).equal();return{[n]:Object.assign(Object.assign({},(0,i.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:u,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,d.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${n}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${n}-close-icon`]:{marginInlineStart:z,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${n}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${n}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:u}}),[`${n}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},a=e=>{const{lineWidth:s,fontSizeIcon:l,calc:t}=e,n=e.fontSizeSM;return(0,g.IX)(e,{tagFontSize:n,tagLineHeight:(0,d.bf)(t(e.lineHeightSM).mul(n).equal()),tagIconSize:t(l).sub(t(s).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},$=e=>({defaultBg:new f.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var B=(0,C.I$)("Tag",e=>{const s=a(e);return p(s)},$),m=function(e,s){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l},Z=c.forwardRef((e,s)=>{const{prefixCls:l,style:t,className:n,checked:r,onChange:u,onClick:z}=e,I=m(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:J,tag:O}=c.useContext(v.E_),Y=w=>{u==null||u(!r),z==null||z(w)},D=J("tag",l),[k,q,b]=B(D),_=T()(D,`${D}-checkable`,{[`${D}-checkable-checked`]:r},O==null?void 0:O.className,n,q,b);return k(c.createElement("span",Object.assign({},I,{ref:s,style:Object.assign(Object.assign({},t),O==null?void 0:O.style),className:_,onClick:Y})))}),K=o(98719);const F=e=>(0,K.Z)(e,(s,l)=>{let{textColor:t,lightBorderColor:n,lightColor:r,darkColor:u}=l;return{[`${e.componentCls}${e.componentCls}-${s}`]:{color:t,background:r,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:u,borderColor:u},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var X=(0,C.bk)(["Tag","preset"],e=>{const s=a(e);return F(s)},$);function M(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const S=(e,s,l)=>{const t=M(l);return{[`${e.componentCls}${e.componentCls}-${s}`]:{color:e[`color${l}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var H=(0,C.bk)(["Tag","status"],e=>{const s=a(e);return[S(s,"success","Success"),S(s,"processing","Info"),S(s,"error","Error"),S(s,"warning","Warning")]},$),G=function(e,s){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const h=c.forwardRef((e,s)=>{const{prefixCls:l,className:t,rootClassName:n,style:r,children:u,icon:z,color:I,onClose:J,bordered:O=!0,visible:Y}=e,D=G(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:k,direction:q,tag:b}=c.useContext(v.E_),[_,w]=c.useState(!0),ie=(0,j.Z)(D,["closeIcon","closable"]);c.useEffect(()=>{Y!==void 0&&w(Y)},[Y]);const oe=(0,P.o2)(I),re=(0,P.yT)(I),ee=oe||re,ue=Object.assign(Object.assign({backgroundColor:I&&!ee?I:void 0},b==null?void 0:b.style),r),y=k("tag",l),[de,fe,ge]=B(y),ve=T()(y,b==null?void 0:b.className,{[`${y}-${I}`]:ee,[`${y}-has-color`]:I&&!ee,[`${y}-hidden`]:!_,[`${y}-rtl`]:q==="rtl",[`${y}-borderless`]:!O},t,n,fe,ge),le=R=>{R.stopPropagation(),J==null||J(R),!R.defaultPrevented&&w(!1)},[,Ce]=(0,E.Z)((0,E.w)(e),(0,E.w)(b),{closable:!1,closeIconRender:R=>{const pe=c.createElement("span",{className:`${y}-close-icon`,onClick:le},R);return(0,V.wm)(R,pe,A=>({onClick:ce=>{var ne;(ne=A==null?void 0:A.onClick)===null||ne===void 0||ne.call(A,ce),le(ce)},className:T()(A==null?void 0:A.className,`${y}-close-icon`)}))}}),me=typeof D.onClick=="function"||u&&u.type==="a",ae=z||null,he=ae?c.createElement(c.Fragment,null,ae,u&&c.createElement("span",null,u)):u,se=c.createElement("span",Object.assign({},ie,{ref:s,className:ve,style:ue}),he,Ce,oe&&c.createElement(X,{key:"preset",prefixCls:y}),re&&c.createElement(H,{key:"status",prefixCls:y}));return de(me?c.createElement(U.Z,{component:"Tag"},se):se)});h.CheckableTag=Z;var Q=h}}]);
