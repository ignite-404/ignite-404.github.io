"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[773],{5884:function(D,f,s){s.r(f),s.d(f,{default:function(){return T}});var v=s(97857),a=s.n(v),g=s(5574),_=s.n(g),p=s(84179),h=s(68421),m=s(67294),i=s(47299),M=s(38295),U=s(30699),S=s(47650),c=s(66419),P=s(69047),y=s(38787),j=s(35291),o=s(85893);function T(){var E,A;(0,p.Z)("\u6CE8\u518C\u8D26\u53F7~");var C=(0,M.o)(),W=(0,m.useState)({}),O=_()(W,2),d=O[0],l=O[1],R=(0,h.Z)(U.x1.platform.authPasswordReg,{manual:!0,onSuccess:function(n,u){(0,c._y)(n,function(){(0,c.cQ)("\u6CE8\u518C\u6210\u529F"),setTimeout(function(){(0,j.rf)()},1e3)})}});return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("div",{className:"container max-w-lg py-8",children:(0,o.jsxs)("div",{className:"flex-col-center w-full gap-2 overflow-hidden rounded-sm bg-white p-5",children:[(0,o.jsxs)("div",{className:"flex-col-center gap-2",children:[(0,o.jsx)("img",{src:i,width:200,alt:"login"}),(0,o.jsx)("h1",{className:"text-lg font-bold text-black",children:"\u767B\u5F55"})]}),(0,o.jsxs)("div",{className:"my-1 flex w-full flex-col gap-4",children:[(0,o.jsx)(P.Y,{required:!0,fullWidth:!0,variant:"bordered",label:"\u8D26\u53F7",value:d.IdentityName||"",onChange:function(n){return l(a()(a()({},d),{},{IdentityName:n.target.value}))},autoFocus:!0}),(0,o.jsx)(P.Y,{required:!0,fullWidth:!0,variant:"bordered",label:"\u5BC6\u7801",type:"password",value:d.Password||"",onChange:function(n){return l(a()(a()({},d),{},{Password:n.target.value}))}})]}),(0,o.jsxs)("div",{className:"p-3 flex w-full flex-col gap-1",children:[(0,o.jsx)(y.A,{isLoading:R.loading,fullWidth:!0,variant:"flat",color:"primary",onClick:function(){if((0,c.Wq)(d.IdentityName)||(0,c.Wq)(d.Password)){(0,c.Ti)("\u8BF7\u8F93\u5165\u5B8C\u6574\u7684\u7528\u6237\u540D\u548C\u5BC6\u7801");return}R.run(a()({},d))},children:"\u6CE8\u518C"}),(0,o.jsx)(y.A,{variant:"light",size:"sm",fullWidth:!0,onClick:function(){S.m8.push({pathname:"/"})},children:"\u8FD4\u56DE"})]}),(0,c.Wq)((E=C.mallSettings)===null||E===void 0?void 0:E.RegisterNotice)||(0,o.jsx)("div",{className:"text-overline mt-2 uppercase",children:(A=C.mallSettings)===null||A===void 0?void 0:A.RegisterNotice})]})})})}},38295:function(D,f,s){s.d(f,{o:function(){return R}});var v=s(15009),a=s.n(v),g=s(99289),_=s.n(g),p=s(19632),h=s.n(p),m=s(47650),i=s(30699),M=s(85134),U=s(66419),S=function(n){var u=l.mallSettings||{},r=[u.StoreNickName,u.StoreEnglishName];n?r=[u.StoreOfficialName,u.StoreOfficialEnglishName].concat(h()(r)):r=[].concat(h()(r),[u.StoreOfficialName,u.StoreOfficialEnglishName]);var t=r.filter(function(b){return!(0,U.Wq)(b)}).at(0);return t||M.v.app.name||M.v.app.englishName},c=function(){var e=_()(a()().mark(function n(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.x1.mall.notificationUnReadCount().then(function(t){l.notificationCount=t.data.Data||0});case 2:case"end":return r.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=_()(a()().mark(function n(){var u;return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.x1.mallAdmin.gradeListGrades();case 2:u=t.sent,l.grades=u.data.Data||[];case 4:case"end":return t.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),y=function(){var e=_()(a()().mark(function n(){var u;return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.x1.mallAdmin.storeQueryStores();case 2:u=t.sent,l.stores=u.data.Data||[];case 4:case"end":return t.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=_()(a()().mark(function n(){var u;return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.x1.mall.shoppingCartCount();case 2:u=t.sent,l.shoppingCartCount=u.data.Data||0;case 4:case"end":return t.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),o=function(){var e=_()(a()().mark(function n(){var u;return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.x1.mall.storeGetCurrentStore();case 2:u=t.sent,l.currentStore=u.data.Data||{};case 4:case"end":return t.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),T=function(){var e=_()(a()().mark(function n(){var u;return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.x1.mall.storeMostNearbyStore();case 2:u=t.sent,l.mostNearbyStore=u.data.Data||{};case 4:case"end":return t.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=_()(a()().mark(function n(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.x1.platform.userAuth().then(function(t){l.userAuthResult=t.data||{}});case 2:case"end":return r.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),A=function(){var e=_()(a()().mark(function n(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.x1.sys.adminAuth().then(function(t){l.adminAuthResult=t.data||{}});case 2:case"end":return r.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),C=function(){var e=_()(a()().mark(function n(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.x1.sys.manageAdminQueryAdminPermissions().then(function(t){l.adminPermissions=t.data||{}});case 2:case"end":return r.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),W=function(){var e=_()(a()().mark(function n(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.x1.mallManager.storeManagerPermissionGetMyPermission().then(function(t){l.managerPermissions=t.data||{}});case 2:case"end":return r.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=_()(a()().mark(function n(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.x1.mallManager.storeManagerAuth().then(function(t){l.storeManagerAuthResult=t.data||{}});case 2:case"end":return r.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=_()(a()().mark(function n(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.x1.mall.userStoreUserAuth().then(function(t){l.storeUserAuthResult=t.data||{}});case 2:case"end":return r.stop()}},n)}));return function(){return e.apply(this,arguments)}}(),l=(0,m.sj)({queryUserAuthResult:E,getAppName:S,queryAdminAuthResult:A,queryStoreManagerAuthResult:O,queryStoreUserAuthResult:d,queryAdminPermission:C,queryStoreManagerPermission:W,queryGrades:P,queryStores:y,queryNotificationCount:c,queryShoppingCartCount:j,queryCurrentStore:o,queryMostNearbyStore:T,messageHistory:[],grades:[],stores:[],notificationCount:0,headerHeight:0,bottomHeight:0,mallSettings:{},shoppingCartCount:0,currentStore:void 0,mostNearbyStore:void 0,userAuthResult:void 0,adminAuthResult:void 0,adminPermissions:void 0,storeUserAuthResult:void 0,storeManagerAuthResult:void 0,managerPermissions:void 0,get user(){var e;return(e=this.userAuthResult)===null||e===void 0?void 0:e.User},get admin(){var e;return(e=this.adminAuthResult)===null||e===void 0?void 0:e.Admin},get storeUser(){var e;return(e=this.storeUserAuthResult)===null||e===void 0?void 0:e.StoreUser},get storeManager(){var e;return(e=this.storeManagerAuthResult)===null||e===void 0?void 0:e.StoreManager}}),R=function(){return(0,m.ey)(l)}},84179:function(D,f,s){var v=s(67294),a=s(45210),g=s(52982),_={restoreOnUnmount:!1};function p(h,m){m===void 0&&(m=_);var i=(0,v.useRef)(g.Z?document.title:"");(0,v.useEffect)(function(){document.title=h},[h]),(0,a.Z)(function(){m.restoreOnUnmount&&(document.title=i.current)})}f.Z=p},47299:function(D,f,s){D.exports=s.p+"static/illustration_login.cfd572d9.png"}}]);
