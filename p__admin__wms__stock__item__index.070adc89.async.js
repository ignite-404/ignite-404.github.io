"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1241],{1100:function(te,A,o){o.r(A),o.d(A,{default:function(){return N}});var c=o(42122),b=o.n(c),T=o(27424),x=o.n(T),P=o(30967),j=o(45360),R=o(66309),V=o(83062),C=o(13275),d=o(4393),f=o(80799),i=o(67294),v=o(11346),g=o(25278),E=o(14726),a=o(85893),$=function(B){var U=B.query,Z=B.onSearch,K=(0,i.useState)({}),F=x()(K,2),y=F[0],W=F[1],X=function(h){h.Page=1,Z&&Z(h)};return(0,i.useEffect)(function(){W(U||{})},[]),(0,a.jsx)(d.Z,{bordered:!1,style:{marginBottom:10},children:(0,a.jsxs)(v.Z,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},onFinish:function(){return X(y)},layout:"inline",children:[(0,a.jsx)(v.Z.Item,{label:"\u5E8F\u5217\u53F7",children:(0,a.jsx)(g.Z,{value:y.SerialNo||"",onChange:function(h){return W(function(L){return b()(b()({},L),{},{SerialNo:h.target.value})})}})}),(0,a.jsx)(v.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,a.jsx)(E.ZP,{type:"primary",htmlType:"submit",children:"\u641C\u7D22"})})]})})},m=$,N=function(){var w=(0,i.useState)(!0),B=x()(w,2),U=B[0],Z=B[1],K=(0,i.useState)({Items:[],TotalCount:0}),F=x()(K,2),y=F[0],W=F[1],X=(0,i.useState)({Page:1}),H=x()(X,2),h=H[0],L=H[1],e=function(t){Z(!0),P.x1.mallAdmin.stockItemStockItemPaging(t).then(function(n){n.data.Error?j.ZP.error(n.data.Error.Message):W(n.data||{})}).finally(function(){Z(!1)})},s=[{title:"\u6279\u6B21\u53F7",render:function(t,n){var r;return(0,a.jsx)("b",{children:((r=n.Stock)===null||r===void 0?void 0:r.No)||"--"})}},{title:"\u5546\u54C1",render:function(t,n){var r,u;return(0,a.jsx)("span",{children:"".concat(((r=n.Goods)===null||r===void 0?void 0:r.Name)||"--","/").concat(((u=n.Sku)===null||u===void 0?void 0:u.Name)||"--")})}},{title:"\u4ED3\u5E93",render:function(t,n){var r;return(0,a.jsx)("span",{children:((r=n.Stock)===null||r===void 0||(r=r.Warehouse)===null||r===void 0?void 0:r.Name)||"--"})}},{title:"\u4F9B\u8D27\u5546",render:function(t,n){var r;return(0,a.jsx)("span",{children:((r=n.Stock)===null||r===void 0||(r=r.Supplier)===null||r===void 0?void 0:r.Name)||"--"})}},{title:"\u91C7\u8D2D\u5355\u4EF7",render:function(t,n){return(0,a.jsx)("span",{children:n.Price})}},{title:"\u91C7\u8D2D\u6570\u91CF",render:function(t,n){return(0,a.jsx)("span",{children:n.Quantity})}},{title:"\u5E93\u5B58\u7ED3\u4F59",render:function(t,n){if((n.DeductQuantity||0)>=(n.Quantity||0))return(0,a.jsx)(R.Z,{color:"red",children:"\u5DF2\u65E0\u5E93\u5B58"});if(!(n.Quantity&&n.Quantity>0))return(0,a.jsx)("span",{children:"\u91C7\u8D2D\u6570\u91CF\u5F02\u5E38"});var r=(n.Quantity||0)-(n.DeductQuantity||0),u=r/(n.Quantity||0)*100;return u>100?(0,a.jsx)("span",{children:"\u8BA1\u7B97\u9519\u8BEF"}):(0,a.jsx)(V.Z,{title:"\u5269\u4F59".concat(r),children:(0,a.jsx)(C.Z,{percent:u,status:"active"})})}}];return(0,i.useEffect)(function(){e(h)},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m,{query:h,onSearch:function(t){L(t),e(t)}}),(0,a.jsx)(d.Z,{title:"\u5E93\u5B58\u660E\u7EC6",children:(0,a.jsx)(f.Z,{rowKey:function(t){return t.Id||""},loading:U,columns:s,dataSource:y.Items||[],pagination:{showSizeChanger:!1,pageSize:20,current:h.Page,total:y.TotalCount,onChange:function(t){var n=b()(b()({},h),{},{Page:t});L(n),e(n)}}})})]})}},69760:function(te,A,o){o.d(A,{Z:function(){return V},w:function(){return x}});var c=o(67294),b=o(97937),T=o(64217);function x(C){if(C)return{closable:C.closable,closeIcon:C.closeIcon}}function P(C){const{closable:d,closeIcon:f}=C||{};return c.useMemo(()=>{if(!d&&(d===!1||f===!1||f===null))return!1;if(d===void 0&&f===void 0)return null;let i={closeIcon:typeof f!="boolean"&&f!==null?f:void 0};return d&&typeof d=="object"&&(i=Object.assign(Object.assign({},i),d)),i},[d,f])}function j(){const C={};for(var d=arguments.length,f=new Array(d),i=0;i<d;i++)f[i]=arguments[i];return f.forEach(v=>{v&&Object.keys(v).forEach(g=>{v[g]!==void 0&&(C[g]=v[g])})}),C}const R={};function V(C,d){let f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R;const i=P(C),v=P(d),g=c.useMemo(()=>Object.assign({closeIcon:c.createElement(b.Z,null)},f),[f]),E=c.useMemo(()=>i===!1?!1:i?j(g,v,i):v===!1?!1:v?j(g,v):g.closable?g:!1,[i,v,g]);return c.useMemo(()=>{if(E===!1)return[!1,null];const{closeIconRender:a}=g,{closeIcon:$}=E;let m=$;if(m!=null){a&&(m=a($));const N=(0,T.Z)(E,!0);Object.keys(N).length&&(m=c.isValidElement(m)?c.cloneElement(m,N):c.createElement("span",Object.assign({},N),m))}return[!0,m]},[E,g])}},66309:function(te,A,o){o.d(A,{Z:function(){return L}});var c=o(67294),b=o(93967),T=o.n(b),x=o(98423),P=o(98787),j=o(69760),R=o(96159),V=o(45353),C=o(53124),d=o(11568),f=o(10274),i=o(14747),v=o(83262),g=o(83559);const E=e=>{const{paddingXXS:s,lineWidth:l,tagPaddingHorizontal:t,componentCls:n,calc:r}=e,u=r(t).sub(l).equal(),M=r(s).sub(l).equal();return{[n]:Object.assign(Object.assign({},(0,i.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:u,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,d.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${n}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${n}-close-icon`]:{marginInlineStart:M,fontSize:e.tagIconSize,color:e.colorTextDescription,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${n}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${n}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:u}}),[`${n}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},a=e=>{const{lineWidth:s,fontSizeIcon:l,calc:t}=e,n=e.fontSizeSM;return(0,v.IX)(e,{tagFontSize:n,tagLineHeight:(0,d.bf)(t(e.lineHeightSM).mul(n).equal()),tagIconSize:t(l).sub(t(s).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},$=e=>({defaultBg:new f.C(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var m=(0,g.I$)("Tag",e=>{const s=a(e);return E(s)},$),N=function(e,s){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l},B=c.forwardRef((e,s)=>{const{prefixCls:l,style:t,className:n,checked:r,onChange:u,onClick:M}=e,I=N(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:G,tag:O}=c.useContext(C.E_),J=Y=>{u==null||u(!r),M==null||M(Y)},z=G("tag",l),[k,q,S]=m(z),_=T()(z,`${z}-checkable`,{[`${z}-checkable-checked`]:r},O==null?void 0:O.className,n,q,S);return k(c.createElement("span",Object.assign({},I,{ref:s,style:Object.assign(Object.assign({},t),O==null?void 0:O.style),className:_,onClick:J})))}),U=o(98719);const Z=e=>(0,U.Z)(e,(s,l)=>{let{textColor:t,lightBorderColor:n,lightColor:r,darkColor:u}=l;return{[`${e.componentCls}${e.componentCls}-${s}`]:{color:t,background:r,borderColor:n,"&-inverse":{color:e.colorTextLightSolid,background:u,borderColor:u},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}});var K=(0,g.bk)(["Tag","preset"],e=>{const s=a(e);return Z(s)},$);function F(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const y=(e,s,l)=>{const t=F(l);return{[`${e.componentCls}${e.componentCls}-${s}`]:{color:e[`color${l}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var W=(0,g.bk)(["Tag","status"],e=>{const s=a(e);return[y(s,"success","Success"),y(s,"processing","Info"),y(s,"error","Error"),y(s,"warning","Warning")]},$),X=function(e,s){var l={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&s.indexOf(t)<0&&(l[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,t=Object.getOwnPropertySymbols(e);n<t.length;n++)s.indexOf(t[n])<0&&Object.prototype.propertyIsEnumerable.call(e,t[n])&&(l[t[n]]=e[t[n]]);return l};const h=c.forwardRef((e,s)=>{const{prefixCls:l,className:t,rootClassName:n,style:r,children:u,icon:M,color:I,onClose:G,bordered:O=!0,visible:J}=e,z=X(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:k,direction:q,tag:S}=c.useContext(C.E_),[_,Y]=c.useState(!0),ie=(0,x.Z)(z,["closeIcon","closable"]);c.useEffect(()=>{J!==void 0&&Y(J)},[J]);const oe=(0,P.o2)(I),re=(0,P.yT)(I),ee=oe||re,ue=Object.assign(Object.assign({backgroundColor:I&&!ee?I:void 0},S==null?void 0:S.style),r),p=k("tag",l),[de,fe,ge]=m(p),ve=T()(p,S==null?void 0:S.className,{[`${p}-${I}`]:ee,[`${p}-has-color`]:I&&!ee,[`${p}-hidden`]:!_,[`${p}-rtl`]:q==="rtl",[`${p}-borderless`]:!O},t,n,fe,ge),le=Q=>{Q.stopPropagation(),G==null||G(Q),!Q.defaultPrevented&&Y(!1)},[,Ce]=(0,j.Z)((0,j.w)(e),(0,j.w)(S),{closable:!1,closeIconRender:Q=>{const pe=c.createElement("span",{className:`${p}-close-icon`,onClick:le},Q);return(0,R.wm)(Q,pe,D=>({onClick:ce=>{var ne;(ne=D==null?void 0:D.onClick)===null||ne===void 0||ne.call(D,ce),le(ce)},className:T()(D==null?void 0:D.className,`${p}-close-icon`)}))}}),me=typeof z.onClick=="function"||u&&u.type==="a",ae=M||null,he=ae?c.createElement(c.Fragment,null,ae,u&&c.createElement("span",null,u)):u,se=c.createElement("span",Object.assign({},ie,{ref:s,className:ve,style:ue}),he,Ce,oe&&c.createElement(K,{key:"preset",prefixCls:p}),re&&c.createElement(W,{key:"status",prefixCls:p}));return de(me?c.createElement(V.Z,{component:"Tag"},se):se)});h.CheckableTag=B;var L=h}}]);
