!(function(){"use strict";var Se=Object.defineProperty,ge=Object.defineProperties;var xe=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var ne=(m,u,e)=>u in m?Se(m,u,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[u]=e,F=(m,u)=>{for(var e in u||(u={}))oe.call(u,e)&&ne(m,e,u[e]);if(H)for(var e of H(u))ae.call(u,e)&&ne(m,e,u[e]);return m},G=(m,u)=>ge(m,xe(u));var se=(m,u)=>{var e={};for(var a in m)oe.call(m,a)&&u.indexOf(a)<0&&(e[a]=m[a]);if(m!=null&&H)for(var a of H(m))u.indexOf(a)<0&&ae.call(m,a)&&(e[a]=m[a]);return e};(self.webpackChunk=self.webpackChunk||[]).push([[1789],{74715:function(m,u,e){var a=e(37087),E=e(85893);u.Z=function(N){var I=N.model;return(0,E.jsxs)("div",{className:"flex-row-between",children:[(0,E.jsx)("span",{className:"text-caption",children:I.Name||"--"}),(0,E.jsx)("span",{className:"ml-1",children:(0,E.jsx)(a.Z,{model:I})})]})}},37085:function(m,u,e){e.d(u,{Z:function(){return s}});var a=e(27424),E=e.n(a),N=e(67294),I=e(38295),g=e(42838),D=e(38016),P=e(69775),O=e(63070),z=e(68421),R=e(55042),M=e(30967),A=e(70025),$=e(78957),C=e(84367),n=e(85893),j=function(d){var r=d.store,t=d.currentId;if(!r)return null;var c=r.Id==t,o=function(p){return(0,n.jsx)("span",{className:"text-sm font-light text-slate-400",children:p})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"my-2 cursor-pointer overflow-hidden rounded-md border-1 border-gray-100 bg-gray-50 p-2 shadow-sm hover:border-gray-200",onClick:function(){confirm("\u786E\u5B9A\u9009\u62E9[".concat(r.Name,"]\u4F5C\u4E3A\u5F53\u524D\u95E8\u5E97\uFF1F"))&&((0,g.LW)(r.Id||""),window.location.reload())},children:(0,n.jsxs)($.Z,{direction:"vertical",children:[(0,n.jsxs)($.Z,{direction:"horizontal",children:[(0,n.jsx)("h6",{className:"mb-1",children:r.Name}),c&&(0,n.jsx)("span",{className:"text-red-400",children:"\u5F53\u524D\u9009\u62E9"})]}),(0,n.jsxs)($.Z,{direction:"horizontal",split:(0,n.jsx)(C.j,{orientation:"vertical"}),children:[(0,g.Wq)(r.Telephone)||(0,n.jsx)("span",{className:"mb-1 text-sm font-light text-slate-400",children:r.Telephone}),(0,g.Wq)(r.AddressDetail)||(0,n.jsx)("span",{className:"mb-1 text-sm font-light text-slate-400",children:r.AddressDetail})]}),(0,n.jsxs)($.Z,{direction:"horizontal",split:(0,n.jsx)(C.j,{orientation:"vertical"}),children:[r.Opening&&o("\u8425\u4E1A\u4E2D"),r.InvoiceSupported&&o("\u652F\u6301\u5F00\u53D1\u7968"),r.Distance&&r.Distance>0&&o("".concat((r.Distance/1e3).toFixed(2),"km")),r.InServiceArea!=null&&r.InServiceArea&&o("\u5728\u670D\u52A1\u8303\u56F4\u5185")]})]})})})},x=function(d){var r,t=d.show,c=d.close,o=(0,I.o)(),l=(0,z.Z)(M.x1.mall.storeListStores,{manual:!0,onSuccess:function(v,f){(0,g._y)(v,function(){})}}),p=((r=l.data)===null||r===void 0||(r=r.data)===null||r===void 0?void 0:r.Data)||[],y=(0,z.Z)(g.MK,{manual:!0,onSuccess:function(v){console.log("\u5B9A\u4F4D\u7ED3\u679C",v);var f={Lat:v.coords.latitude,Lon:v.coords.longitude};l.run({headers:{"x-location":JSON.stringify(f)}})},onError:function(v){var f;console.log(v),(f=g.iI.message)===null||f===void 0||f.error("\u5B9A\u4F4D\u5931\u8D25\uFF0C\u5C06\u5C55\u793A\u9ED8\u8BA4\u95E8\u5E97"),l.run({})}});(0,N.useEffect)(function(){t&&(alert("\u8BF7\u5141\u8BB8\u6211\u4EEC\u901A\u8FC7\u60A8\u7684\u5B9A\u4F4D\u6765\u83B7\u53D6\u9644\u8FD1\u7684\u95E8\u5E97"),y.run())},[t]);var h=function(){return l.loading||y.loading?(0,n.jsx)(R.Z,{}):(0,g.G5)(p)?(0,n.jsx)("h2",{children:"\u9644\u8FD1\u6CA1\u6709\u53EF\u9009\u95E8\u5E97"}):p==null?void 0:p.map(function(v,f){var S;return(0,n.jsx)("div",{children:(0,n.jsx)(j,{currentId:(S=o.currentStore)===null||S===void 0?void 0:S.Id,store:v})},f)})};return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(A.Z,{open:t,onClose:function(){return c&&c()},title:"\u9644\u8FD1\u95E8\u5E97",children:h()})})},s=function(){var d,r,t=(0,I.o)(),c=(0,z.Z)(t.queryCurrentStore,{manual:!0}),o=(0,z.Z)(t.queryMostNearbyStore,{manual:!0}),l=(0,N.useState)(!1),p=E()(l,2),y=p[0],h=p[1];return(0,N.useEffect)(function(){var i,v;t.currentStore!=null&&(i=t.mostNearbyStore)!==null&&i!==void 0&&i.Id&&t.mostNearbyStore.Id!=((v=t.currentStore)===null||v===void 0?void 0:v.Id)&&(confirm("\u662F\u5426\u5207\u6362\u5230\u9644\u8FD1\u7684\u95E8\u5E97\uFF1A[".concat(t.mostNearbyStore.Id,"]"))?((0,g.LW)(t.mostNearbyStore.Id||""),setTimeout(function(){window.location.reload()},500)):t.mostNearbyStore=void 0)},[t.mostNearbyStore,t.currentStore]),(0,N.useEffect)(function(){c.run(),t.mostNearbyStore==null&&o.run()},[]),(0,N.useEffect)(function(){var i;(i=t.currentStore)!==null&&i!==void 0&&i.Id&&!t.currentStore.Opening&&confirm("\u5F53\u524D\u95E8\u5E97[".concat(t.currentStore.Name||"--","]\u5DF2\u7ECF\u95ED\u5E97\uFF0C\u662F\u5426\u66F4\u6362\u95E8\u5E97"))&&h(!0)},[t.currentStore]),c.loading||o.loading?(0,n.jsx)("span",{children:"..."}):(d=t.currentStore)!==null&&d!==void 0&&d.Id?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,{show:y,close:function(){h(!1)}}),(0,n.jsx)(D.e,{content:"\u9009\u62E9\u95E8\u5E97",showArrow:!0,color:"warning",children:(0,n.jsx)(P.z,{className:"cursor-pointer",size:"sm",variant:"bordered",color:"default",startContent:(0,n.jsx)(O.Z,{stroke:1,size:15}),onClick:function(){h(!0)},children:((r=t.currentStore)===null||r===void 0?void 0:r.Name)||"--"})})]}):(0,n.jsx)("span",{children:"\u65E0\u95E8\u5E97\u4FE1\u606F"})}},78957:function(m,u,e){e.d(u,{Z:function(){return x}});var a=e(67294),E=e(93967),N=e.n(E),I=e(50344);function g(s){return["small","middle","large"].includes(s)}function D(s){return s?typeof s=="number"&&!Number.isNaN(s):!1}var P=e(53124),O=e(4173);const z=a.createContext({latestIndex:0}),R=z.Provider;var A=s=>{let{className:d,index:r,children:t,split:c,style:o}=s;const{latestIndex:l}=a.useContext(z);return t==null?null:a.createElement(a.Fragment,null,a.createElement("div",{className:d,style:o},t),r<l&&c&&a.createElement("span",{className:`${d}-split`},c))},$=e(51916),C=function(s,d){var r={};for(var t in s)Object.prototype.hasOwnProperty.call(s,t)&&d.indexOf(t)<0&&(r[t]=s[t]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,t=Object.getOwnPropertySymbols(s);c<t.length;c++)d.indexOf(t[c])<0&&Object.prototype.propertyIsEnumerable.call(s,t[c])&&(r[t[c]]=s[t[c]]);return r};const j=a.forwardRef((s,d)=>{var r,t,c;const{getPrefixCls:o,space:l,direction:p}=a.useContext(P.E_),{size:y=(r=l==null?void 0:l.size)!==null&&r!==void 0?r:"small",align:h,className:i,rootClassName:v,children:f,direction:S="horizontal",prefixCls:b,split:L,style:T,wrap:k=!1,classNames:K,styles:U}=s,le=C(s,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[B,W]=Array.isArray(y)?y:[y,y],q=g(W),_=g(B),ie=D(W),ce=D(B),ee=(0,I.Z)(f,{keepEmpty:!0}),te=h===void 0&&S==="horizontal"?"center":h,w=o("space",b),[ue,de,ve]=(0,$.Z)(w),me=N()(w,l==null?void 0:l.className,de,`${w}-${S}`,{[`${w}-rtl`]:p==="rtl",[`${w}-align-${te}`]:te,[`${w}-gap-row-${W}`]:q,[`${w}-gap-col-${B}`]:_},i,v,ve),re=N()(`${w}-item`,(t=K==null?void 0:K.item)!==null&&t!==void 0?t:(c=l==null?void 0:l.classNames)===null||c===void 0?void 0:c.item);let X=0;const fe=ee.map((Z,J)=>{var Q,Y;Z!=null&&(X=J);const pe=(Z==null?void 0:Z.key)||`${re}-${J}`;return a.createElement(A,{className:re,key:pe,index:J,split:L,style:(Q=U==null?void 0:U.item)!==null&&Q!==void 0?Q:(Y=l==null?void 0:l.styles)===null||Y===void 0?void 0:Y.item},Z)}),he=a.useMemo(()=>({latestIndex:X}),[X]);if(ee.length===0)return null;const V={};return k&&(V.flexWrap="wrap"),!_&&ce&&(V.columnGap=B),!q&&ie&&(V.rowGap=W),ue(a.createElement("div",Object.assign({ref:d,className:me,style:Object.assign(Object.assign(Object.assign({},V),l==null?void 0:l.style),T)},le),a.createElement(R,{value:he},fe)))});j.Compact=O.ZP;var x=j},81239:function(m,u,e){e.d(u,{o:function(){return $}});var a=e(15607),E=e(55344),N=["data-[top-scroll=true]:[mask-image:linear-gradient(0deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[bottom-scroll=true]:[mask-image:linear-gradient(180deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[top-bottom-scroll=true]:[mask-image:linear-gradient(#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],I=["data-[left-scroll=true]:[mask-image:linear-gradient(270deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[right-scroll=true]:[mask-image:linear-gradient(90deg,#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]","data-[left-right-scroll=true]:[mask-image:linear-gradient(to_right,#000,#000,transparent_0,#000_var(--scroll-shadow-size),#000_calc(100%_-_var(--scroll-shadow-size)),transparent)]"],g=(0,E.tv)({base:[],variants:{orientation:{vertical:["overflow-y-auto",...N],horizontal:["overflow-x-auto",...I]},hideScrollBar:{true:"scrollbar-hide",false:""}},defaultVariants:{orientation:"vertical",hideScrollBar:!1}}),D=e(33295),P=e(49037),O=e(67294);function z(C={}){const{domRef:n,isEnabled:j=!0,overflowCheck:x="vertical",visibility:s="auto",offset:d=0,onVisibilityChange:r,updateDeps:t=[]}=C,c=(0,O.useRef)(s);(0,O.useEffect)(()=>{const o=n==null?void 0:n.current;if(!o||!j)return;const l=(h,i,v,f,S)=>{if(s==="auto"){const b=`${f}${(0,P.kC)(S)}Scroll`;i&&v?(o.dataset[b]="true",o.removeAttribute(`data-${f}-scroll`),o.removeAttribute(`data-${S}-scroll`)):(o.dataset[`${f}Scroll`]=i.toString(),o.dataset[`${S}Scroll`]=v.toString(),o.removeAttribute(`data-${f}-${S}-scroll`))}else{const b=i&&v?"both":i?f:v?S:"none";b!==c.current&&(r==null||r(b),c.current=b)}},p=()=>{const h=[{type:"vertical",prefix:"top",suffix:"bottom"},{type:"horizontal",prefix:"left",suffix:"right"}];for(const{type:i,prefix:v,suffix:f}of h)if(x===i||x==="both"){const S=i==="vertical"?o.scrollTop>d:o.scrollLeft>d,b=i==="vertical"?o.scrollTop+o.clientHeight+d<o.scrollHeight:o.scrollLeft+o.clientWidth+d<o.scrollWidth;l(i,S,b,v,f)}},y=()=>{["top","bottom","top-bottom","left","right","left-right"].forEach(h=>{o.removeAttribute(`data-${h}-scroll`)})};return p(),o.addEventListener("scroll",p),s!=="auto"&&(y(),s==="both"?(o.dataset.topBottomScroll=String(x==="vertical"),o.dataset.leftRightScroll=String(x==="horizontal")):(o.dataset.topBottomScroll="false",o.dataset.leftRightScroll="false",["top","bottom","left","right"].forEach(h=>{o.dataset[`${h}Scroll`]=String(s===h)}))),()=>{o.removeEventListener("scroll",p),y()}},[...t,j,s,x,r,n])}function R(C){var n;const[j,x]=(0,a.oe)(C,g.variantKeys),L=j,{ref:s,as:d,children:r,className:t,style:c,size:o=40,offset:l=0,visibility:p="auto",isEnabled:y=!0,onVisibilityChange:h}=L,i=se(L,["ref","as","children","className","style","size","offset","visibility","isEnabled","onVisibilityChange"]),v=d||"div",f=(0,D.gy)(s);z({domRef:f,offset:l,visibility:p,isEnabled:y,onVisibilityChange:h,updateDeps:[r],overflowCheck:(n=C.orientation)!=null?n:"vertical"});const S=(0,O.useMemo)(()=>g(G(F({},x),{className:t})),[(0,P.Xx)(x),t]);return{Component:v,styles:S,domRef:f,children:r,getBaseProps:(T={})=>{var k;return F(F({ref:f,className:S,"data-orientation":(k=C.orientation)!=null?k:"vertical",style:F(F({"--scroll-shadow-size":`${o}px`},c),T.style)},i),T)}}}var M=e(85893),A=(0,a.Gp)((C,n)=>{const{Component:j,children:x,getBaseProps:s}=R(G(F({},C),{ref:n}));return(0,M.jsx)(j,G(F({},s()),{children:x}))});A.displayName="NextUI.ScrollShadow";var $=A},63070:function(m,u,e){e.d(u,{Z:function(){return E}});var a=e(33733);var E=(0,a.Z)("outline","map-pin","IconMapPin",[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z",key:"svg-1"}]])}}]);
}());