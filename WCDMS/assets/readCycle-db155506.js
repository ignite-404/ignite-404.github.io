import{a as m,o as p,c as $,f as l,w as t,i as s,h as a,F as Z,l as T,k as z,q as F,K as N,b as H,e as y,t as K,p as V,Z as U,E as P,m as q,C as W,_ as Y,u as j}from"./index-882ea7f1.js";import{c as G}from"./index-03d27ae5.js";import{V as L}from"./index-ce17f132.js";/* empty css              */import{n as J,Z as Q}from"./index-4bc4146b.js";/* empty css              *//* empty css              */import{_ as X}from"./readCycleSearch-f1f5d6cb.js";import{_ as h}from"./meterReaderSearch-ca85fff6.js";import{_ as ee}from"./meterSearch-b44b49b8.js";import{U as O,B as I}from"./index-1c0a8a59.js";import{w as le}from"./index-195c8b73.js";import{Z as te}from"./index-813ec4d5.js";import"./index-f977b2da.js";/* empty css              */import"./index2-08895a41.js";import"./index2-8bf884a2.js";const oe={__name:"readCycleFrom",emits:["sureRouter","filterData"],setup(g,{emit:R}){const i=m({field1:!1,field2:"",field3:"",field4:"",field5:"",field6:"",field7:"",field8:"",field9:"",field10:"",field11:"",field12:"",field13:"",virtualRoute:!1}),B=m(null),C=m(null),r=m(null),_=()=>{B.value.layerShow()},x=u=>{i.value.field1=u.field2,i.value.field3=u.field1,i.value.field4=u.field4,i.value.field9="1"},b=u=>{i.value.field8=u.field1},w=u=>{i.value.field2=u.field1,i.value.field11=u.field3,i.value.field12=u.field5};return(u,e)=>{const M=T,c=z,v=F,f=J,k=N,n=O,D=I,E=Q,S=L,A=le;return p(),$(Z,null,[l(A,{model:i.value,size:"sm",ref:"layFormRef",required:"",isLabelTooltip:""},{default:t(()=>[l(S,null,{default:t(()=>[l(E,{border:!0,size:"sm",column:"2"},{default:t(()=>[l(f,null,{label:t(()=>e[6]||(e[6]=[s("span",null,[a("Read Cycle "),s("em",{class:"require-xin"},"*")],-1)])),default:t(()=>[l(v,null,{default:t(()=>[l(c,{placeholder:"",allowClear:"",modelValue:i.value.field4,"onUpdate:modelValue":e[0]||(e[0]=o=>i.value.field4=o)},{append:t(({disabled:o})=>[s("span",{class:"point-cu",onClick:_},[l(M,{type:"layui-icon-search"})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(f,null,{label:t(()=>e[7]||(e[7]=[s("span",null,"Obsolete",-1)])),default:t(()=>[l(v,null,{default:t(()=>[l(k,{placeholder:"Please enter",name:"like",skin:"primary",modelValue:i.value.field1,"onUpdate:modelValue":e[1]||(e[1]=o=>i.value.field1=o)},null,8,["modelValue"])]),_:1})]),_:1}),l(f,null,{label:t(()=>e[8]||(e[8]=[s("span",null,[a("Description "),s("em",{class:"require-xin"},"*")],-1)])),default:t(()=>[l(v,null,{default:t(()=>[l(c,{placeholder:"",allowClear:"",modelValue:i.value.field2,"onUpdate:modelValue":e[2]||(e[2]=o=>i.value.field2=o)},null,8,["modelValue"])]),_:1})]),_:1}),l(f,null,{label:t(()=>e[9]||(e[9]=[a("Description (Chinese) "),s("em",{class:"require-xin"},"*",-1)])),default:t(()=>[l(v,null,{default:t(()=>[l(c,{placeholder:"",allowClear:"",modelValue:i.value.field3,"onUpdate:modelValue":e[3]||(e[3]=o=>i.value.field3=o)},null,8,["modelValue"])]),_:1})]),_:1}),l(f,null,{label:t(()=>e[10]||(e[10]=[a("Bill Cycle "),s("em",{class:"require-xin"},"*",-1)])),default:t(()=>[l(v,null,{default:t(()=>[l(D,{allowClear:"",modelValue:i.value.field5,"onUpdate:modelValue":e[4]||(e[4]=o=>i.value.field5=o)},{default:t(()=>[l(n,{value:"1"},{default:t(()=>e[11]||(e[11]=[a("4 Monthly Bill Cycle 01")])),_:1}),l(n,{value:"2"},{default:t(()=>e[12]||(e[12]=[a("4 Monthly Bill Cycle 02")])),_:1}),l(n,{value:"3"},{default:t(()=>e[13]||(e[13]=[a("4 Monthly Bill Cycle 03")])),_:1}),l(n,{value:"4"},{default:t(()=>e[14]||(e[14]=[a("4 Monthly Bill Cycle 04")])),_:1}),l(n,{value:"5"},{default:t(()=>e[15]||(e[15]=[a("4 Monthly Bill Cycle 05")])),_:1}),l(n,{value:"6"},{default:t(()=>e[16]||(e[16]=[a("4 Monthly Bill Cycle 06")])),_:1}),l(n,{value:"7"},{default:t(()=>e[17]||(e[17]=[a("4 Monthly Bill Cycle 07")])),_:1}),l(n,{value:"8"},{default:t(()=>e[18]||(e[18]=[a("4 Monthly Bill Cycle 08")])),_:1}),l(n,{value:"9"},{default:t(()=>e[19]||(e[19]=[a("4 Monthly Bill Cycle 09")])),_:1}),l(n,{value:"10"},{default:t(()=>e[20]||(e[20]=[a("4 Monthly Bill Cycle 10")])),_:1}),l(n,{value:"11"},{default:t(()=>e[21]||(e[21]=[a("4 Monthly Bill Cycle 11")])),_:1}),l(n,{value:"12"},{default:t(()=>e[22]||(e[22]=[a("4 Monthly Bill Cycle 12")])),_:1}),l(n,{value:"13"},{default:t(()=>e[23]||(e[23]=[a("4 Monthly Bill Cycle 13")])),_:1}),l(n,{value:"14"},{default:t(()=>e[24]||(e[24]=[a("4 Monthly Bill Cycle 14")])),_:1}),l(n,{value:"15"},{default:t(()=>e[25]||(e[25]=[a("4 Monthly Bill Cycle 15")])),_:1}),l(n,{value:"16"},{default:t(()=>e[26]||(e[26]=[a("4 Monthly Bill Cycle 16")])),_:1}),l(n,{value:"17"},{default:t(()=>e[27]||(e[27]=[a("4 Monthly Bill Cycle 17")])),_:1}),l(n,{value:"18"},{default:t(()=>e[28]||(e[28]=[a("4 Monthly Bill Cycle 18")])),_:1}),l(n,{value:"19"},{default:t(()=>e[29]||(e[29]=[a("4 Monthly Bill Cycle 19")])),_:1}),l(n,{value:"20"},{default:t(()=>e[30]||(e[30]=[a("4 Monthly Bill Cycle 20")])),_:1}),l(n,{value:"21"},{default:t(()=>e[31]||(e[31]=[a("4 Monthly Bill Cycle 21")])),_:1}),l(n,{value:"22"},{default:t(()=>e[32]||(e[32]=[a("4 Monthly Bill Cycle 22")])),_:1}),l(n,{value:"23"},{default:t(()=>e[33]||(e[33]=[a("4 Monthly Bill Cycle 23")])),_:1}),l(n,{value:"24"},{default:t(()=>e[34]||(e[34]=[a("4 Monthly Bill Cycle 24")])),_:1}),l(n,{value:"25"},{default:t(()=>e[35]||(e[35]=[a("Monthly Bill Cycle 90")])),_:1}),l(n,{value:"26"},{default:t(()=>e[36]||(e[36]=[a("ANEWS CONVERTED BILLS")])),_:1}),l(n,{value:"27"},{default:t(()=>e[37]||(e[37]=[a("DUMMY CONVERTED BILLS")])),_:1}),l(n,{value:"28"},{default:t(()=>e[38]||(e[38]=[a("TES CONVERTED BILLS")])),_:1}),l(n,{value:"29"},{default:t(()=>e[39]||(e[39]=[a("WS CONVERTED BILLS")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(f,null,{label:t(()=>e[40]||(e[40]=[s("span",null,"Virtual Route",-1)])),default:t(()=>[l(v,null,{default:t(()=>[l(k,{skin:"primary",modelValue:i.value.virtualRoute,"onUpdate:modelValue":e[5]||(e[5]=o=>i.value.virtualRoute=o)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),l(X,{ref_key:"searchRef",ref:B,onSureData:x},null,512),l(h,{ref_key:"searchRef1",ref:C,onSureData:b},null,512),l(ee,{ref_key:"searchRef2",ref:r,onSureData:w},null,512)],64)}}},ae={class:"circle-btn"},ne={key:1},ie={__name:"readerRoute",props:{dataArr:{type:Array,default:()=>[]}},emits:["setData"],setup(g,{emit:R}){let i=g,B=R;H(()=>{r.value.total=i.dataArr.length});const C=m(!1),r=m({total:0,limit:10,current:2,layout:["page","limits","prev","next","count"]}),_=[{title:"Read Route",width:"200px",key:"name",sort:"ascending",customSlot:"name"},{title:"Description",key:"description",width:"200px",customSlot:"description"},{title:"Description (Chinese)",key:"weight",width:"260px",customSlot:"weight"},{title:"Meter Read RouteType",key:"remark",ellipsisTooltip:!0,width:"200px",customSlot:"remark"},{title:"Virtual Route",key:"virtualRoute",width:"120px",customSlot:"virtualRoute"},{title:"Obsolete",key:"processing",width:"120px",customSlot:"processing"},{title:"handles",width:"180px",key:"operate",fixed:"right",customSlot:"operate"}],x=u=>{u.isEdit=!0},b=u=>{let e=i.dataArr;U.confirm("Are you sure to delete this data?",{title:"tips",icon:3,btn:[{text:"confirm",callback:()=>{e.forEach((M,c)=>{M.id===u.id&&(e.splice(c,1),r.value.total--)}),U.closeAll()}},{text:"cancel",callback:()=>{U.closeAll()}}]})},w=()=>{let u=i.dataArr;u.push({id:(u.length+1).toString(),name:"",description:"",weight:"",remark:"",isEdit:!0}),B("setData",u),r.value.total++};return(u,e)=>{const M=T,c=P,v=q,f=z,k=O,n=I,D=N,E=W,S=te,A=L;return p(),y(A,{title:"Meter Read Route List",style:{"margin-top":"10px"}},{extra:t(()=>[l(v,null,{default:t(()=>[l(c,{position:"top",content:"export","is-dark":""},{default:t(()=>[s("div",ae,[l(M,{type:"layui-icon-export"})])]),_:1}),l(c,{position:"top",content:"create","is-dark":""},{default:t(()=>[s("div",{onClick:w,class:"circle-btn"},[l(M,{type:"layui-icon-addition"})])]),_:1})]),_:1})]),default:t(()=>[l(S,{columns:_,"data-source":g.dataArr,page:r.value,resize:""},{name:t(({data:o})=>[o.isEdit?(p(),y(f,{key:0,placeholder:"",disabled:C.value,modelValue:o.name,"onUpdate:modelValue":d=>o.name=d,allowClear:"",size:"sm"},null,8,["disabled","modelValue","onUpdate:modelValue"])):(p(),$("span",ne,K(o.name),1))]),description:t(({data:o})=>[o.isEdit?(p(),y(f,{key:0,placeholder:"",modelValue:o.description,"onUpdate:modelValue":d=>o.description=d,allowClear:"",size:"sm"},null,8,["modelValue","onUpdate:modelValue"])):V("",!0)]),weight:t(({data:o})=>[o.isEdit?(p(),y(f,{key:0,placeholder:"",modelValue:o.weight,"onUpdate:modelValue":d=>o.weight=d,allowClear:"",size:"sm"},null,8,["modelValue","onUpdate:modelValue"])):V("",!0)]),remark:t(({data:o})=>[o.isEdit?(p(),y(n,{key:0,modelValue:o.remark,"onUpdate:modelValue":d=>o.remark=d,size:"sm","show-search":!0,"allow-clear":!0,style:{width:"100%"}},{default:t(()=>[l(k,{value:"1",label:"CHECKMTR - Route for check meters"}),l(k,{value:"2",label:"AMRMTR - Route for AMR meters"}),l(k,{value:"3",label:"PDA-Route read by PDA device"}),l(k,{value:"4",label:"PORTABLE-Route for portable meters"})]),_:2},1032,["modelValue","onUpdate:modelValue"])):V("",!0)]),virtualRoute:t(({data:o})=>[o.isEdit?(p(),y(D,{key:0,skin:"primary",modelValue:o.virtualRoute,"onUpdate:modelValue":d=>o.virtualRoute=d},null,8,["modelValue","onUpdate:modelValue"])):V("",!0)]),processing:t(({data:o})=>[o.isEdit?(p(),y(D,{key:0,name:"like",skin:"primary",modelValue:o.remove,"onUpdate:modelValue":d=>o.remove=d},null,8,["modelValue","onUpdate:modelValue"])):V("",!0)]),operate:t(({data:o})=>[o.isEdit?V("",!0):(p(),y(E,{key:0,type:"primary",size:"xs",onClick:d=>x(o)},{default:t(()=>e[0]||(e[0]=[a(" Edit ")])),_:2},1032,["onClick"])),o.isEdit?(p(),y(E,{key:1,type:"danger",size:"xs",onClick:d=>b(o)},{default:t(()=>e[1]||(e[1]=[a(" delete ")])),_:2},1032,["onClick"])):V("",!0)]),_:1},8,["data-source","page"])]),_:1})}}};const ue={class:"top-use-box"},se={class:"top-use-fun"},re={class:"results-list"},de={__name:"readCycle",setup(g){const R=m([]),i=C=>{R.value=C},B=C=>{R.value=[{id:5956,name:"A00010",description:"就魚避村 將軍渎",weight:"鱿魚灣村 将軍澳",remark:"PDA",processing:"Download Reads",exception:"Pending",isEdit:!1},{id:5956,name:"A02712",description:"彩頤花園 3&9座",weight:"彩頤花園3&9座",remark:"PDA",processing:"Download Reads",exception:"Pending",isEdit:!1}]};return j(),m(""),m("1"),m({}),m({total:1,limit:10,current:2,layout:["page","limits","prev","next","count"]}),m(["export"]),(C,r)=>{const _=P,x=T,b=q,w=L,u=G;return p(),y(u,{fluid:!0,class:"common-container"},{default:t(()=>[l(w,{class:"top-use-card"},{default:t(()=>[s("div",ue,[r[2]||(r[2]=s("h1",{class:"top-use-title"},"Meter Read Cycle",-1)),s("div",se,[l(b,{size:"md"},{default:t(()=>[l(_,{position:"top",content:"save","is-dark":""},{default:t(()=>r[0]||(r[0]=[s("span",{class:"iconfont icon-baocun"},null,-1)])),_:1}),l(_,{position:"top",content:"delete","is-dark":""},{default:t(()=>r[1]||(r[1]=[s("span",{class:"iconfont icon-rubber"},null,-1)])),_:1}),l(_,{position:"top",content:"refresh","is-dark":""},{default:t(()=>[s("span",null,[l(x,{type:"layui-icon-refresh"})])]),_:1}),l(_,{position:"top",content:"create","is-dark":""},{default:t(()=>[s("span",null,[l(x,{type:"layui-icon-addition"})])]),_:1})]),_:1})])])]),_:1}),s("div",re,[l(oe,{onSureRouter:B}),l(ie,{dataArr:R.value,onSetData:i},null,8,["dataArr"])])]),_:1})}}},De=Y(de,[["__scopeId","data-v-a693e249"]]);export{De as default};
