import{a as d,o as u,c as U,f as t,w as e,i as n,h as g,F,Z as w,l as $,k as N,q as L,n as Z,C as P,b as q,e as k,t as z,p as M,E as T,m as B,K as H,_ as G,u as I}from"./index-5ba83812.js";import{c as W}from"./index-f7d389ff.js";import{V as Y}from"./index-70d2da72.js";/* empty css              */import{n as K,Z as j}from"./index-08f7b130.js";/* empty css              */import{_ as J}from"./readScheduleSearch-1bb01007.js";import{w as O}from"./index-2b452765.js";import{Z as Q}from"./index-a25747be.js";/* empty css              *//* empty css              */import{U as X,B as ee}from"./index-e1c7a2f1.js";import"./index-9c118bc9.js";import"./index2-75365c6f.js";import"./index2-ab9f2a8e.js";const te={class:"search-btn-box"},le={__name:"maintenanceInformation",emits:["sureRouter","filterData"],setup(D,{emit:c}){const y=c,a=d({field1:"",field2:"",field3:"",field4:"",field5:!1,field6:"",field7:"",field8:"",field9:"",field10:"",field11:"",field12:"",field13:""}),m=d(null);d(null),d(null);const p=()=>{m.value.layerShow()},s=r=>{a.value.field1=r.field2,a.value.field3=r.field1,a.value.field4=r.field4,a.value.field9="1"},_=()=>{w.confirm("Make sure you want to perform the Pre-Generate Routeoperation. Press No to abort",{title:"Warning",icon:3,btn:[{text:"Yes",callback:()=>{y("sureRouter"),w.closeAll()}},{text:"No",callback:()=>{w.closeAll()}}]})},v=()=>{w.confirm("Meter Read Schedule Route List will be deleted. Press No toabort",{title:"Warning",icon:3,btn:[{text:"Yes",callback:()=>{w.closeAll()}},{text:"No",callback:()=>{w.closeAll()}}]})},i=()=>{y("filterData",a.value.field1)};return(r,o)=>{const h=$,V=N,b=L,x=K,C=Z,S=j,R=P,A=Y,E=O;return u(),U(F,null,[t(E,{model:a.value,size:"sm",ref:"layFormRef",required:"",isLabelTooltip:""},{default:e(()=>[t(A,null,{default:e(()=>[t(S,{border:!0,size:"sm",column:"2"},{default:e(()=>[t(x,null,{label:e(()=>o[4]||(o[4]=[n("span",null,"Read Cycle",-1)])),default:e(()=>[t(b,null,{default:e(()=>[t(V,{placeholder:"",allowClear:"",modelValue:a.value.field4,"onUpdate:modelValue":o[0]||(o[0]=l=>a.value.field4=l)},{append:e(({disabled:l})=>[n("span",{class:"point-cu",onClick:p},[t(h,{type:"layui-icon-search"})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),t(x,null,{label:e(()=>o[5]||(o[5]=[n("span",null,"Scheduled Selection Date",-1)])),default:e(()=>[t(b,null,{default:e(()=>[t(C,{style:{width:"100%"},placeholder:"",modelValue:a.value.field3,"onUpdate:modelValue":o[1]||(o[1]=l=>a.value.field3=l),format:"YYYY/MM/DD",allowClear:""},null,8,["modelValue"])]),_:1})]),_:1}),t(x,null,{label:e(()=>o[6]||(o[6]=[n("span",null,"Scheduled Read Date",-1)])),default:e(()=>[t(b,null,{default:e(()=>[t(C,{style:{width:"100%"},placeholder:"",modelValue:a.value.field4,"onUpdate:modelValue":o[2]||(o[2]=l=>a.value.field4=l),format:"YYYY/MM/DD",allowClear:""},null,8,["modelValue"])]),_:1})]),_:1}),t(x,null,{label:e(()=>o[7]||(o[7]=[g("Meter Read Route")])),default:e(()=>[t(b,null,{default:e(()=>[t(V,{placeholder:"",allowClear:"",modelValue:a.value.field1,"onUpdate:modelValue":o[3]||(o[3]=l=>a.value.field1=l)},{append:e(({disabled:l})=>[n("span",{class:"point-cu",onClick:i},"Filter")]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),n("div",te,[t(R,{type:"primary",onClick:_},{default:e(()=>o[8]||(o[8]=[g("Pre-Generate Router")])),_:1}),t(R,{onClick:v,type:"primary"},{default:e(()=>o[9]||(o[9]=[g("Delete Routers")])),_:1})])]),_:1})]),_:1},8,["model"]),t(J,{ref_key:"searchRef",ref:m,onSureData:s},null,512)],64)}}},oe={class:"circle-btn"},ae={class:"point-cu"},ne={key:1},se={key:1},ie={__name:"readerRoute",props:{dataArr:{type:Array,default:()=>[]}},emits:["setData"],setup(D,{emit:c}){let y=D,a=c;q(()=>{m.value.total=y.dataArr.length});const m=d({total:0,limit:10,current:2,layout:["page","limits","prev","next","count"]}),p=[{title:"Read Route",width:"200px",key:"name",sort:"ascending",customSlot:"name"},{title:"Description",key:"description",width:"200px"},{title:"Description (Chinese)",key:"weight",width:"260px"},{title:"Meter Read RouteType",key:"remark",ellipsisTooltip:!0,width:"120px"},{title:"Schedule Type",key:"processing",width:"200px",customSlot:"processing"},{title:"Schedule Status",key:"exception",ellipsisTooltip:!0,width:"120px"},{title:"Remove",key:"remove",ellipsisTooltip:!0,customSlot:"remove",width:"100px"},{title:"handles",width:"180px",key:"operate",fixed:"right",customSlot:"operate",ellipsisTooltip:!0}],s=i=>{i.isEdit=!0},_=i=>{},v=()=>{let i=y.dataArr;i.push({id:(i.length+1).toString(),name:"",description:"",weight:"",remark:"",isEdit:!0}),a("setData",i),m.value.total++};return(i,r)=>{const o=$,h=T,V=B,b=N,x=X,C=ee,S=H,R=P,A=Q,E=Y;return u(),k(E,{title:"Read Route List"},{extra:e(()=>[t(V,null,{default:e(()=>[t(h,{position:"top",content:"export","is-dark":""},{default:e(()=>[n("div",oe,[t(o,{type:"layui-icon-export"})])]),_:1}),t(h,{position:"top",content:"create","is-dark":""},{default:e(()=>[n("div",{onClick:v,class:"circle-btn"},[t(o,{type:"layui-icon-addition"})])]),_:1})]),_:1})]),default:e(()=>[t(A,{columns:p,"data-source":D.dataArr,page:m.value,resize:""},{name:e(({data:l})=>[l.isEdit?(u(),k(b,{key:0,placeholder:"",modelValue:l.name,"onUpdate:modelValue":f=>l.name=f,allowClear:"",size:"sm"},{append:e(({disabled:f})=>[n("span",ae,[t(o,{type:"layui-icon-search"})])]),_:2},1032,["modelValue","onUpdate:modelValue"])):(u(),U("span",ne,z(l.name),1))]),processing:e(({data:l})=>[l.isEdit?(u(),k(C,{key:0,modelValue:l.processing,"onUpdate:modelValue":f=>l.processing=f,size:"sm","show-search":!0,"allow-clear":!0},{default:e(()=>[t(x,{value:"Download Reads",label:"Download Reads"})]),_:2},1032,["modelValue","onUpdate:modelValue"])):(u(),U("span",se,z(l.processing),1))]),remove:e(({data:l})=>[l.isEdit?(u(),k(S,{key:0,name:"like",skin:"primary",modelValue:l.remove,"onUpdate:modelValue":f=>l.remove=f},null,8,["modelValue","onUpdate:modelValue"])):M("",!0)]),operate:e(({data:l})=>[l.isEdit?M("",!0):(u(),k(R,{key:0,type:"primary",size:"xs",onClick:f=>s(l)},{default:e(()=>r[0]||(r[0]=[g(" Edit ")])),_:2},1032,["onClick"])),l.isEdit?(u(),k(R,{key:1,type:"primary",size:"xs",onClick:f=>_(l)},{default:e(()=>r[1]||(r[1]=[g(" refresh ")])),_:2},1032,["onClick"])):M("",!0)]),_:1},8,["data-source","page"])]),_:1})}}};const re={class:"top-use-box"},de={class:"top-use-fun"},ue={class:"results-list"},ce={__name:"maintenance",setup(D){const c=d([]),y=p=>{c.value=p},a=p=>{c.value=[{id:5956,name:"A00010",description:"就魚避村 將軍渎",weight:"鱿魚灣村 将軍澳",remark:"PDA",processing:"Download Reads",exception:"Pending",isEdit:!1},{id:5956,name:"A02712",description:"彩頤花園 3&9座",weight:"彩頤花園3&9座",remark:"PDA",processing:"Download Reads",exception:"Pending",isEdit:!1}]},m=p=>{c.value=c.value.filter(s=>s.name.toLowerCase()===p.toLowerCase())};return I(),d(""),d("1"),d({}),d({total:1,limit:10,current:2,layout:["page","limits","prev","next","count"]}),d(["export"]),(p,s)=>{const _=T,v=$,i=B,r=Y,o=W;return u(),k(o,{fluid:!0,class:"common-container"},{default:e(()=>[t(r,{class:"top-use-card"},{default:e(()=>[n("div",re,[s[2]||(s[2]=n("h1",{class:"top-use-title"},"Meter Read Schedule Maintenance",-1)),n("div",de,[t(i,{size:"md"},{default:e(()=>[t(_,{position:"top",content:"save","is-dark":""},{default:e(()=>s[0]||(s[0]=[n("span",{class:"iconfont icon-baocun"},null,-1)])),_:1}),t(_,{position:"top",content:"delete","is-dark":""},{default:e(()=>s[1]||(s[1]=[n("span",{class:"iconfont icon-rubber"},null,-1)])),_:1}),t(_,{position:"top",content:"refresh","is-dark":""},{default:e(()=>[n("span",null,[t(v,{type:"layui-icon-refresh"})])]),_:1}),t(_,{position:"top",content:"create","is-dark":""},{default:e(()=>[n("span",null,[t(v,{type:"layui-icon-addition"})])]),_:1})]),_:1})])])]),_:1}),n("div",ue,[t(le,{onSureRouter:a,onFilterData:m}),t(ie,{dataArr:c.value,onSetData:y},null,8,["dataArr"])])]),_:1})}}},Ce=G(ce,[["__scopeId","data-v-9bc35590"]]);export{Ce as default};
