import{A as _,d as D,a as c,ar as T,D as s,J as j,ak as A,T as u,o as d,c as m,i as I,P as J,N as O,f as E,I as F,X as G,p as v,t as K}from"./index-5ba83812.js";const L={class:"layui-textarea-wrapper"},P=["rows","cols","value","placeholder","name","disabled","maxlength"],R={key:0,class:"layui-textarea-clear"},W={key:1,class:"layui-texterea-count"},$=_(D({name:"LayTextarea",__name:"index",props:{modelValue:{},name:{},placeholder:{},disabled:{type:Boolean},showCount:{type:Boolean},allowClear:{type:Boolean},cols:{},rows:{},maxlength:{},autosize:{type:[Boolean,Object]}},emits:["blur","input","update:modelValue","change","focus","clear"],setup(h,{expose:x,emit:g}){const a=h,t=g,o=c(null),r=c(!1),y=T(),i=c("auto"),f=s(()=>({width:a.cols?"":"100%",height:a.rows?"":i.value,minHeight:a.rows?"":"100px"})),w=s(()=>Object.assign(f.value,y.style)),p=function(e){const l=e.target;r.value||(t("update:modelValue",l.value),u(()=>{t("input",l.value)}))},b=function(e){t("focus",e)},C=function(e){t("blur",e)},V=e=>{const l=e.target;t("change",l.value)},k=function(){t("update:modelValue",""),t("clear")},B=()=>{r.value=!0},z=e=>{r.value=!1,p(e)},H=s(()=>{var e;return((e=a.modelValue)==null?void 0:e.length)>0}),N=s(()=>{var e;let l=String(((e=a.modelValue)==null?void 0:e.length)??0);return a.maxlength&&(l+="/"+a.maxlength),l});return j([()=>a.modelValue,o],()=>{var e;if(!o.value||!a.autosize)return;const l=((e=o.value)==null?void 0:e.scrollHeight)+2;if(A(a.autosize)){const{minHeight:n,maxHeight:S}=a.autosize;if(l<n||l>S)return}i.value="1px",u(()=>{var n;i.value=`${((n=o.value)==null?void 0:n.scrollHeight)+2}px`})},{immediate:!0}),x({focus:()=>{u(()=>{var e;(e=o.value)==null||e.focus()})},blur:()=>{u(()=>{var e;(e=o.value)==null||e.blur()})}}),(e,l)=>(d(),m("div",L,[I("textarea",{ref_key:"textareaRef",ref:o,class:J(["layui-textarea",{"layui-textarea-disabled":e.disabled}]),rows:e.rows,cols:e.cols,value:e.modelValue,placeholder:e.placeholder,name:e.name,disabled:e.disabled,maxlength:e.maxlength,style:O(w.value),onCompositionstart:B,onCompositionend:z,onInput:p,onFocus:b,onChange:V,onBlur:C},null,46,P),e.allowClear&&H.value?(d(),m("span",R,[E(F(G),{type:"layui-icon-close-fill",onClick:k})])):v("",!0),e.showCount?(d(),m("div",W,K(N.value),1)):v("",!0)]))}}));export{$ as W};
