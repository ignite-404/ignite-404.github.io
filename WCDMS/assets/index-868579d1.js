import{A as D,d as N,a as c,at as O,D as n,J as j,am as A,V as u,o as d,c as m,i as J,S as T,P as $,f as E,O as F,$ as G,p as v,t as I}from"./index-99541687.js";const K={class:"layui-textarea-wrapper"},L=["rows","cols","value","placeholder","name","disabled","maxlength"],P={key:0,class:"layui-textarea-clear"},R={key:1,class:"layui-texterea-count"},q=D(N({name:"LayTextarea",__name:"index",props:{modelValue:{},name:{},placeholder:{},disabled:{type:Boolean},showCount:{type:Boolean},allowClear:{type:Boolean},cols:{},rows:{},maxlength:{},autosize:{type:[Boolean,Object]}},emits:["blur","input","update:modelValue","change","focus","clear"],setup(h,{expose:x,emit:g}){const a=h,t=g,o=c(null),r=c(!1),y=O(),i=c("auto"),f=n(()=>({width:a.cols?"":"100%",height:a.rows?"":i.value,minHeight:a.rows?"":"100px"})),w=n(()=>Object.assign(f.value,y.style)),p=function(e){const l=e.target;r.value||(t("update:modelValue",l.value),u(()=>{t("input",l.value)}))},b=function(e){t("focus",e)},V=function(e){t("blur",e)},C=e=>{const l=e.target;t("change",l.value)},B=function(){t("update:modelValue",""),t("clear")},k=()=>{r.value=!0},z=e=>{r.value=!1,p(e)},H=n(()=>{var e;return((e=a.modelValue)==null?void 0:e.length)>0}),S=n(()=>{var e;let l=String(((e=a.modelValue)==null?void 0:e.length)??0);return a.maxlength&&(l+="/"+a.maxlength),l});return j([()=>a.modelValue,o],()=>{var e;if(!o.value||!a.autosize)return;const l=((e=o.value)==null?void 0:e.scrollHeight)+2;if(A(a.autosize)){const{minHeight:s,maxHeight:_}=a.autosize;if(l<s||l>_)return}i.value="1px",u(()=>{var s;i.value=`${((s=o.value)==null?void 0:s.scrollHeight)+2}px`})},{immediate:!0}),x({focus:()=>{u(()=>{var e;(e=o.value)==null||e.focus()})},blur:()=>{u(()=>{var e;(e=o.value)==null||e.blur()})}}),(e,l)=>(d(),m("div",K,[J("textarea",{ref_key:"textareaRef",ref:o,class:T(["layui-textarea",{"layui-textarea-disabled":e.disabled}]),rows:e.rows,cols:e.cols,value:e.modelValue,placeholder:e.placeholder,name:e.name,disabled:e.disabled,maxlength:e.maxlength,style:$(w.value),onCompositionstart:k,onCompositionend:z,onInput:p,onFocus:b,onChange:C,onBlur:V},null,46,L),e.allowClear&&H.value?(d(),m("span",P,[E(F(G),{type:"layui-icon-close-fill",onClick:B})])):v("",!0),e.showCount?(d(),m("div",R,I(S.value),1)):v("",!0)]))}}));export{q as W};
