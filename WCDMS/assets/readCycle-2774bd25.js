import{a as f,o as p,c as L,f as l,w as t,i as r,h as o,F as I,l as U,k as $,q as Z,K as z,b as F,e as v,t as H,p as k,Z as A,E as N,m as P,C as K,_ as W,u as Y}from"./index-a9e193d8.js";import{c as j}from"./index-a3ff275a.js";import{V as T}from"./index-362eaca0.js";/* empty css              */import{n as G,Z as J}from"./index-4df89be4.js";/* empty css              *//* empty css              */import{_ as Q}from"./readCycleSearch-692ef77d.js";import{_ as X}from"./meterReaderSearch-19096e83.js";import{_ as h}from"./meterSearch-4f0cc28d.js";import{U as q,B as O}from"./index-5bfab842.js";import{w as ee}from"./index-31dd4159.js";import{Z as le}from"./index-5c44996e.js";import"./index-5c87c2db.js";/* empty css              */import"./index2-db67ae5b.js";import"./index2-db5e8257.js";const te={__name:"readCycleFrom",emits:["sureRouter","filterData"],setup(w,{emit:V}){const i=f({field1:!1,field2:"",field3:"",field4:"",field5:"",field6:"",field7:"",field8:"",field9:"",field10:"",field11:"",field12:"",field13:"",virtualRoute:!1}),R=f(null),y=f(null),_=f(null),C=()=>{R.value.layerShow()},B=s=>{i.value.field1=s.field2,i.value.field3=s.field1,i.value.field4=s.field4,i.value.field9="1"},M=s=>{i.value.field8=s.field1},d=s=>{i.value.field2=s.field1,i.value.field11=s.field3,i.value.field12=s.field5};return(s,e)=>{const x=U,b=$,c=Z,m=G,g=z,a=q,D=O,E=J,S=T,n=ee;return p(),L(I,null,[l(n,{model:i.value,size:"sm",ref:"layFormRef",required:"",isLabelTooltip:""},{default:t(()=>[l(S,null,{default:t(()=>[l(E,{border:!0,size:"sm",column:"2"},{default:t(()=>[l(m,null,{label:t(()=>e[6]||(e[6]=[r("span",null,[o("Read Cycle "),r("em",{class:"require-xin"},"*")],-1)])),default:t(()=>[l(c,null,{default:t(()=>[l(b,{placeholder:"",allowClear:"",modelValue:i.value.field4,"onUpdate:modelValue":e[0]||(e[0]=u=>i.value.field4=u)},{append:t(({disabled:u})=>[r("span",{class:"point-cu",onClick:C},[l(x,{type:"layui-icon-search"})])]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(m,null,{label:t(()=>e[7]||(e[7]=[r("span",null,"Obsolete",-1)])),default:t(()=>[l(c,null,{default:t(()=>[l(g,{placeholder:"Please enter",name:"like",skin:"primary",modelValue:i.value.field1,"onUpdate:modelValue":e[1]||(e[1]=u=>i.value.field1=u)},null,8,["modelValue"])]),_:1})]),_:1}),l(m,null,{label:t(()=>e[8]||(e[8]=[r("span",null,[o("Description "),r("em",{class:"require-xin"},"*")],-1)])),default:t(()=>[l(c,null,{default:t(()=>[l(b,{placeholder:"",allowClear:"",modelValue:i.value.field2,"onUpdate:modelValue":e[2]||(e[2]=u=>i.value.field2=u)},null,8,["modelValue"])]),_:1})]),_:1}),l(m,null,{label:t(()=>e[9]||(e[9]=[o("Description (Chinese) "),r("em",{class:"require-xin"},"*",-1)])),default:t(()=>[l(c,null,{default:t(()=>[l(b,{placeholder:"",allowClear:"",modelValue:i.value.field3,"onUpdate:modelValue":e[3]||(e[3]=u=>i.value.field3=u)},null,8,["modelValue"])]),_:1})]),_:1}),l(m,null,{label:t(()=>e[10]||(e[10]=[o("Bill Cycle "),r("em",{class:"require-xin"},"*",-1)])),default:t(()=>[l(c,null,{default:t(()=>[l(D,{allowClear:"",modelValue:i.value.field5,"onUpdate:modelValue":e[4]||(e[4]=u=>i.value.field5=u)},{default:t(()=>[l(a,{value:"1"},{default:t(()=>e[11]||(e[11]=[o("4 Monthly Bill Cycle 01")])),_:1}),l(a,{value:"2"},{default:t(()=>e[12]||(e[12]=[o("4 Monthly Bill Cycle 02")])),_:1}),l(a,{value:"3"},{default:t(()=>e[13]||(e[13]=[o("4 Monthly Bill Cycle 03")])),_:1}),l(a,{value:"4"},{default:t(()=>e[14]||(e[14]=[o("4 Monthly Bill Cycle 04")])),_:1}),l(a,{value:"5"},{default:t(()=>e[15]||(e[15]=[o("4 Monthly Bill Cycle 05")])),_:1}),l(a,{value:"6"},{default:t(()=>e[16]||(e[16]=[o("4 Monthly Bill Cycle 06")])),_:1}),l(a,{value:"7"},{default:t(()=>e[17]||(e[17]=[o("4 Monthly Bill Cycle 07")])),_:1}),l(a,{value:"8"},{default:t(()=>e[18]||(e[18]=[o("4 Monthly Bill Cycle 08")])),_:1}),l(a,{value:"9"},{default:t(()=>e[19]||(e[19]=[o("4 Monthly Bill Cycle 09")])),_:1}),l(a,{value:"10"},{default:t(()=>e[20]||(e[20]=[o("4 Monthly Bill Cycle 10")])),_:1}),l(a,{value:"11"},{default:t(()=>e[21]||(e[21]=[o("4 Monthly Bill Cycle 11")])),_:1}),l(a,{value:"12"},{default:t(()=>e[22]||(e[22]=[o("4 Monthly Bill Cycle 12")])),_:1}),l(a,{value:"13"},{default:t(()=>e[23]||(e[23]=[o("4 Monthly Bill Cycle 13")])),_:1}),l(a,{value:"14"},{default:t(()=>e[24]||(e[24]=[o("4 Monthly Bill Cycle 14")])),_:1}),l(a,{value:"15"},{default:t(()=>e[25]||(e[25]=[o("4 Monthly Bill Cycle 15")])),_:1}),l(a,{value:"16"},{default:t(()=>e[26]||(e[26]=[o("4 Monthly Bill Cycle 16")])),_:1}),l(a,{value:"17"},{default:t(()=>e[27]||(e[27]=[o("4 Monthly Bill Cycle 17")])),_:1}),l(a,{value:"18"},{default:t(()=>e[28]||(e[28]=[o("4 Monthly Bill Cycle 18")])),_:1}),l(a,{value:"19"},{default:t(()=>e[29]||(e[29]=[o("4 Monthly Bill Cycle 19")])),_:1}),l(a,{value:"20"},{default:t(()=>e[30]||(e[30]=[o("4 Monthly Bill Cycle 20")])),_:1}),l(a,{value:"21"},{default:t(()=>e[31]||(e[31]=[o("4 Monthly Bill Cycle 21")])),_:1}),l(a,{value:"22"},{default:t(()=>e[32]||(e[32]=[o("4 Monthly Bill Cycle 22")])),_:1}),l(a,{value:"23"},{default:t(()=>e[33]||(e[33]=[o("4 Monthly Bill Cycle 23")])),_:1}),l(a,{value:"24"},{default:t(()=>e[34]||(e[34]=[o("4 Monthly Bill Cycle 24")])),_:1}),l(a,{value:"25"},{default:t(()=>e[35]||(e[35]=[o("Monthly Bill Cycle 90")])),_:1}),l(a,{value:"26"},{default:t(()=>e[36]||(e[36]=[o("ANEWS CONVERTED BILLS")])),_:1}),l(a,{value:"27"},{default:t(()=>e[37]||(e[37]=[o("DUMMY CONVERTED BILLS")])),_:1}),l(a,{value:"28"},{default:t(()=>e[38]||(e[38]=[o("TES CONVERTED BILLS")])),_:1}),l(a,{value:"29"},{default:t(()=>e[39]||(e[39]=[o("WS CONVERTED BILLS")])),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(m,null,{label:t(()=>e[40]||(e[40]=[r("span",null,"Virtual Route",-1)])),default:t(()=>[l(c,null,{default:t(()=>[l(g,{skin:"primary",modelValue:i.value.virtualRoute,"onUpdate:modelValue":e[5]||(e[5]=u=>i.value.virtualRoute=u)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"]),l(Q,{ref_key:"searchRef",ref:R,onSureData:B},null,512),l(X,{ref_key:"searchRef1",ref:y,onSureData:M},null,512),l(h,{ref_key:"searchRef2",ref:_,onSureData:d},null,512)],64)}}},oe={class:"circle-btn"},ae={key:1},ne={__name:"readerRoute",props:{dataArr:{type:Array,default:()=>[]}},emits:["setData"],setup(w,{emit:V}){let i=w,R=V;F(()=>{y.value.total=i.dataArr.length});const y=f({total:0,limit:10,current:2,layout:["page","limits","prev","next","count"]}),_=[{title:"Read Route",width:"200px",key:"name",sort:"ascending",customSlot:"name"},{title:"Description",key:"description",width:"200px",customSlot:"description"},{title:"Description (Chinese)",key:"weight",width:"260px",customSlot:"weight"},{title:"Meter Read RouteType",key:"remark",ellipsisTooltip:!0,width:"200px",customSlot:"remark"},{title:"Virtual Route",key:"virtualRoute",width:"120px",customSlot:"virtualRoute"},{title:"Obsolete",key:"processing",width:"120px",customSlot:"processing"},{title:"handles",width:"180px",key:"operate",fixed:"right",customSlot:"operate"}],C=d=>{d.isEdit=!0},B=d=>{let s=i.dataArr;A.confirm("Are you sure to delete this data?",{title:"tips",icon:3,btn:[{text:"confirm",callback:()=>{s.forEach((e,x)=>{e.id===d.id&&(s.splice(x,1),y.value.total--)}),A.closeAll()}},{text:"cancel",callback:()=>{A.closeAll()}}]})},M=()=>{let d=i.dataArr;d.push({id:(d.length+1).toString(),name:"",description:"",weight:"",remark:"",isEdit:!0}),R("setData",d),y.value.total++};return(d,s)=>{const e=U,x=N,b=P,c=$,m=q,g=O,a=z,D=K,E=le,S=T;return p(),v(S,{title:"Meter Read Route List",style:{"margin-top":"10px"}},{extra:t(()=>[l(b,null,{default:t(()=>[l(x,{position:"top",content:"export","is-dark":""},{default:t(()=>[r("div",oe,[l(e,{type:"layui-icon-export"})])]),_:1}),l(x,{position:"top",content:"create","is-dark":""},{default:t(()=>[r("div",{onClick:M,class:"circle-btn"},[l(e,{type:"layui-icon-addition"})])]),_:1})]),_:1})]),default:t(()=>[l(E,{columns:_,"data-source":w.dataArr,page:y.value,resize:""},{name:t(({data:n})=>[n.isEdit?(p(),v(c,{key:0,placeholder:"",disabled:"",modelValue:n.name,"onUpdate:modelValue":u=>n.name=u,allowClear:"",size:"sm"},null,8,["modelValue","onUpdate:modelValue"])):(p(),L("span",ae,H(n.name),1))]),description:t(({data:n})=>[n.isEdit?(p(),v(c,{key:0,placeholder:"",modelValue:n.description,"onUpdate:modelValue":u=>n.description=u,allowClear:"",size:"sm"},null,8,["modelValue","onUpdate:modelValue"])):k("",!0)]),weight:t(({data:n})=>[n.isEdit?(p(),v(c,{key:0,placeholder:"",modelValue:n.weight,"onUpdate:modelValue":u=>n.weight=u,allowClear:"",size:"sm"},null,8,["modelValue","onUpdate:modelValue"])):k("",!0)]),remark:t(({data:n})=>[n.isEdit?(p(),v(g,{key:0,modelValue:n.remark,"onUpdate:modelValue":u=>n.remark=u,size:"sm","show-search":!0,"allow-clear":!0,style:{width:"100%"}},{default:t(()=>[l(m,{value:"1",label:"CHECKMTR - Route for check meters"}),l(m,{value:"2",label:"AMRMTR - Route for AMR meters"}),l(m,{value:"3",label:"PDA-Route read by PDA device"}),l(m,{value:"4",label:"PORTABLE-Route for portable meters"})]),_:2},1032,["modelValue","onUpdate:modelValue"])):k("",!0)]),virtualRoute:t(({data:n})=>[n.isEdit?(p(),v(a,{key:0,skin:"primary",modelValue:n.virtualRoute,"onUpdate:modelValue":u=>n.virtualRoute=u},null,8,["modelValue","onUpdate:modelValue"])):k("",!0)]),processing:t(({data:n})=>[n.isEdit?(p(),v(a,{key:0,name:"like",skin:"primary",modelValue:n.remove,"onUpdate:modelValue":u=>n.remove=u},null,8,["modelValue","onUpdate:modelValue"])):k("",!0)]),operate:t(({data:n})=>[n.isEdit?k("",!0):(p(),v(D,{key:0,type:"primary",size:"xs",onClick:u=>C(n)},{default:t(()=>s[0]||(s[0]=[o(" Edit ")])),_:2},1032,["onClick"])),n.isEdit?(p(),v(D,{key:1,type:"danger",size:"xs",onClick:u=>B(n)},{default:t(()=>s[1]||(s[1]=[o(" delete ")])),_:2},1032,["onClick"])):k("",!0)]),_:1},8,["data-source","page"])]),_:1})}}};const ie={class:"top-use-box"},ue={class:"top-use-fun"},se={class:"results-list"},re={__name:"readCycle",setup(w){const V=f([]),i=y=>{V.value=y},R=y=>{V.value=[{id:5956,name:"A00010",description:"就魚避村 將軍渎",weight:"鱿魚灣村 将軍澳",remark:"PDA",processing:"Download Reads",exception:"Pending",isEdit:!1},{id:5956,name:"A02712",description:"彩頤花園 3&9座",weight:"彩頤花園3&9座",remark:"PDA",processing:"Download Reads",exception:"Pending",isEdit:!1}]};return Y(),f(""),f("1"),f({}),f({total:1,limit:10,current:2,layout:["page","limits","prev","next","count"]}),f(["export"]),(y,_)=>{const C=N,B=U,M=P,d=T,s=j;return p(),v(s,{fluid:!0,class:"common-container"},{default:t(()=>[l(d,{class:"top-use-card"},{default:t(()=>[r("div",ie,[_[2]||(_[2]=r("h1",{class:"top-use-title"},"Meter Read Cycle",-1)),r("div",ue,[l(M,{size:"md"},{default:t(()=>[l(C,{position:"top",content:"save","is-dark":""},{default:t(()=>_[0]||(_[0]=[r("span",{class:"iconfont icon-baocun"},null,-1)])),_:1}),l(C,{position:"top",content:"delete","is-dark":""},{default:t(()=>_[1]||(_[1]=[r("span",{class:"iconfont icon-rubber"},null,-1)])),_:1}),l(C,{position:"top",content:"refresh","is-dark":""},{default:t(()=>[r("span",null,[l(B,{type:"layui-icon-refresh"})])]),_:1}),l(C,{position:"top",content:"create","is-dark":""},{default:t(()=>[r("span",null,[l(B,{type:"layui-icon-addition"})])]),_:1})]),_:1})])])]),_:1}),r("div",se,[l(te,{onSureRouter:R}),l(ne,{dataArr:V.value,onSetData:i},null,8,["dataArr"])])]),_:1})}}},ge=W(re,[["__scopeId","data-v-a693e249"]]);export{ge as default};
