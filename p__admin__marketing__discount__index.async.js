"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[181],{74590:function(re,Z,e){var i=e(15009),r=e.n(i),_=e(99289),s=e.n(_),S=e(5574),j=e.n(S),O=e(83062),B=e(28036),x=e(67294),m=e(85893);Z.Z=function(v){var b=v.action,f=v.confirmText,I=v.hide,n=(0,x.useState)(!1),D=j()(n,2),d=D[0],E=D[1],F=f||"\u786E\u5B9A\u5220\u9664\uFF1F",M=function(){var L=s()(r()().mark(function w(){return r()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(confirm(F)){U.next=2;break}return U.abrupt("return");case 2:return E(!0),U.prev=3,U.next=6,b();case 6:return U.prev=6,E(!1),U.finish(6);case 9:case"end":return U.stop()}},w,null,[[3,,6,9]])}));return function(){return L.apply(this,arguments)}}();return I?null:(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(O.Z,{title:F,children:(0,m.jsx)(B.ZP,{loading:d,danger:!0,type:"link",onClick:function(){M()},children:"\u5220\u9664"})})})}},96256:function(re,Z,e){var i=e(97857),r=e.n(i),_=e(19632),s=e.n(_),S=e(68421),j=e(34041),O=e(57381),B=e(85893);Z.Z=function(x){var m=x.onSearch,v=x.value,b=x.onChange,f=x.style,I=x.initItem,n=x.placeholder,D=x.props,d=(0,S.Z)(m,{manual:!0,debounceWait:500}),E=d.data||[],F=function(){var L=s()(E);return I&&!L.find(function(w){return w.value===I.value})&&L.push(I),L};return(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(j.Z,r()({style:r()({minWidth:300},f),loading:d.loading,value:v,showSearch:!0,allowClear:!0,filterOption:!1,onSearch:function(L){d.run(L)},onChange:function(L){var w=E.find(function($){return $.value==L});b&&b(w)},onClear:function(){b&&b(void 0)},placeholder:n||"\u8F93\u5165\u5173\u952E\u8BCD",notFoundContent:d.loading&&(0,B.jsx)(O.Z,{size:"small"}),options:F()},D))})}},23806:function(re,Z,e){var i=e(1288),r=e(85893);Z.Z=function(_){var s=_.model,S=_.fallback;if(s==null||s==null)return null;var j=s==null?void 0:s.CreationTime,O=s==null?void 0:s.LastModificationTime;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{style:{},children:[(0,r.jsx)("div",{children:(0,r.jsx)(i.Z,{prefix:(0,r.jsx)("span",{children:"\u521B\u5EFA\uFF1A"}),onlyDate:!0,timeStr:j,fallback:S})}),(0,r.jsx)("div",{children:(0,r.jsx)(i.Z,{prefix:(0,r.jsx)("span",{children:"\u4FEE\u6539\uFF1A"}),onlyDate:!0,timeStr:O,fallback:S})})]})})}},1288:function(re,Z,e){var i=e(78957),r=e(83062),_=e(46629),s=e(85893);Z.Z=function(S){var j,O=S.timeStr,B=S.fallback,x=S.onlyDate,m=S.prefix,v=(j=(0,_.QW)(O))===null||j===void 0?void 0:j.local();if(!v)return B||null;var b=(0,_.ND)().utc().local(),f=v.isSame(b,"year"),I=v.diff(b,"day"),n=f?v.format(_.AK):v.format(_.vc),D=function(){return(0,s.jsxs)("div",{children:[(0,s.jsxs)(i.Z,{direction:"horizontal",children:[(0,s.jsx)("div",{children:v.fromNow()}),(0,s.jsx)("div",{children:v.format(_.On)})]}),(0,s.jsx)("div",{children:v.format(_.t9)})]})};return(0,s.jsx)(r.Z,{title:D(),children:(0,s.jsxs)(i.Z,{direction:"horizontal",children:[m,(0,s.jsx)("div",{className:"inline-block cursor-pointer hover:bg-orange-500",children:x?v.format(_.vc):v.format(_.dq)})]})})}},48746:function(re,Z,e){var i=e(15009),r=e.n(i),_=e(99289),s=e.n(_),S=e(96256),j=e(35291),O=e(30699),B=e(95813),x=e(85893);Z.Z=function(m){var v=m.selectedSku,b=m.onChange,f=m.style,I=m.props,n=function(){var D=s()(r()().mark(function d(E){var F,M,L;return r()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(!(0,B.Wq)(E)){$.next=2;break}return $.abrupt("return",[]);case 2:return $.next=4,O.x1.mallAdmin.skuQuerySkuForSelection({Keywords:E,Take:20});case 4:return M=$.sent,L=M==null||(F=M.data)===null||F===void 0||(F=F.Data)===null||F===void 0?void 0:F.map(function(U){return{label:(0,j.CQ)(U)||"--",value:U.Id||"--"}}),$.abrupt("return",L||[]);case 7:case"end":return $.stop()}},d)}));return function(E){return D.apply(this,arguments)}}();return(0,x.jsx)(x.Fragment,{children:(0,x.jsx)(S.Z,{style:f,props:I,onSearch:function(){var D=s()(r()().mark(function d(E){return r()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,n(E);case 2:return M.abrupt("return",M.sent);case 3:case"end":return M.stop()}},d)}));return function(d){return D.apply(this,arguments)}}(),placeholder:"\u641C\u7D22\u5546\u54C1...",value:(v==null?void 0:v.Id)||void 0,initItem:v==null?void 0:{label:(0,j.CQ)(v)||"",value:v.Id||""},onChange:function(d){b&&b(d==null?void 0:{Id:d.value,Name:d.label})}})})}},92088:function(re,Z,e){e.d(Z,{LB:function(){return B},t2:function(){return v},tz:function(){return m},vI:function(){return x}});var i=e(5574),r=e.n(i),_=e(67294),s=e(18629),S=e(46629),j=e(76021),O=e(95813),B=function(){var f=(0,j.YB)(),I=function(D,d){var E=f.formatMessage({id:D,defaultMessage:d});return(0,O.Wq)(E)?null:E};return{intl:f,format_message:I}},x=function(){var f=(0,_.useState)(void 0),I=r()(f,2),n=I[0],D=I[1];return(0,s.Z)(function(){D(S.ND.utc())},1e3,{immediate:!0}),n||S.ND.utc()},m=function(f){var I=(0,_.useState)(f||!1),n=r()(I,2),D=n[0],d=n[1];return{open:D,setOpen:function(){return d(!0)},setClose:function(){return d(!1)}}},v=function(f){var I=(0,_.useState)(f),n=r()(I,2),D=n[0],d=n[1];return{data:D,open:D!=null,setData:function(F){return d(F)},onHide:function(){return d(void 0)}}}},9840:function(re,Z,e){e.r(Z),e.d(Z,{default:function(){return se}});var i=e(97857),r=e.n(i),_=e(5574),s=e.n(_),S=e(66309),j=e(40411),O=e(28036),B=e(4393),x=e(80799),m=e(67294),v=e(23806),b=e(1288),f=e(46629),I=e(92088),n=e(85893),D=function(p){var P=p.start_time,R=p.end_time,A=(0,I.vI)(),K=(0,f.QW)(P),N=(0,f.QW)(R),Y=K==null||K.isBefore(A),z=N==null||N.isAfter(A),J=!Y||!z;return(0,n.jsxs)(n.Fragment,{children:[P&&(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"\u5F00\u59CB\u65F6\u95F4\uFF1A"}),(0,n.jsx)(b.Z,{timeStr:P})]}),R&&(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{children:"\u7ED3\u675F\u65F6\u95F4\uFF1A"}),(0,n.jsx)(b.Z,{timeStr:R})]}),J&&(0,n.jsx)("div",{className:"text-overline text-red-400",children:"\u5DF2\u8FC7\u671F"})]})},d=e(30699),E=e(95813),F=e(15009),M=e.n(F),L=e(99289),w=e.n(L),$=e(45360),U=e(85576),me=e(78957),ie=e(57381),V=e(11346),_e=e(65233),ve=e(24435),de=e(72269),fe=e(84567),t=e(96864),g=e(74590),T=e(19632),o=e.n(T),c=e(35291),X=e(66628),W=e(48746),te=function(p){var P=p.sku_list,R=p.onChange,A=p.maxCount,K=(0,m.useState)(!1),N=s()(K,2),Y=N[0],z=N[1],J=A||1e5,H=P.length>=J,ae=[{title:"No",dataIndex:"index",valueType:"indexBorder"},{title:"\u6392\u5E8F",dataIndex:"sort",width:60,className:"drag-visible"},{title:"\u5546\u54C1",render:function(G,C){return(0,c.CQ)(C)||"--"}},{title:"\u63CF\u8FF0",render:function(G,C){return C.Description||"--"}},{render:function(G,C){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(O.ZP,{type:"link",danger:!0,onClick:function(){confirm("\u5220\u9664\uFF1F")&&R(o()(P.filter(function(l){return l.Id!=C.Id})))},children:"\u5220\u9664"})})}}];return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(U.Z,{title:"\u641C\u7D22\u5546\u54C1",open:Y,onCancel:function(){return z(!1)},onOk:function(){return z(!1)},children:(0,n.jsx)(W.Z,{onChange:function(G){if(G){if(H){var C;(C=E.iI.message)===null||C===void 0||C.error("\u6570\u91CF\u5DF2\u8FBE\u4E0A\u9650\uFF1A".concat(J));return}if(confirm("\u6DFB\u52A0".concat((0,c.CQ)(G)||"--","\uFF1F"))){if(P.some(function(l){return l.Id==G.Id})){var a;(a=E.iI.message)===null||a===void 0||a.error("\u8BE5\u5546\u54C1\u5DF2\u5B58\u5728");return}R([].concat(o()(P),[G])),z(!1)}}}})}),(0,n.jsx)(B.Z,{size:"small",title:"\u9009\u62E9\u5546\u54C1",extra:(0,n.jsx)(O.ZP,{disabled:H,type:"link",size:"small",onClick:function(){z(!0)},children:"\u6DFB\u52A0\u5546\u54C1"}),children:(0,n.jsx)(X.Z,{rowKey:"Id",columns:ae,dataSource:P||[],toolBarRender:!1,pagination:!1,headerTitle:!1,search:!1,dragSortKey:"sort",onDragSortEnd:function(G,C,a){R(o()(a))}})})]})},ee=e(38295),le=function(p){var P,R,A,K=p.show,N=p.hide,Y=p.data,z=p.ok,J=(0,m.useState)(!1),H=s()(J,2),ae=H[0],h=H[1],G=(0,m.useState)({}),C=s()(G,2),a=C[0],l=C[1],Q=(0,ee.o)(),oe=function(u){h(!0),d.x1.mallAdmin.discountSave(r()({},u)).then(function(q){q.data.Error?$.ZP.error(q.data.Error.Message):($.ZP.success("\u4FDD\u5B58\u6210\u529F"),z())}).finally(function(){h(!1)})};return(0,m.useEffect)(function(){l(r()({},Y||{}))},[Y]),(0,m.useEffect)(function(){K&&Q.queryStores()},[K]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(U.Z,{width:"60%",title:"\u6298\u6263",open:K,onCancel:function(){return N()},footer:(0,n.jsxs)(me.Z,{children:[(0,n.jsx)(g.Z,{action:w()(M()().mark(function y(){var u;return M()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,d.x1.mallAdmin.discountDelete({Id:Y.Id});case 2:u=k.sent,(0,E._y)(u,function(){N(),z()});case 4:case"end":return k.stop()}},y)})),hide:(0,E.Wq)(Y.Id)}),(0,n.jsx)(O.ZP,{type:"primary",onClick:function(){oe(a)},children:"\u4FDD\u5B58"})]}),children:(0,n.jsx)(ie.Z,{spinning:ae,children:(0,n.jsxs)(V.Z,{labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,n.jsx)(V.Z.Item,{label:"\u540D\u79F0",tooltip:"61\u513F\u7AE5\u8282",children:(0,n.jsx)(_e.Z,{maxLength:30,required:!0,value:a.Name||"",onChange:function(u){l(r()(r()({},a),{},{Name:u.target.value}))}})}),(0,n.jsx)(V.Z.Item,{label:"\u63CF\u8FF0",children:(0,n.jsx)(_e.Z.TextArea,{maxLength:30,required:!0,value:a.Description||"",onChange:function(u){l(r()(r()({},a),{},{Description:u.target.value}))}})}),(0,n.jsx)(V.Z.Item,{label:"\u6298\u6263",children:(0,n.jsx)(ve.Z,{min:0,max:1,required:!0,value:a.DiscountPercentage||0,onChange:function(u){l(r()(r()({},a),{},{DiscountPercentage:u||0}))}})}),(0,n.jsx)(V.Z.Item,{label:"\u6307\u5B9A\u95E8\u5E97\u53EF\u7528",children:(0,n.jsxs)(me.Z,{direction:"horizontal",children:[(0,n.jsx)(de.Z,{checked:a.LimitedToStore,onChange:function(u){l(r()(r()({},a),{},{LimitedToStore:u}))}}),a.LimitedToStore||(0,n.jsx)("b",{children:"\u5F53\u524D\u6240\u6709\u95E8\u5E97\u53EF\u7528"})]})}),a.LimitedToStore&&(0,n.jsx)(V.Z.Item,{label:"\u9002\u7528\u95E8\u5E97",children:(0,n.jsx)(fe.Z.Group,{onChange:function(u){l(r()(r()({},a),{},{Stores:Q.stores.filter(function(q){return u.indexOf(q.Id||"")>=0})}))},value:((P=a.Stores)===null||P===void 0?void 0:P.map(function(y){return y.Id||""}))||[],options:Q.stores.map(function(y){return{label:y.Name,value:y.Id||""}})})}),(0,n.jsx)(V.Z.Item,{label:"\u7279\u5B9A\u5546\u54C1",children:(0,n.jsx)(de.Z,{checked:a.LimitedToSku,onChange:function(u){l(r()(r()({},a),{},{LimitedToSku:u}))}})}),a.LimitedToSku&&(0,n.jsx)(V.Z.Item,{label:"\u53C2\u4E0E\u5546\u54C1",children:(0,n.jsx)(te,{sku_list:a.Skus||[],onChange:function(u){l(r()(r()({},a),{},{Skus:u||[]}))}})}),(0,n.jsx)(V.Z.Item,{label:"\u65F6\u95F4\u8303\u56F4",children:(0,n.jsx)(t.default.RangePicker,{allowClear:!0,value:[((R=(0,f.QW)(a.StartTime))===null||R===void 0?void 0:R.add(f.Mg,"hour"))||null,((A=(0,f.QW)(a.EndTime))===null||A===void 0?void 0:A.add(f.Mg,"hour"))||null],onChange:function(u){var q,k;l(r()(r()({},a),{},{StartTime:u==null||(q=u.at(0))===null||q===void 0?void 0:q.add(-f.Mg,"hours").format(f.dq),EndTime:u==null||(k=u.at(1))===null||k===void 0?void 0:k.add(-f.Mg,"hours").format(f.dq)}))}})}),(0,n.jsx)(V.Z.Item,{label:"\u72B6\u6001\u53EF\u7528",children:(0,n.jsx)(de.Z,{checked:a.IsActive,onChange:function(u){l(r()(r()({},a),{},{IsActive:u}))}})}),(0,n.jsx)(V.Z.Item,{label:"\u6392\u5E8F",children:(0,n.jsx)(ve.Z,{value:a.Sort||0,onChange:function(u){l(r()(r()({},a),{},{Sort:u||0}))}})})]})})})})},ne=e(68421),se=function(){var p,P,R=(0,m.useState)({Page:1}),A=s()(R,2),K=A[0],N=A[1],Y=(0,m.useState)(void 0),z=s()(Y,2),J=z[0],H=z[1],ae=function(){h.run(r()({},K))},h=(0,ne.Z)(d.x1.mallAdmin.discountQueryPaging,{manual:!0}),G=[{title:"\u540D\u79F0",render:function(a,l){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("b",{children:l.Name||"--"}),(0,E.Wq)(l.Description)||(0,n.jsx)("p",{children:l.Description})]})}},{title:"\u4F18\u60E0\u529B\u5EA6",render:function(a,l){return l.DiscountPercentage||0}},{title:"\u9002\u7528\u95E8\u5E97",render:function(a,l){var Q;return l.LimitedToStore?(0,n.jsx)("span",{children:"".concat((Q=l.Stores)===null||Q===void 0?void 0:Q.map(function(oe){return oe.Name||""}).join(","))}):(0,n.jsx)(S.Z,{color:"green",children:"\u5168\u90E8\u95E8\u5E97"})}},{title:"\u9002\u7528\u5546\u54C1",render:function(a,l){var Q;return l.LimitedToSku?l.Skus?(Q=l.Skus)===null||Q===void 0?void 0:Q.map(function(oe,y){var u;return(0,n.jsx)("div",{style:{marginBottom:5},children:"".concat(y+1,"-").concat((u=oe.Goods)===null||u===void 0?void 0:u.Name,"-").concat(oe.Name)},y)}):null:(0,n.jsx)(S.Z,{color:"green",children:"\u5168\u5C40\u6709\u6548"})}},{title:"\u72B6\u6001",render:function(a,l){return l.IsActive?(0,n.jsx)(j.Z,{text:"\u53EF\u7528",status:"success"}):(0,n.jsx)(j.Z,{text:"\u4E0D\u53EF\u7528",status:"error"})}},{title:"\u65F6\u95F4\u8303\u56F4",render:function(a,l){return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(D,{start_time:l.StartTime,end_time:l.EndTime})})}},{title:"\u65F6\u95F4",render:function(a,l){return(0,n.jsx)(v.Z,{model:l})}},{title:"\u64CD\u4F5C",width:200,render:function(a,l){return(0,n.jsx)(O.ZP.Group,{children:(0,n.jsx)(O.ZP,{type:"link",onClick:function(){H(l)},children:"\u7F16\u8F91"})})}}];return(0,m.useEffect)(function(){ae()},[K]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(le,{show:J!=null,hide:function(){return H(void 0)},data:J||{},ok:function(){H(void 0),ae()}}),(0,n.jsx)(B.Z,{title:"\u6298\u6263",extra:(0,n.jsx)(O.ZP,{type:"primary",onClick:function(){H({})},children:"\u65B0\u589E"}),children:(0,n.jsx)(x.Z,{rowKey:function(a){return a.Id||""},loading:h.loading,columns:G,dataSource:((p=h.data)===null||p===void 0||(p=p.data)===null||p===void 0?void 0:p.Items)||[],pagination:{showSizeChanger:!1,pageSize:20,current:K.Page,total:(h==null||(P=h.data)===null||P===void 0||(P=P.data)===null||P===void 0?void 0:P.TotalCount)||void 0,onChange:function(a){N(r()(r()({},K),{},{Page:a}))}}})})]})}},18629:function(re,Z,e){var i=e(67294),r=e(22638),_=e(92770),s=function(S,j,O){O===void 0&&(O={});var B=(0,r.Z)(S),x=(0,i.useRef)(null),m=(0,i.useCallback)(function(){x.current&&clearInterval(x.current)},[]);return(0,i.useEffect)(function(){if(!(!(0,_.hj)(j)||j<0))return O.immediate&&B(),x.current=setInterval(B,j),m},[j,O.immediate]),m};Z.Z=s},66309:function(re,Z,e){e.d(Z,{Z:function(){return fe}});var i=e(67294),r=e(93967),_=e.n(r),s=e(98423),S=e(98787),j=e(69760),O=e(96159),B=e(45353),x=e(53124),m=e(11568),v=e(10274),b=e(14747),f=e(83262),I=e(83559);const n=t=>{const{paddingXXS:g,lineWidth:T,tagPaddingHorizontal:o,componentCls:c,calc:X}=t,W=X(o).sub(T).equal(),te=X(g).sub(T).equal();return{[c]:Object.assign(Object.assign({},(0,b.Wf)(t)),{display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:W,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight,whiteSpace:"nowrap",background:t.defaultBg,border:`${(0,m.bf)(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,opacity:1,transition:`all ${t.motionDurationMid}`,textAlign:"start",position:"relative",[`&${c}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:t.defaultColor},[`${c}-close-icon`]:{marginInlineStart:te,fontSize:t.tagIconSize,color:t.colorTextDescription,cursor:"pointer",transition:`all ${t.motionDurationMid}`,"&:hover":{color:t.colorTextHeading}},[`&${c}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${t.iconCls}-close, ${t.iconCls}-close:hover`]:{color:t.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${c}-checkable-checked):hover`]:{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${t.iconCls} + span, > span + ${t.iconCls}`]:{marginInlineStart:W}}),[`${c}-borderless`]:{borderColor:"transparent",background:t.tagBorderlessBg}}},D=t=>{const{lineWidth:g,fontSizeIcon:T,calc:o}=t,c=t.fontSizeSM;return(0,f.IX)(t,{tagFontSize:c,tagLineHeight:(0,m.bf)(o(t.lineHeightSM).mul(c).equal()),tagIconSize:o(T).sub(o(g).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:t.defaultBg})},d=t=>({defaultBg:new v.C(t.colorFillQuaternary).onBackground(t.colorBgContainer).toHexString(),defaultColor:t.colorText});var E=(0,I.I$)("Tag",t=>{const g=D(t);return n(g)},d),F=function(t,g){var T={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&g.indexOf(o)<0&&(T[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(t);c<o.length;c++)g.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(t,o[c])&&(T[o[c]]=t[o[c]]);return T},L=i.forwardRef((t,g)=>{const{prefixCls:T,style:o,className:c,checked:X,onChange:W,onClick:te}=t,ee=F(t,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:le,tag:ne}=i.useContext(x.E_),se=N=>{W==null||W(!X),te==null||te(N)},p=le("tag",T),[P,R,A]=E(p),K=_()(p,`${p}-checkable`,{[`${p}-checkable-checked`]:X},ne==null?void 0:ne.className,c,R,A);return P(i.createElement("span",Object.assign({},ee,{ref:g,style:Object.assign(Object.assign({},o),ne==null?void 0:ne.style),className:K,onClick:se})))}),w=e(98719);const $=t=>(0,w.Z)(t,(g,T)=>{let{textColor:o,lightBorderColor:c,lightColor:X,darkColor:W}=T;return{[`${t.componentCls}${t.componentCls}-${g}`]:{color:o,background:X,borderColor:c,"&-inverse":{color:t.colorTextLightSolid,background:W,borderColor:W},[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}});var U=(0,I.bk)(["Tag","preset"],t=>{const g=D(t);return $(g)},d);function me(t){return typeof t!="string"?t:t.charAt(0).toUpperCase()+t.slice(1)}const ie=(t,g,T)=>{const o=me(T);return{[`${t.componentCls}${t.componentCls}-${g}`]:{color:t[`color${T}`],background:t[`color${o}Bg`],borderColor:t[`color${o}Border`],[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}};var V=(0,I.bk)(["Tag","status"],t=>{const g=D(t);return[ie(g,"success","Success"),ie(g,"processing","Info"),ie(g,"error","Error"),ie(g,"warning","Warning")]},d),_e=function(t,g){var T={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&g.indexOf(o)<0&&(T[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,o=Object.getOwnPropertySymbols(t);c<o.length;c++)g.indexOf(o[c])<0&&Object.prototype.propertyIsEnumerable.call(t,o[c])&&(T[o[c]]=t[o[c]]);return T};const de=i.forwardRef((t,g)=>{const{prefixCls:T,className:o,rootClassName:c,style:X,children:W,icon:te,color:ee,onClose:le,bordered:ne=!0,visible:se}=t,p=_e(t,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:P,direction:R,tag:A}=i.useContext(x.E_),[K,N]=i.useState(!0),Y=(0,s.Z)(p,["closeIcon","closable"]);i.useEffect(()=>{se!==void 0&&N(se)},[se]);const z=(0,S.o2)(ee),J=(0,S.yT)(ee),H=z||J,ae=Object.assign(Object.assign({backgroundColor:ee&&!H?ee:void 0},A==null?void 0:A.style),X),h=P("tag",T),[G,C,a]=E(h),l=_()(h,A==null?void 0:A.className,{[`${h}-${ee}`]:H,[`${h}-has-color`]:ee&&!H,[`${h}-hidden`]:!K,[`${h}-rtl`]:R==="rtl",[`${h}-borderless`]:!ne},o,c,C,a),Q=ce=>{ce.stopPropagation(),le==null||le(ce),!ce.defaultPrevented&&N(!1)},[,oe]=(0,j.Z)((0,j.w)(t),(0,j.w)(A),{closable:!1,closeIconRender:ce=>{const Ce=i.createElement("span",{className:`${h}-close-icon`,onClick:Q},ce);return(0,O.wm)(ce,Ce,ue=>({onClick:he=>{var ge;(ge=ue==null?void 0:ue.onClick)===null||ge===void 0||ge.call(ue,he),Q(he)},className:_()(ue==null?void 0:ue.className,`${h}-close-icon`)}))}}),y=typeof p.onClick=="function"||W&&W.type==="a",u=te||null,q=u?i.createElement(i.Fragment,null,u,W&&i.createElement("span",null,W)):W,k=i.createElement("span",Object.assign({},Y,{ref:g,className:l,style:ae}),q,oe,z&&i.createElement(U,{key:"preset",prefixCls:h}),J&&i.createElement(V,{key:"status",prefixCls:h}));return G(y?i.createElement(B.Z,{component:"Tag"},k):k)});de.CheckableTag=L;var fe=de}}]);
