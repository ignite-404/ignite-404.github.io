"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9768],{23806:function(z,j,n){var r=n(1288),f=n(85893);j.Z=function(E){var v=E.model,y=E.fallback;if(v==null||v==null)return null;var I=v==null?void 0:v.CreationTime,p=v==null?void 0:v.LastModificationTime;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)("div",{style:{},children:[(0,f.jsx)("div",{children:(0,f.jsx)(r.Z,{prefix:(0,f.jsx)("span",{children:"\u521B\u5EFA\uFF1A"}),onlyDate:!0,timeStr:I,fallback:y})}),(0,f.jsx)("div",{children:(0,f.jsx)(r.Z,{prefix:(0,f.jsx)("span",{children:"\u4FEE\u6539\uFF1A"}),onlyDate:!0,timeStr:p,fallback:y})})]})})}},11518:function(z,j,n){var r=n(55241),f=n(78957),E=n(7134),v=n(55932),y=n(42838),I=n(8885),p=n(85893);j.Z=function(b){var h=b.model;if(!h)return null;var K=(0,v.S)(h.Avatar,{width:100,height:100}),A=(0,y.zO)([h.NickName,h.IdentityName,h.Id].filter(function(U){return U&&U.length>0}).at(0)||"--",10);return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(r.Z,{content:(0,p.jsx)(I.Z,{model:h}),children:(0,p.jsxs)(f.Z,{direction:"horizontal",children:[(0,p.jsx)(E.C,{size:"small",shape:"square",src:K,children:A}),(0,p.jsx)("span",{children:(0,p.jsx)("a",{children:A})})]})})})}},8885:function(z,j,n){var r=n(78957),f=n(7134),E=n(55932),v=n(42838),y=n(85893);j.Z=function(I){var p,b=I.model;if(!b)return null;var h=(0,E.S)(b.Avatar,{width:100,height:100}),K=(0,v.zO)([b.NickName,b.IdentityName,b.Id].filter(function(A){return A&&A.length>0}).at(0)||"--",10);return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(r.Z,{direction:"horizontal",children:[(0,y.jsx)("div",{children:(0,y.jsx)(f.C,{src:h,size:100})}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("p",{children:["\u6635\u79F0\uFF1A",K]}),(0,y.jsxs)("p",{children:["\u7528\u6237\u540D\uFF1A",(b==null?void 0:b.IdentityName)||"--"]}),(0,y.jsxs)("p",{children:["\u624B\u673A\u53F7\uFF1A",(b==null||(p=b.UserMobile)===null||p===void 0?void 0:p.MobilePhone)||"--"]})]})]})})}},22229:function(z,j,n){n.r(j),n.d(j,{default:function(){return $}});var r=n(42122),f=n.n(r),E=n(27424),v=n.n(E),y=n(45360),I=n(14726),p=n(4393),b=n(80799),h=n(67294),K=n(23806),A=n(11518),U=n(30967),Q=n(42838),O=n(26412),o=n(85893),le=function(M){var g=M.model;return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(O.Z,{title:"\u65E5\u5FD7\u7EC6\u8282",bordered:!0,children:[(0,o.jsx)(O.Z.Item,{label:"\u8BF7\u6C42\u5730\u5740",children:g.RequestPath}),(0,o.jsx)(O.Z.Item,{label:"ip\u5730\u5740",children:g.IpAddress}),(0,o.jsx)(O.Z.Item,{label:"\u4F4D\u7F6E",children:[g.GeoCountry,g.GeoCity].filter(function(R){return!(0,Q.Wq)(R)}).join("/")}),(0,o.jsx)(O.Z.Item,{label:"\u5750\u6807",children:"".concat(g.Lng,",").concat(g.Lat)}),(0,o.jsx)(O.Z.Item,{label:"\u5BA2\u6237\u7AEF\u4FE1\u606F",children:g.UserAgent}),(0,o.jsx)(O.Z.Item,{label:"\u8BBE\u5907\u7C7B\u578B",children:g.Device}),(0,o.jsx)(O.Z.Item,{label:"\u6D4F\u89C8\u5668\u7C7B\u578B",span:2,children:g.BrowserType}),(0,o.jsx)(O.Z.Item,{label:"\u8BF7\u6C42\u6765\u6E90\u9875\u9762",span:3,children:g.UrlReferrer}),(0,o.jsx)(O.Z.Item,{label:"\u503C",children:g.Value}),(0,o.jsx)(O.Z.Item,{label:"\u8BE6\u7EC6\u53C2\u6570",children:g.Data})]})})},oe=le,J=n(11346),se=n(71230),re=n(15746),de=n(96864),ie=n(34041),S={Login:-1,VisiteGoods:1,SearchGoods:2,PlaceOrder:3,CreatePayment:4,VisitePage:5,GetCoupon:6,AddShoppingCart:7,DeleteShoppingCart:8,AddFavorite:9,DeleteFavorite:10,AuditLog:11},Y=[{id:S.Login,name:"\u767B\u5F55"},{id:S.VisiteGoods,name:"\u67E5\u770B\u5546\u54C1"},{id:S.SearchGoods,name:"\u641C\u7D22\u5546\u54C1"},{id:S.PlaceOrder,name:"\u4E0B\u5355"},{id:S.CreatePayment,name:"\u5524\u8D77\u652F\u4ED8"},{id:S.VisitePage,name:"\u67E5\u770B\u9875\u9762"},{id:S.GetCoupon,name:"\u9886\u53D6\u4F18\u60E0\u5238"},{id:S.AddShoppingCart,name:"\u6DFB\u52A0\u8D2D\u7269\u8F66"},{id:S.DeleteShoppingCart,name:"\u5220\u9664\u8D2D\u7269\u8F66"},{id:S.AddFavorite,name:"\u6DFB\u52A0\u6536\u85CF"},{id:S.DeleteFavorite,name:"\u5220\u9664\u6536\u85CF"},{id:S.AuditLog,name:"\u5BA1\u8BA1\u65E5\u5FD7"}],G={ActivityLogTypes:S,ActivityLogTypesDescription:Y},T=n(46629),ce=function(F){var M,g,R=F.query,w=F.onSearch,V=(0,h.useState)({}),W=v()(V,2),N=W[0],B=W[1],H=function(t){t.Page=1,w&&w(t)};return(0,h.useEffect)(function(){B(R)},[]),(0,o.jsx)(p.Z,{bordered:!1,style:{marginBottom:10},children:(0,o.jsx)(J.Z,{children:(0,o.jsxs)(se.Z,{gutter:10,children:[(0,o.jsx)(re.Z,{span:6,children:(0,o.jsx)(J.Z.Item,{label:"\u65F6\u95F4",children:(0,o.jsx)(de.default.RangePicker,{value:[((M=(0,T.mg)(N.StartTime))===null||M===void 0?void 0:M.add(T.Mg,"hour"))||null,((g=(0,T.mg)(N.EndTime))===null||g===void 0?void 0:g.add(T.Mg,"hour"))||null],onChange:function(t){B(function(a){var l,i;return f()(f()({},a),{},{StartTime:t==null||(l=t.at(0))===null||l===void 0?void 0:l.add(-T.Mg,"hour").format(T.dq),EndTime:t==null||(i=t.at(1))===null||i===void 0?void 0:i.add(-T.Mg,"hour").format(T.dq)})})}})})}),(0,o.jsx)(re.Z,{span:6,children:(0,o.jsx)(J.Z.Item,{label:"\u65E5\u5FD7\u7C7B\u578B",children:(0,o.jsx)(ie.Z,{placeholder:"\u65E5\u5FD7\u7C7B\u578B",allowClear:!0,options:G.ActivityLogTypesDescription.map(function(e){return{value:e.id,label:e.name}}),value:N.ActivityLogTypeId,onChange:function(t){B(function(a){return f()(f()({},a),{},{ActivityLogTypeId:t})})},onClear:function(){B(function(t){return f()(f()({},t),{},{ActivityLogTypeId:void 0})})}})})}),(0,o.jsx)(re.Z,{span:6,children:(0,o.jsx)(J.Z.Item,{wrapperCol:{offset:8,span:16},children:(0,o.jsx)(I.ZP,{type:"primary",htmlType:"submit",onClick:function(){return H(N)},children:"\u641C\u7D22"})})})]})})})},$=function(){var F=(0,h.useState)(!0),M=v()(F,2),g=M[0],R=M[1],w=(0,h.useState)({Items:[],TotalCount:0}),V=v()(w,2),W=V[0],N=V[1],B=(0,h.useState)({Page:1}),H=v()(B,2),e=H[0],t=H[1],a=(0,h.useState)(0),l=v()(a,2),i=l[0],u=l[1],c=function(s){R(!0),U.x1.mallAdmin.activityLogQueryActivityLogPaging(s).then(function(d){(0,Q._y)(d,function(){N(d.data||{})})}).finally(function(){R(!1)})},C=function(s){confirm("\u5220\u9664\uFF1F")&&(u(s.Id),U.x1.mallAdmin.activityLogDeleteActivityLog({Id:s.Id}).then(function(d){(0,Q._y)(d,function(){y.ZP.success("\u5220\u9664\u6210\u529F"),c(e)})}).finally(function(){u(void 0)}))},L=[{title:"\u65E5\u5FD7\u5185\u5BB9",render:function(s,d){return d.Comment||"--"}},{title:"\u65E5\u5FD7\u7C7B\u578B",render:function(s,d){var x=G.ActivityLogTypesDescription.find(function(D){return D.id==d.ActivityLogTypeId});return x?(0,o.jsx)("span",{children:x.name||"--"}):"--"}},{title:"\u7BA1\u7406\u5458",render:function(s,d){var x;return(0,o.jsx)(A.Z,{model:(x=d.Admin)===null||x===void 0?void 0:x.User})}},{title:"\u7528\u6237",render:function(s,d){var x;return(0,o.jsx)(A.Z,{model:(x=d.StoreUser)===null||x===void 0?void 0:x.User})}},{title:"\u5730\u5740",render:function(s,d){return d.GeoCity||d.GeoCountry||"--"}},{title:"\u65F6\u95F4",render:function(s,d){return(0,o.jsx)(K.Z,{model:d})}},{fixed:"right",title:"\u64CD\u4F5C",width:200,render:function(s,d){return(0,o.jsx)(I.ZP.Group,{children:(0,o.jsx)(I.ZP,{loading:i==d.Id,type:"link",danger:!0,onClick:function(){C(d)},children:"\u5220\u9664"})})}}];return(0,h.useEffect)(function(){c(e)},[]),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ce,{query:e,onSearch:function(s){t(s),c(s)}}),(0,o.jsx)(p.Z,{title:"\u6D3B\u52A8\u65E5\u5FD7",children:(0,o.jsx)(b.Z,{style:{width:"100%"},rowKey:function(s){return s.Id||0},loading:g,columns:L,dataSource:W.Items||[],expandable:{expandedRowRender:function(s){return(0,o.jsx)("div",{style:{padding:10,border:"5px dashed orange"},children:(0,o.jsx)(oe,{model:s})})}},pagination:{showSizeChanger:!1,pageSize:20,current:e.Page,total:W.TotalCount,onChange:function(s){var d=f()(f()({},e),{},{Page:s});t(d),c(d)}}})})]})}},15746:function(z,j,n){var r=n(21584);j.Z=r.Z},26412:function(z,j,n){n.d(j,{Z:function(){return H}});var r=n(67294),f=n(93967),E=n.n(f),v=n(74443),y=n(53124),I=n(98675),p=n(25378),h={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},A=r.createContext({}),U=n(50344),Q=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,l=Object.getOwnPropertySymbols(e);i<l.length;i++)t.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(a[l[i]]=e[l[i]]);return a};const O=e=>(0,U.Z)(e).map(t=>Object.assign(Object.assign({},t==null?void 0:t.props),{key:t.key}));function o(e,t,a){const l=r.useMemo(()=>t||O(a),[t,a]);return r.useMemo(()=>l.map(u=>{var{span:c}=u,C=Q(u,["span"]);return Object.assign(Object.assign({},C),{span:typeof c=="number"?c:(0,v.m9)(e,c)})}),[l,e])}function le(e,t,a){let l=e,i=!1;return(a===void 0||a>t)&&(l=Object.assign(Object.assign({},e),{span:t}),i=a!==void 0),[l,i]}function oe(e,t){const a=[];let l=[],i=t,u=!1;return e.filter(c=>c).forEach((c,C)=>{const L=c==null?void 0:c.span,m=L||1;if(C===e.length-1){const[s,d]=le(c,i,L);u=u||d,l.push(s),a.push(l);return}if(m<i)i-=m,l.push(c);else{const[s,d]=le(c,i,m);u=u||d,l.push(s),a.push(l),i=t,l=[]}}),[a,u]}var se=(e,t)=>{const[a,l]=(0,r.useMemo)(()=>oe(t,e),[t,e]);return a},de=e=>{let{children:t}=e;return t};function ie(e){return e!=null}var Y=e=>{const{itemPrefixCls:t,component:a,span:l,className:i,style:u,labelStyle:c,contentStyle:C,bordered:L,label:m,content:s,colon:d,type:x}=e,D=a;return L?r.createElement(D,{className:E()({[`${t}-item-label`]:x==="label",[`${t}-item-content`]:x==="content"},i),style:u,colSpan:l},ie(m)&&r.createElement("span",{style:c},m),ie(s)&&r.createElement("span",{style:C},s)):r.createElement(D,{className:E()(`${t}-item`,i),style:u,colSpan:l},r.createElement("div",{className:`${t}-item-container`},(m||m===0)&&r.createElement("span",{className:E()(`${t}-item-label`,{[`${t}-item-no-colon`]:!d}),style:c},m),(s||s===0)&&r.createElement("span",{className:E()(`${t}-item-content`),style:C},s)))};function G(e,t,a){let{colon:l,prefixCls:i,bordered:u}=t,{component:c,type:C,showLabel:L,showContent:m,labelStyle:s,contentStyle:d}=a;return e.map((x,D)=>{let{label:_,children:ae,prefixCls:q=i,className:k,style:ee,labelStyle:Z,contentStyle:P,span:X=1,key:te}=x;return typeof c=="string"?r.createElement(Y,{key:`${C}-${te||D}`,className:k,style:ee,labelStyle:Object.assign(Object.assign({},s),Z),contentStyle:Object.assign(Object.assign({},d),P),span:X,colon:l,component:c,itemPrefixCls:q,bordered:u,label:L?_:null,content:m?ae:null,type:C}):[r.createElement(Y,{key:`label-${te||D}`,className:k,style:Object.assign(Object.assign(Object.assign({},s),ee),Z),span:1,colon:l,component:c[0],itemPrefixCls:q,bordered:u,label:_,type:"label"}),r.createElement(Y,{key:`content-${te||D}`,className:k,style:Object.assign(Object.assign(Object.assign({},d),ee),P),span:X*2-1,component:c[1],itemPrefixCls:q,bordered:u,content:ae,type:"content"})]})}var ce=e=>{const t=r.useContext(A),{prefixCls:a,vertical:l,row:i,index:u,bordered:c}=e;return l?r.createElement(r.Fragment,null,r.createElement("tr",{key:`label-${u}`,className:`${a}-row`},G(i,e,Object.assign({component:"th",type:"label",showLabel:!0},t))),r.createElement("tr",{key:`content-${u}`,className:`${a}-row`},G(i,e,Object.assign({component:"td",type:"content",showContent:!0},t)))):r.createElement("tr",{key:u,className:`${a}-row`},G(i,e,Object.assign({component:c?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},t)))},$=n(11568),F=n(14747),M=n(83559),g=n(83262);const R=e=>{const{componentCls:t,labelBg:a}=e;return{[`&${t}-bordered`]:{[`> ${t}-view`]:{overflow:"hidden",border:`${(0,$.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${t}-row`]:{borderBottom:`${(0,$.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,$.bf)(e.padding)} ${(0,$.bf)(e.paddingLG)}`,borderInlineEnd:`${(0,$.bf)(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${t}-item-label`]:{color:e.colorTextSecondary,backgroundColor:a,"&::after":{display:"none"}}}},[`&${t}-middle`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,$.bf)(e.paddingSM)} ${(0,$.bf)(e.paddingLG)}`}}},[`&${t}-small`]:{[`${t}-row`]:{[`> ${t}-item-label, > ${t}-item-content`]:{padding:`${(0,$.bf)(e.paddingXS)} ${(0,$.bf)(e.padding)}`}}}}}},w=e=>{const{componentCls:t,extraColor:a,itemPaddingBottom:l,itemPaddingEnd:i,colonMarginRight:u,colonMarginLeft:c,titleMarginBottom:C}=e;return{[t]:Object.assign(Object.assign(Object.assign({},(0,F.Wf)(e)),R(e)),{"&-rtl":{direction:"rtl"},[`${t}-header`]:{display:"flex",alignItems:"center",marginBottom:C},[`${t}-title`]:Object.assign(Object.assign({},F.vS),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${t}-extra`]:{marginInlineStart:"auto",color:a,fontSize:e.fontSize},[`${t}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${t}-row`]:{"> th, > td":{paddingBottom:l,paddingInlineEnd:i},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${t}-item-label`]:{color:e.colorTextTertiary,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${(0,$.bf)(c)} ${(0,$.bf)(u)}`},[`&${t}-item-no-colon::after`]:{content:'""'}},[`${t}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${t}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${t}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${t}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${t}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:0}}},"&-middle":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${t}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},V=e=>({labelBg:e.colorFillAlter,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText});var W=(0,M.I$)("Descriptions",e=>{const t=(0,g.IX)(e,{});return w(t)},V),N=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,l=Object.getOwnPropertySymbols(e);i<l.length;i++)t.indexOf(l[i])<0&&Object.prototype.propertyIsEnumerable.call(e,l[i])&&(a[l[i]]=e[l[i]]);return a};const B=e=>{const{prefixCls:t,title:a,extra:l,column:i,colon:u=!0,bordered:c,layout:C,children:L,className:m,rootClassName:s,style:d,size:x,labelStyle:D,contentStyle:_,items:ae}=e,q=N(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","items"]),{getPrefixCls:k,direction:ee,descriptions:Z}=r.useContext(y.E_),P=k("descriptions",t),X=(0,p.Z)(),te=r.useMemo(()=>{var ne;return typeof i=="number"?i:(ne=(0,v.m9)(X,Object.assign(Object.assign({},h),i)))!==null&&ne!==void 0?ne:3},[X,i]),fe=o(X,ae,L),ue=(0,I.Z)(x),ve=se(te,fe),[ge,pe,ye]=W(P),he=r.useMemo(()=>({labelStyle:D,contentStyle:_}),[D,_]);return ge(r.createElement(A.Provider,{value:he},r.createElement("div",Object.assign({className:E()(P,Z==null?void 0:Z.className,{[`${P}-${ue}`]:ue&&ue!=="default",[`${P}-bordered`]:!!c,[`${P}-rtl`]:ee==="rtl"},m,s,pe,ye),style:Object.assign(Object.assign({},Z==null?void 0:Z.style),d)},q),(a||l)&&r.createElement("div",{className:`${P}-header`},a&&r.createElement("div",{className:`${P}-title`},a),l&&r.createElement("div",{className:`${P}-extra`},l)),r.createElement("div",{className:`${P}-view`},r.createElement("table",null,r.createElement("tbody",null,ve.map((ne,me)=>r.createElement(ce,{key:me,index:me,colon:u,prefixCls:P,vertical:C==="vertical",bordered:c,row:ne}))))))))};B.Item=de;var H=B},71230:function(z,j,n){var r=n(92820);j.Z=r.Z}}]);
