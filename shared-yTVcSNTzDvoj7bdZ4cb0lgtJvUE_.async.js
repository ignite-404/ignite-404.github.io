"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4963],{39019:function(kn,Ct,b){b.d(Ct,{Z:function(){return Jr}});var h=b(67294),lt=b(93967),Ke=b.n(lt),Pe=b(87462),oe=b(74902),F=b(1413),ie=b(97685),Je=b(45987),dt=b(71002),Lt=b(82275),En=b(88708),xe=b(80334);function ve(n,i){return n[i]}function Mt(n,i){var d=new Set;return n.forEach(function(e){i.has(e)||d.add(e)}),d}function Zn(n){var i=n||{},d=i.disabled,e=i.disableCheckbox,o=i.checkable;return!!(d||e)||o===!1}function bn(n,i,d,e){for(var o=new Set(n),s=new Set,c=0;c<=d;c+=1){var t=i.get(c)||new Set;t.forEach(function(u){var f=u.key,v=u.node,g=u.children,y=g===void 0?[]:g;o.has(f)&&!e(v)&&y.filter(function(p){return!e(p.node)}).forEach(function(p){o.add(p.key)})})}for(var r=new Set,a=d;a>=0;a-=1){var l=i.get(a)||new Set;l.forEach(function(u){var f=u.parent,v=u.node;if(!(e(v)||!u.parent||r.has(u.parent.key))){if(e(u.parent.node)){r.add(f.key);return}var g=!0,y=!1;(f.children||[]).filter(function(p){return!e(p.node)}).forEach(function(p){var C=p.key,k=o.has(C);g&&!k&&(g=!1),!y&&(k||s.has(C))&&(y=!0)}),g&&o.add(f.key),y&&s.add(f.key),r.add(f.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Mt(s,o))}}function Dn(n,i,d,e,o){for(var s=new Set(n),c=new Set(i),t=0;t<=e;t+=1){var r=d.get(t)||new Set;r.forEach(function(f){var v=f.key,g=f.node,y=f.children,p=y===void 0?[]:y;!s.has(v)&&!c.has(v)&&!o(g)&&p.filter(function(C){return!o(C.node)}).forEach(function(C){s.delete(C.key)})})}c=new Set;for(var a=new Set,l=e;l>=0;l-=1){var u=d.get(l)||new Set;u.forEach(function(f){var v=f.parent,g=f.node;if(!(o(g)||!f.parent||a.has(f.parent.key))){if(o(f.parent.node)){a.add(v.key);return}var y=!0,p=!1;(v.children||[]).filter(function(C){return!o(C.node)}).forEach(function(C){var k=C.key,K=s.has(k);y&&!K&&(y=!1),!p&&(K||c.has(k))&&(p=!0)}),y||s.delete(v.key),p&&c.add(v.key),a.add(v.key)}})}return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(Mt(c,s))}}function Qe(n,i,d,e){var o=[],s;e?s=e:s=Zn;var c=new Set(n.filter(function(l){var u=!!ve(d,l);return u||o.push(l),u})),t=new Map,r=0;Object.keys(d).forEach(function(l){var u=d[l],f=u.level,v=t.get(f);v||(v=new Set,t.set(f,v)),v.add(u),r=Math.max(r,f)}),(0,xe.ZP)(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(l){return"'".concat(l,"'")}).join(", ")));var a;return i===!0?a=bn(c,t,r,s):a=Dn(c,i.halfCheckedKeys,t,r,s),a}var Rt=b(21770),Pn=function(n){var i=h.useRef({valueLabels:new Map});return h.useMemo(function(){var d=i.current.valueLabels,e=new Map,o=n.map(function(s){var c,t=s.value,r=(c=s.label)!==null&&c!==void 0?c:d.get(t);return e.set(t,r),(0,F.Z)((0,F.Z)({},s),{},{label:r})});return i.current.valueLabels=e,[o]},[n])},Tn=function(n,i,d,e){return h.useMemo(function(){var o=n.map(function(r){var a=r.value;return a}),s=i.map(function(r){var a=r.value;return a}),c=o.filter(function(r){return!e[r]});if(d){var t=Qe(o,!0,e);o=t.checkedKeys,s=t.halfCheckedKeys}return[Array.from(new Set([].concat((0,oe.Z)(c),(0,oe.Z)(o)))),s]},[n,i,d,e])},$t=b(50344),At=b(98423),wn=["children"];function Vt(n,i){return"".concat(n,"-").concat(i)}function On(n){return n&&n.type&&n.type.isTreeNode}function tt(n,i){return n!=null?n:i}function st(n){var i=n||{},d=i.title,e=i._title,o=i.key,s=i.children,c=d||"title";return{title:c,_title:e||[c],key:o||"key",children:s||"children"}}function la(n,i){var d=new Map;function e(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(o||[]).forEach(function(c){var t=c[i.key],r=c[i.children];warning(t!=null,"Tree node must have a certain key: [".concat(s).concat(t,"]"));var a=String(t);warning(!d.has(a)||t===null||t===void 0,"Same 'key' exist in the Tree: ".concat(a)),d.set(a,!0),e(r,"".concat(s).concat(a," > "))})}e(n)}function In(n){function i(d){var e=(0,$t.Z)(d);return e.map(function(o){if(!On(o))return(0,xe.ZP)(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var s=o.key,c=o.props,t=c.children,r=(0,Je.Z)(c,wn),a=(0,F.Z)({key:s},r),l=i(t);return l.length&&(a.children=l),a}).filter(function(o){return o})}return i(n)}function Kt(n,i,d){var e=st(d),o=e._title,s=e.key,c=e.children,t=new Set(i===!0?[]:i),r=[];function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return l.map(function(f,v){for(var g=Vt(u?u.pos:"0",v),y=tt(f[s],g),p,C=0;C<o.length;C+=1){var k=o[C];if(f[k]!==void 0){p=f[k];break}}var K=Object.assign((0,At.Z)(f,[].concat((0,oe.Z)(o),[s,c])),{title:p,key:y,parent:u,pos:g,children:null,data:f,isStart:[].concat((0,oe.Z)(u?u.isStart:[]),[v===0]),isEnd:[].concat((0,oe.Z)(u?u.isEnd:[]),[v===l.length-1])});return r.push(K),i===!0||t.has(y)?K.children=a(f[c]||[],K):K.children=[],K})}return a(n),r}function Ln(n,i,d){var e={};(0,dt.Z)(d)==="object"?e=d:e={externalGetKey:d},e=e||{};var o=e,s=o.childrenPropName,c=o.externalGetKey,t=o.fieldNames,r=st(t),a=r.key,l=r.children,u=s||l,f;c?typeof c=="string"?f=function(y){return y[c]}:typeof c=="function"&&(f=function(y){return c(y)}):f=function(y,p){return tt(y[a],p)};function v(g,y,p,C){var k=g?g[u]:n,K=g?Vt(p.pos,y):"0",N=g?[].concat((0,oe.Z)(C),[g]):[];if(g){var E=f(g,K),S={node:g,index:y,pos:K,key:E,parentPos:p.node?p.pos:null,level:p.level+1,nodes:N};i(S)}k&&k.forEach(function(w,Z){v(w,Z,{node:g,pos:K,level:p?p.level+1:-1},N)})}v(null)}function Ht(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=i.initWrapper,e=i.processEntity,o=i.onProcessFinished,s=i.externalGetKey,c=i.childrenPropName,t=i.fieldNames,r=arguments.length>2?arguments[2]:void 0,a=s||r,l={},u={},f={posEntities:l,keyEntities:u};return d&&(f=d(f)||f),Ln(n,function(v){var g=v.node,y=v.index,p=v.pos,C=v.key,k=v.parentPos,K=v.level,N=v.nodes,E={node:g,nodes:N,index:y,key:C,pos:p,level:K},S=tt(C,p);l[p]=E,u[S]=E,E.parent=l[k],E.parent&&(E.parent.children=E.parent.children||[],E.parent.children.push(E)),e&&e(E,f)},{externalGetKey:a,childrenPropName:c,fieldNames:t}),o&&o(f),f}function nt(n,i){var d=i.expandedKeys,e=i.selectedKeys,o=i.loadedKeys,s=i.loadingKeys,c=i.checkedKeys,t=i.halfCheckedKeys,r=i.dragOverNodeKey,a=i.dropPosition,l=i.keyEntities,u=ve(l,n),f={eventKey:n,expanded:d.indexOf(n)!==-1,selected:e.indexOf(n)!==-1,loaded:o.indexOf(n)!==-1,loading:s.indexOf(n)!==-1,checked:c.indexOf(n)!==-1,halfChecked:t.indexOf(n)!==-1,pos:String(u?u.pos:""),dragOver:r===n&&a===0,dragOverGapTop:r===n&&a===-1,dragOverGapBottom:r===n&&a===1};return f}function J(n){var i=n.data,d=n.expanded,e=n.selected,o=n.checked,s=n.loaded,c=n.loading,t=n.halfChecked,r=n.dragOver,a=n.dragOverGapTop,l=n.dragOverGapBottom,u=n.pos,f=n.active,v=n.eventKey,g=(0,F.Z)((0,F.Z)({},i),{},{expanded:d,selected:e,checked:o,loaded:s,loading:c,halfChecked:t,dragOver:r,dragOverGapTop:a,dragOverGapBottom:l,pos:u,active:f,key:v});return"props"in g||Object.defineProperty(g,"props",{get:function(){return(0,xe.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),g}var Mn=function(n,i){return h.useMemo(function(){var d=Ht(n,{fieldNames:i,initWrapper:function(o){return(0,F.Z)((0,F.Z)({},o),{},{valueEntities:new Map})},processEntity:function(o,s){var c=o.node[i.value];if(0)var t;s.valueEntities.set(c,o)}});return d},[n,i])},m=b(4942),Rn=function(){return null},xt=Rn,$n=["children","value"];function Ft(n){return(0,$t.Z)(n).map(function(i){if(!h.isValidElement(i)||!i.type)return null;var d=i,e=d.key,o=d.props,s=o.children,c=o.value,t=(0,Je.Z)(o,$n),r=(0,F.Z)({key:e,value:c},t),a=Ft(s);return a.length&&(r.children=a),r}).filter(function(i){return i})}function Nt(n){if(!n)return n;var i=(0,F.Z)({},n);return"props"in i||Object.defineProperty(i,"props",{get:function(){return(0,xe.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),i}}),i}function An(n,i,d,e,o,s){var c=null,t=null;function r(){function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return l.map(function(v,g){var y="".concat(u,"-").concat(g),p=v[s.value],C=d.includes(p),k=a(v[s.children]||[],y,C),K=h.createElement(xt,v,k.map(function(E){return E.node}));if(i===p&&(c=K),C){var N={pos:y,node:K,children:k};return f||t.push(N),N}return null}).filter(function(v){return v})}t||(t=[],a(e),t.sort(function(l,u){var f=l.node.props.value,v=u.node.props.value,g=d.indexOf(f),y=d.indexOf(v);return g-y}))}Object.defineProperty(n,"triggerNode",{get:function(){return(0,xe.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),r(),c}}),Object.defineProperty(n,"allCheckedNodes",{get:function(){return(0,xe.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),r(),o?t:t.map(function(l){var u=l.node;return u})}})}var Vn=function(n,i,d){var e=d.treeNodeFilterProp,o=d.filterTreeNode,s=d.fieldNames,c=s.children;return h.useMemo(function(){if(!i||o===!1)return n;var t;if(typeof o=="function")t=o;else{var r=i.toUpperCase();t=function(u,f){var v=f[e];return String(v).toUpperCase().includes(r)}}function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return l.reduce(function(f,v){var g=v[c],y=u||t(i,Nt(v)),p=a(g||[],y);return(y||p.length)&&f.push((0,F.Z)((0,F.Z)({},v),{},(0,m.Z)({isLeaf:void 0},c,p))),f},[])}return a(n)},[n,i,c,e,o])};function Wt(n){var i=h.useRef();i.current=n;var d=h.useCallback(function(){return i.current.apply(i,arguments)},[]);return d}function Hn(n,i){var d=i.id,e=i.pId,o=i.rootPId,s={},c=[],t=n.map(function(r){var a=(0,F.Z)({},r),l=a[d];return s[l]=a,a.key=a.key||l,a});return t.forEach(function(r){var a=r[e],l=s[a];l&&(l.children=l.children||[],l.children.push(r)),(a===o||!l&&o===null)&&c.push(r)}),c}function Fn(n,i,d){return h.useMemo(function(){return n?d?Hn(n,(0,F.Z)({id:"id",pId:"pId",rootPId:null},d!==!0?d:{})):n:Ft(i)},[i,d,n])}var Wn=h.createContext(null),Ut=Wn,jt=b(15671),Bt=b(43144),x=b(97326),Gt=b(60136),zt=b(73568),Ne=b(15105),Yt=b(64217),St=h.createContext(null);function Un(n){var i=n.dropPosition,d=n.dropLevelOffset,e=n.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(i){case-1:o.top=0,o.left=-d*e;break;case 1:o.bottom=0,o.left=-d*e;break;case 0:o.bottom=0,o.left=e;break}return h.createElement("div",{style:o})}var Xt=b(36459),ct=b(8410),jn=b(85344),Bn=b(29372),Gn=function(i){for(var d=i.prefixCls,e=i.level,o=i.isStart,s=i.isEnd,c="".concat(d,"-indent-unit"),t=[],r=0;r<e;r+=1)t.push(h.createElement("span",{key:r,className:Ke()(c,(0,m.Z)((0,m.Z)({},"".concat(c,"-start"),o[r]),"".concat(c,"-end"),s[r]))}));return h.createElement("span",{"aria-hidden":"true",className:"".concat(d,"-indent")},t)},zn=h.memo(Gn),Yn=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Jt="open",Qt="close",Xn="---",Jn=function(n){(0,Gt.Z)(d,n);var i=(0,zt.Z)(d);function d(){var e;(0,jt.Z)(this,d);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return e=i.call.apply(i,[this].concat(s)),(0,m.Z)((0,x.Z)(e),"state",{dragNodeHighlight:!1}),(0,m.Z)((0,x.Z)(e),"selectHandle",void 0),(0,m.Z)((0,x.Z)(e),"cacheIndent",void 0),(0,m.Z)((0,x.Z)(e),"onSelectorClick",function(t){var r=e.props.context.onNodeClick;r(t,J(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)}),(0,m.Z)((0,x.Z)(e),"onSelectorDoubleClick",function(t){var r=e.props.context.onNodeDoubleClick;r(t,J(e.props))}),(0,m.Z)((0,x.Z)(e),"onSelect",function(t){if(!e.isDisabled()){var r=e.props.context.onNodeSelect;r(t,J(e.props))}}),(0,m.Z)((0,x.Z)(e),"onCheck",function(t){if(!e.isDisabled()){var r=e.props,a=r.disableCheckbox,l=r.checked,u=e.props.context.onNodeCheck;if(!(!e.isCheckable()||a)){var f=!l;u(t,J(e.props),f)}}}),(0,m.Z)((0,x.Z)(e),"onMouseEnter",function(t){var r=e.props.context.onNodeMouseEnter;r(t,J(e.props))}),(0,m.Z)((0,x.Z)(e),"onMouseLeave",function(t){var r=e.props.context.onNodeMouseLeave;r(t,J(e.props))}),(0,m.Z)((0,x.Z)(e),"onContextMenu",function(t){var r=e.props.context.onNodeContextMenu;r(t,J(e.props))}),(0,m.Z)((0,x.Z)(e),"onDragStart",function(t){var r=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),r(t,(0,x.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(a){}}),(0,m.Z)((0,x.Z)(e),"onDragEnter",function(t){var r=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),r(t,(0,x.Z)(e))}),(0,m.Z)((0,x.Z)(e),"onDragOver",function(t){var r=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),r(t,(0,x.Z)(e))}),(0,m.Z)((0,x.Z)(e),"onDragLeave",function(t){var r=e.props.context.onNodeDragLeave;t.stopPropagation(),r(t,(0,x.Z)(e))}),(0,m.Z)((0,x.Z)(e),"onDragEnd",function(t){var r=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,(0,x.Z)(e))}),(0,m.Z)((0,x.Z)(e),"onDrop",function(t){var r=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,(0,x.Z)(e))}),(0,m.Z)((0,x.Z)(e),"onExpand",function(t){var r=e.props,a=r.loading,l=r.context.onNodeExpand;a||l(t,J(e.props))}),(0,m.Z)((0,x.Z)(e),"setSelectHandle",function(t){e.selectHandle=t}),(0,m.Z)((0,x.Z)(e),"getNodeState",function(){var t=e.props.expanded;return e.isLeaf()?null:t?Jt:Qt}),(0,m.Z)((0,x.Z)(e),"hasChildren",function(){var t=e.props.eventKey,r=e.props.context.keyEntities,a=ve(r,t)||{},l=a.children;return!!(l||[]).length}),(0,m.Z)((0,x.Z)(e),"isLeaf",function(){var t=e.props,r=t.isLeaf,a=t.loaded,l=e.props.context.loadData,u=e.hasChildren();return r===!1?!1:r||!l&&!u||l&&a&&!u}),(0,m.Z)((0,x.Z)(e),"isDisabled",function(){var t=e.props.disabled,r=e.props.context.disabled;return!!(r||t)}),(0,m.Z)((0,x.Z)(e),"isCheckable",function(){var t=e.props.checkable,r=e.props.context.checkable;return!r||t===!1?!1:r}),(0,m.Z)((0,x.Z)(e),"syncLoadData",function(t){var r=t.expanded,a=t.loading,l=t.loaded,u=e.props.context,f=u.loadData,v=u.onNodeLoad;a||f&&r&&!e.isLeaf()&&!l&&v(J(e.props))}),(0,m.Z)((0,x.Z)(e),"isDraggable",function(){var t=e.props,r=t.data,a=t.context.draggable;return!!(a&&(!a.nodeDraggable||a.nodeDraggable(r)))}),(0,m.Z)((0,x.Z)(e),"renderDragHandler",function(){var t=e.props.context,r=t.draggable,a=t.prefixCls;return r!=null&&r.icon?h.createElement("span",{className:"".concat(a,"-draggable-icon")},r.icon):null}),(0,m.Z)((0,x.Z)(e),"renderSwitcherIconDom",function(t){var r=e.props.switcherIcon,a=e.props.context.switcherIcon,l=r||a;return typeof l=="function"?l((0,F.Z)((0,F.Z)({},e.props),{},{isLeaf:t})):l}),(0,m.Z)((0,x.Z)(e),"renderSwitcher",function(){var t=e.props.expanded,r=e.props.context.prefixCls;if(e.isLeaf()){var a=e.renderSwitcherIconDom(!0);return a!==!1?h.createElement("span",{className:Ke()("".concat(r,"-switcher"),"".concat(r,"-switcher-noop"))},a):null}var l=Ke()("".concat(r,"-switcher"),"".concat(r,"-switcher_").concat(t?Jt:Qt)),u=e.renderSwitcherIconDom(!1);return u!==!1?h.createElement("span",{onClick:e.onExpand,className:l},u):null}),(0,m.Z)((0,x.Z)(e),"renderCheckbox",function(){var t=e.props,r=t.checked,a=t.halfChecked,l=t.disableCheckbox,u=e.props.context.prefixCls,f=e.isDisabled(),v=e.isCheckable();if(!v)return null;var g=typeof v!="boolean"?v:null;return h.createElement("span",{className:Ke()("".concat(u,"-checkbox"),r&&"".concat(u,"-checkbox-checked"),!r&&a&&"".concat(u,"-checkbox-indeterminate"),(f||l)&&"".concat(u,"-checkbox-disabled")),onClick:e.onCheck},g)}),(0,m.Z)((0,x.Z)(e),"renderIcon",function(){var t=e.props.loading,r=e.props.context.prefixCls;return h.createElement("span",{className:Ke()("".concat(r,"-iconEle"),"".concat(r,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(r,"-icon_loading"))})}),(0,m.Z)((0,x.Z)(e),"renderSelector",function(){var t=e.state.dragNodeHighlight,r=e.props,a=r.title,l=a===void 0?Xn:a,u=r.selected,f=r.icon,v=r.loading,g=r.data,y=e.props.context,p=y.prefixCls,C=y.showIcon,k=y.icon,K=y.loadData,N=y.titleRender,E=e.isDisabled(),S="".concat(p,"-node-content-wrapper"),w;if(C){var Z=f||k;w=Z?h.createElement("span",{className:Ke()("".concat(p,"-iconEle"),"".concat(p,"-icon__customize"))},typeof Z=="function"?Z(e.props):Z):e.renderIcon()}else K&&v&&(w=e.renderIcon());var P;typeof l=="function"?P=l(g):N?P=N(g):P=l;var D=h.createElement("span",{className:"".concat(p,"-title")},P);return h.createElement("span",{ref:e.setSelectHandle,title:typeof l=="string"?l:"",className:Ke()("".concat(S),"".concat(S,"-").concat(e.getNodeState()||"normal"),!E&&(u||t)&&"".concat(p,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},w,D,e.renderDropIndicator())}),(0,m.Z)((0,x.Z)(e),"renderDropIndicator",function(){var t=e.props,r=t.disabled,a=t.eventKey,l=e.props.context,u=l.draggable,f=l.dropLevelOffset,v=l.dropPosition,g=l.prefixCls,y=l.indent,p=l.dropIndicatorRender,C=l.dragOverNodeKey,k=l.direction,K=!!u,N=!r&&K&&C===a,E=y!=null?y:e.cacheIndent;return e.cacheIndent=y,N?p({dropPosition:v,dropLevelOffset:f,indent:E,prefixCls:g,direction:k}):null}),e}return(0,Bt.Z)(d,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var o=this.props.selectable,s=this.props.context.selectable;return typeof o=="boolean"?o:s}},{key:"render",value:function(){var o,s=this.props,c=s.eventKey,t=s.className,r=s.style,a=s.dragOver,l=s.dragOverGapTop,u=s.dragOverGapBottom,f=s.isLeaf,v=s.isStart,g=s.isEnd,y=s.expanded,p=s.selected,C=s.checked,k=s.halfChecked,K=s.loading,N=s.domRef,E=s.active,S=s.data,w=s.onMouseMove,Z=s.selectable,P=(0,Je.Z)(s,Yn),D=this.props.context,T=D.prefixCls,O=D.filterTreeNode,A=D.keyEntities,H=D.dropContainerKey,j=D.dropTargetKey,Y=D.draggingNodeKey,M=this.isDisabled(),Q=(0,Yt.Z)(P,{aria:!0,data:!0}),le=ve(A,c)||{},te=le.level,Se=g[g.length-1],_=this.isDraggable(),pe=!M&&_,X=Y===c,B=Z!==void 0?{"aria-selected":!!Z}:void 0;return h.createElement("div",(0,Pe.Z)({ref:N,className:Ke()(t,"".concat(T,"-treenode"),(o={},(0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)(o,"".concat(T,"-treenode-disabled"),M),"".concat(T,"-treenode-switcher-").concat(y?"open":"close"),!f),"".concat(T,"-treenode-checkbox-checked"),C),"".concat(T,"-treenode-checkbox-indeterminate"),k),"".concat(T,"-treenode-selected"),p),"".concat(T,"-treenode-loading"),K),"".concat(T,"-treenode-active"),E),"".concat(T,"-treenode-leaf-last"),Se),"".concat(T,"-treenode-draggable"),_),"dragging",X),(0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)(o,"drop-target",j===c),"drop-container",H===c),"drag-over",!M&&a),"drag-over-gap-top",!M&&l),"drag-over-gap-bottom",!M&&u),"filter-node",O&&O(J(this.props))))),style:r,draggable:pe,"aria-grabbed":X,onDragStart:pe?this.onDragStart:void 0,onDragEnter:_?this.onDragEnter:void 0,onDragOver:_?this.onDragOver:void 0,onDragLeave:_?this.onDragLeave:void 0,onDrop:_?this.onDrop:void 0,onDragEnd:_?this.onDragEnd:void 0,onMouseMove:w},B,Q),h.createElement(zn,{prefixCls:T,level:te,isStart:v,isEnd:g}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),d}(h.Component),kt=function(i){return h.createElement(St.Consumer,null,function(d){return h.createElement(Jn,(0,Pe.Z)({},i,{context:d}))})};kt.displayName="TreeNode",kt.isTreeNode=1;var Et=kt;function Qn(n,i){var d=h.useState(!1),e=(0,ie.Z)(d,2),o=e[0],s=e[1];(0,ct.Z)(function(){if(o)return n(),function(){i()}},[o]),(0,ct.Z)(function(){return s(!0),function(){s(!1)}},[])}var qn=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],qt=function(i,d){var e=i.className,o=i.style,s=i.motion,c=i.motionNodes,t=i.motionType,r=i.onMotionStart,a=i.onMotionEnd,l=i.active,u=i.treeNodeRequiredProps,f=(0,Je.Z)(i,qn),v=h.useState(!0),g=(0,ie.Z)(v,2),y=g[0],p=g[1],C=h.useContext(St),k=C.prefixCls,K=c&&t!=="hide";(0,ct.Z)(function(){c&&K!==y&&p(K)},[c]);var N=function(){c&&r()},E=h.useRef(!1),S=function(){c&&!E.current&&(E.current=!0,a())};Qn(N,S);var w=function(P){K===P&&S()};return c?h.createElement(Bn.ZP,(0,Pe.Z)({ref:d,visible:y},s,{motionAppear:t==="show",onVisibleChanged:w}),function(Z,P){var D=Z.className,T=Z.style;return h.createElement("div",{ref:P,className:Ke()("".concat(k,"-treenode-motion"),D),style:T},c.map(function(O){var A=Object.assign({},((0,Xt.Z)(O.data),O.data)),H=O.title,j=O.key,Y=O.isStart,M=O.isEnd;delete A.children;var Q=nt(j,u);return h.createElement(Et,(0,Pe.Z)({},A,Q,{title:H,active:l,data:O.data,key:j,isStart:Y,isEnd:M}))}))}):h.createElement(Et,(0,Pe.Z)({domRef:d,className:e,style:o},f,{active:l}))};qt.displayName="MotionTreeNode";var _n=h.forwardRef(qt),er=_n;function tr(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],d=n.length,e=i.length;if(Math.abs(d-e)!==1)return{add:!1,key:null};function o(s,c){var t=new Map;s.forEach(function(a){t.set(a,!0)});var r=c.filter(function(a){return!t.has(a)});return r.length===1?r[0]:null}return d<e?{add:!0,key:o(n,i)}:{add:!1,key:o(i,n)}}function _t(n,i,d){var e=n.findIndex(function(t){return t.key===d}),o=n[e+1],s=i.findIndex(function(t){return t.key===d});if(o){var c=i.findIndex(function(t){return t.key===o.key});return i.slice(s+1,c)}return i.slice(s+1)}var nr=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],en={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},rr=function(){},Ge="RC_TREE_MOTION_".concat(Math.random()),Zt={key:Ge},tn={key:Ge,level:0,index:0,pos:"0",node:Zt,nodes:[Zt]},nn={parent:null,children:[],pos:tn.pos,data:Zt,title:null,key:Ge,isStart:[],isEnd:[]};function rn(n,i,d,e){return i===!1||!d?n:n.slice(0,Math.ceil(d/e)+1)}function an(n){var i=n.key,d=n.pos;return tt(i,d)}function ar(n){for(var i=String(n.data.key),d=n;d.parent;)d=d.parent,i="".concat(d.data.key," > ").concat(i);return i}var on=h.forwardRef(function(n,i){var d=n.prefixCls,e=n.data,o=n.selectable,s=n.checkable,c=n.expandedKeys,t=n.selectedKeys,r=n.checkedKeys,a=n.loadedKeys,l=n.loadingKeys,u=n.halfCheckedKeys,f=n.keyEntities,v=n.disabled,g=n.dragging,y=n.dragOverNodeKey,p=n.dropPosition,C=n.motion,k=n.height,K=n.itemHeight,N=n.virtual,E=n.focusable,S=n.activeItem,w=n.focused,Z=n.tabIndex,P=n.onKeyDown,D=n.onFocus,T=n.onBlur,O=n.onActiveChange,A=n.onListChangeStart,H=n.onListChangeEnd,j=(0,Je.Z)(n,nr),Y=h.useRef(null),M=h.useRef(null);h.useImperativeHandle(i,function(){return{scrollTo:function(ce){Y.current.scrollTo(ce)},getIndentWidth:function(){return M.current.offsetWidth}}});var Q=h.useState(c),le=(0,ie.Z)(Q,2),te=le[0],Se=le[1],_=h.useState(e),pe=(0,ie.Z)(_,2),X=pe[0],B=pe[1],Ee=h.useState(e),ne=(0,ie.Z)(Ee,2),ke=ne[0],de=ne[1],q=h.useState([]),Ze=(0,ie.Z)(q,2),Ie=Ze[0],be=Ze[1],Le=h.useState(null),he=(0,ie.Z)(Le,2),Me=he[0],Re=he[1],We=h.useRef(e);We.current=e;function se(){var L=We.current;B(L),de(L),be([]),Re(null),H()}(0,ct.Z)(function(){Se(c);var L=tr(te,c);if(L.key!==null)if(L.add){var ce=X.findIndex(function(ge){var ee=ge.key;return ee===L.key}),ue=rn(_t(X,e,L.key),N,k,K),re=X.slice();re.splice(ce+1,0,nn),de(re),be(ue),Re("show")}else{var fe=e.findIndex(function(ge){var ee=ge.key;return ee===L.key}),W=rn(_t(e,X,L.key),N,k,K),I=e.slice();I.splice(fe+1,0,nn),de(I),be(W),Re("hide")}else X!==e&&(B(e),de(e))},[c,e]),h.useEffect(function(){g||se()},[g]);var De=C?ke:e,Te={expandedKeys:c,selectedKeys:t,loadedKeys:a,loadingKeys:l,checkedKeys:r,halfCheckedKeys:u,dragOverNodeKey:y,dropPosition:p,keyEntities:f};return h.createElement(h.Fragment,null,w&&S&&h.createElement("span",{style:en,"aria-live":"assertive"},ar(S)),h.createElement("div",null,h.createElement("input",{style:en,disabled:E===!1||v,tabIndex:E!==!1?Z:null,onKeyDown:P,onFocus:D,onBlur:T,value:"",onChange:rr,"aria-label":"for screen reader"})),h.createElement("div",{className:"".concat(d,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},h.createElement("div",{className:"".concat(d,"-indent")},h.createElement("div",{ref:M,className:"".concat(d,"-indent-unit")}))),h.createElement(jn.Z,(0,Pe.Z)({},j,{data:De,itemKey:an,height:k,fullHeight:!1,virtual:N,itemHeight:K,prefixCls:"".concat(d,"-list"),ref:Y,onVisibleChange:function(ce,ue){var re=new Set(ce),fe=ue.filter(function(W){return!re.has(W)});fe.some(function(W){return an(W)===Ge})&&se()}}),function(L){var ce=L.pos,ue=Object.assign({},((0,Xt.Z)(L.data),L.data)),re=L.title,fe=L.key,W=L.isStart,I=L.isEnd,ge=tt(fe,ce);delete ue.key,delete ue.children;var ee=nt(ge,Te);return h.createElement(er,(0,Pe.Z)({},ue,ee,{title:re,active:!!S&&fe===S.key,pos:ce,data:L.data,isStart:W,isEnd:I,motion:C,motionNodes:fe===Ge?Ie:null,motionType:Me,onMotionStart:A,onMotionEnd:se,treeNodeRequiredProps:Te,onMouseMove:function(){O(null)}}))}))});on.displayName="NodeList";var or=on,ir=null;function Oe(n,i){if(!n)return[];var d=n.slice(),e=d.indexOf(i);return e>=0&&d.splice(e,1),d}function Fe(n,i){var d=(n||[]).slice();return d.indexOf(i)===-1&&d.push(i),d}function bt(n){return n.split("-")}function lr(n,i){var d=[],e=ve(i,n);function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(c){var t=c.key,r=c.children;d.push(t),o(r)})}return o(e.children),d}function dr(n){if(n.parent){var i=bt(n.pos);return Number(i[i.length-1])===n.parent.children.length-1}return!1}function sr(n){var i=bt(n.pos);return Number(i[i.length-1])===0}function ln(n,i,d,e,o,s,c,t,r,a){var l,u=n.clientX,f=n.clientY,v=n.target.getBoundingClientRect(),g=v.top,y=v.height,p=(a==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-u),C=(p-12)/e,k=r.filter(function(Y){var M;return(M=t[Y])===null||M===void 0||(M=M.children)===null||M===void 0?void 0:M.length}),K=ve(t,d.props.eventKey);if(f<g+y/2){var N=c.findIndex(function(Y){return Y.key===K.key}),E=N<=0?0:N-1,S=c[E].key;K=ve(t,S)}var w=K.key,Z=K,P=K.key,D=0,T=0;if(!k.includes(w))for(var O=0;O<C&&dr(K);O+=1)K=K.parent,T+=1;var A=i.props.data,H=K.node,j=!0;return sr(K)&&K.level===0&&f<g+y/2&&s({dragNode:A,dropNode:H,dropPosition:-1})&&K.key===d.props.eventKey?D=-1:(Z.children||[]).length&&k.includes(P)?s({dragNode:A,dropNode:H,dropPosition:0})?D=0:j=!1:T===0?C>-1.5?s({dragNode:A,dropNode:H,dropPosition:1})?D=1:j=!1:s({dragNode:A,dropNode:H,dropPosition:0})?D=0:s({dragNode:A,dropNode:H,dropPosition:1})?D=1:j=!1:s({dragNode:A,dropNode:H,dropPosition:1})?D=1:j=!1,{dropPosition:D,dropLevelOffset:T,dropTargetKey:K.key,dropTargetPos:K.pos,dragOverNodeKey:P,dropContainerKey:D===0?null:((l=K.parent)===null||l===void 0?void 0:l.key)||null,dropAllowed:j}}function dn(n,i){if(n){var d=i.multiple;return d?n.slice():n.length?[n[0]]:n}}var cr=function(i){return i};function ur(n,i){if(!n)return[];var d=i||{},e=d.processProps,o=e===void 0?cr:e,s=Array.isArray(n)?n:[n];return s.map(function(c){var t=c.children,r=_objectWithoutProperties(c,ir),a=ur(t,i);return React.createElement(TreeNode,_extends({key:r.key},o(r)),a)})}function Dt(n){if(!n)return null;var i;if(Array.isArray(n))i={checkedKeys:n,halfCheckedKeys:void 0};else if((0,dt.Z)(n)==="object")i={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return(0,xe.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return i}function sn(n,i){var d=new Set;function e(o){if(!d.has(o)){var s=ve(i,o);if(s){d.add(o);var c=s.parent,t=s.node;t.disabled||c&&e(c.key)}}}return(n||[]).forEach(function(o){e(o)}),(0,oe.Z)(d)}var fr=10,Pt=function(n){(0,Gt.Z)(d,n);var i=(0,zt.Z)(d);function d(){var e;(0,jt.Z)(this,d);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return e=i.call.apply(i,[this].concat(s)),(0,m.Z)((0,x.Z)(e),"destroyed",!1),(0,m.Z)((0,x.Z)(e),"delayedDragEnterLogic",void 0),(0,m.Z)((0,x.Z)(e),"loadingRetryTimes",{}),(0,m.Z)((0,x.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:st()}),(0,m.Z)((0,x.Z)(e),"dragStartMousePosition",null),(0,m.Z)((0,x.Z)(e),"dragNode",void 0),(0,m.Z)((0,x.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,m.Z)((0,x.Z)(e),"listRef",h.createRef()),(0,m.Z)((0,x.Z)(e),"onNodeDragStart",function(t,r){var a=e.state,l=a.expandedKeys,u=a.keyEntities,f=e.props.onDragStart,v=r.props.eventKey;e.dragNode=r,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var g=Oe(l,v);e.setState({draggingNodeKey:v,dragChildrenKeys:lr(v,u),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),f==null||f({event:t,node:J(r.props)})}),(0,m.Z)((0,x.Z)(e),"onNodeDragEnter",function(t,r){var a=e.state,l=a.expandedKeys,u=a.keyEntities,f=a.dragChildrenKeys,v=a.flattenNodes,g=a.indent,y=e.props,p=y.onDragEnter,C=y.onExpand,k=y.allowDrop,K=y.direction,N=r.props,E=N.pos,S=N.eventKey,w=(0,x.Z)(e),Z=w.dragNode;if(e.currentMouseOverDroppableNodeKey!==S&&(e.currentMouseOverDroppableNodeKey=S),!Z){e.resetDragState();return}var P=ln(t,Z,r,g,e.dragStartMousePosition,k,v,u,l,K),D=P.dropPosition,T=P.dropLevelOffset,O=P.dropTargetKey,A=P.dropContainerKey,H=P.dropTargetPos,j=P.dropAllowed,Y=P.dragOverNodeKey;if(f.indexOf(O)!==-1||!j){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(M){clearTimeout(e.delayedDragEnterLogic[M])}),Z.props.eventKey!==r.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[E]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var M=(0,oe.Z)(l),Q=ve(u,r.props.eventKey);Q&&(Q.children||[]).length&&(M=Fe(l,r.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(M),C==null||C(M,{node:J(r.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),Z.props.eventKey===O&&T===0){e.resetDragState();return}e.setState({dragOverNodeKey:Y,dropPosition:D,dropLevelOffset:T,dropTargetKey:O,dropContainerKey:A,dropTargetPos:H,dropAllowed:j}),p==null||p({event:t,node:J(r.props),expandedKeys:l})}),(0,m.Z)((0,x.Z)(e),"onNodeDragOver",function(t,r){var a=e.state,l=a.dragChildrenKeys,u=a.flattenNodes,f=a.keyEntities,v=a.expandedKeys,g=a.indent,y=e.props,p=y.onDragOver,C=y.allowDrop,k=y.direction,K=(0,x.Z)(e),N=K.dragNode;if(N){var E=ln(t,N,r,g,e.dragStartMousePosition,C,u,f,v,k),S=E.dropPosition,w=E.dropLevelOffset,Z=E.dropTargetKey,P=E.dropContainerKey,D=E.dropAllowed,T=E.dropTargetPos,O=E.dragOverNodeKey;l.indexOf(Z)!==-1||!D||(N.props.eventKey===Z&&w===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():S===e.state.dropPosition&&w===e.state.dropLevelOffset&&Z===e.state.dropTargetKey&&P===e.state.dropContainerKey&&T===e.state.dropTargetPos&&D===e.state.dropAllowed&&O===e.state.dragOverNodeKey||e.setState({dropPosition:S,dropLevelOffset:w,dropTargetKey:Z,dropContainerKey:P,dropTargetPos:T,dropAllowed:D,dragOverNodeKey:O}),p==null||p({event:t,node:J(r.props)}))}}),(0,m.Z)((0,x.Z)(e),"onNodeDragLeave",function(t,r){e.currentMouseOverDroppableNodeKey===r.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var a=e.props.onDragLeave;a==null||a({event:t,node:J(r.props)})}),(0,m.Z)((0,x.Z)(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,m.Z)((0,x.Z)(e),"onNodeDragEnd",function(t,r){var a=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),a==null||a({event:t,node:J(r.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,m.Z)((0,x.Z)(e),"onNodeDrop",function(t,r){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=e.state,f=u.dragChildrenKeys,v=u.dropPosition,g=u.dropTargetKey,y=u.dropTargetPos,p=u.dropAllowed;if(p){var C=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),g!==null){var k=(0,F.Z)((0,F.Z)({},nt(g,e.getTreeNodeRequiredProps())),{},{active:((a=e.getActiveItem())===null||a===void 0?void 0:a.key)===g,data:ve(e.state.keyEntities,g).node}),K=f.indexOf(g)!==-1;(0,xe.ZP)(!K,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var N=bt(y),E={event:t,node:J(k),dragNode:e.dragNode?J(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(f),dropToGap:v!==0,dropPosition:v+Number(N[N.length-1])};l||C==null||C(E),e.dragNode=null}}}),(0,m.Z)((0,x.Z)(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,m.Z)((0,x.Z)(e),"triggerExpandActionExpand",function(t,r){var a=e.state,l=a.expandedKeys,u=a.flattenNodes,f=r.expanded,v=r.key,g=r.isLeaf;if(!(g||t.shiftKey||t.metaKey||t.ctrlKey)){var y=u.filter(function(C){return C.key===v})[0],p=J((0,F.Z)((0,F.Z)({},nt(v,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(f?Oe(l,v):Fe(l,v)),e.onNodeExpand(t,p)}}),(0,m.Z)((0,x.Z)(e),"onNodeClick",function(t,r){var a=e.props,l=a.onClick,u=a.expandAction;u==="click"&&e.triggerExpandActionExpand(t,r),l==null||l(t,r)}),(0,m.Z)((0,x.Z)(e),"onNodeDoubleClick",function(t,r){var a=e.props,l=a.onDoubleClick,u=a.expandAction;u==="doubleClick"&&e.triggerExpandActionExpand(t,r),l==null||l(t,r)}),(0,m.Z)((0,x.Z)(e),"onNodeSelect",function(t,r){var a=e.state.selectedKeys,l=e.state,u=l.keyEntities,f=l.fieldNames,v=e.props,g=v.onSelect,y=v.multiple,p=r.selected,C=r[f.key],k=!p;k?y?a=Fe(a,C):a=[C]:a=Oe(a,C);var K=a.map(function(N){var E=ve(u,N);return E?E.node:null}).filter(function(N){return N});e.setUncontrolledState({selectedKeys:a}),g==null||g(a,{event:"select",selected:k,node:r,selectedNodes:K,nativeEvent:t.nativeEvent})}),(0,m.Z)((0,x.Z)(e),"onNodeCheck",function(t,r,a){var l=e.state,u=l.keyEntities,f=l.checkedKeys,v=l.halfCheckedKeys,g=e.props,y=g.checkStrictly,p=g.onCheck,C=r.key,k,K={event:"check",node:r,checked:a,nativeEvent:t.nativeEvent};if(y){var N=a?Fe(f,C):Oe(f,C),E=Oe(v,C);k={checked:N,halfChecked:E},K.checkedNodes=N.map(function(T){return ve(u,T)}).filter(function(T){return T}).map(function(T){return T.node}),e.setUncontrolledState({checkedKeys:N})}else{var S=Qe([].concat((0,oe.Z)(f),[C]),!0,u),w=S.checkedKeys,Z=S.halfCheckedKeys;if(!a){var P=new Set(w);P.delete(C);var D=Qe(Array.from(P),{checked:!1,halfCheckedKeys:Z},u);w=D.checkedKeys,Z=D.halfCheckedKeys}k=w,K.checkedNodes=[],K.checkedNodesPositions=[],K.halfCheckedKeys=Z,w.forEach(function(T){var O=ve(u,T);if(O){var A=O.node,H=O.pos;K.checkedNodes.push(A),K.checkedNodesPositions.push({node:A,pos:H})}}),e.setUncontrolledState({checkedKeys:w},!1,{halfCheckedKeys:Z})}p==null||p(k,K)}),(0,m.Z)((0,x.Z)(e),"onNodeLoad",function(t){var r,a=t.key,l=e.state.keyEntities,u=ve(l,a);if(!(u!=null&&(r=u.children)!==null&&r!==void 0&&r.length)){var f=new Promise(function(v,g){e.setState(function(y){var p=y.loadedKeys,C=p===void 0?[]:p,k=y.loadingKeys,K=k===void 0?[]:k,N=e.props,E=N.loadData,S=N.onLoad;if(!E||C.indexOf(a)!==-1||K.indexOf(a)!==-1)return null;var w=E(t);return w.then(function(){var Z=e.state.loadedKeys,P=Fe(Z,a);S==null||S(P,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:P}),e.setState(function(D){return{loadingKeys:Oe(D.loadingKeys,a)}}),v()}).catch(function(Z){if(e.setState(function(D){return{loadingKeys:Oe(D.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=fr){var P=e.state.loadedKeys;(0,xe.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:Fe(P,a)}),v()}g(Z)}),{loadingKeys:Fe(K,a)}})});return f.catch(function(){}),f}}),(0,m.Z)((0,x.Z)(e),"onNodeMouseEnter",function(t,r){var a=e.props.onMouseEnter;a==null||a({event:t,node:r})}),(0,m.Z)((0,x.Z)(e),"onNodeMouseLeave",function(t,r){var a=e.props.onMouseLeave;a==null||a({event:t,node:r})}),(0,m.Z)((0,x.Z)(e),"onNodeContextMenu",function(t,r){var a=e.props.onRightClick;a&&(t.preventDefault(),a({event:t,node:r}))}),(0,m.Z)((0,x.Z)(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];t==null||t.apply(void 0,a)}),(0,m.Z)((0,x.Z)(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];t==null||t.apply(void 0,a)}),(0,m.Z)((0,x.Z)(e),"getTreeNodeRequiredProps",function(){var t=e.state,r=t.expandedKeys,a=t.selectedKeys,l=t.loadedKeys,u=t.loadingKeys,f=t.checkedKeys,v=t.halfCheckedKeys,g=t.dragOverNodeKey,y=t.dropPosition,p=t.keyEntities;return{expandedKeys:r||[],selectedKeys:a||[],loadedKeys:l||[],loadingKeys:u||[],checkedKeys:f||[],halfCheckedKeys:v||[],dragOverNodeKey:g,dropPosition:y,keyEntities:p}}),(0,m.Z)((0,x.Z)(e),"setExpandedKeys",function(t){var r=e.state,a=r.treeData,l=r.fieldNames,u=Kt(a,t,l);e.setUncontrolledState({expandedKeys:t,flattenNodes:u},!0)}),(0,m.Z)((0,x.Z)(e),"onNodeExpand",function(t,r){var a=e.state.expandedKeys,l=e.state,u=l.listChanging,f=l.fieldNames,v=e.props,g=v.onExpand,y=v.loadData,p=r.expanded,C=r[f.key];if(!u){var k=a.indexOf(C),K=!p;if((0,xe.ZP)(p&&k!==-1||!p&&k===-1,"Expand state not sync with index check"),K?a=Fe(a,C):a=Oe(a,C),e.setExpandedKeys(a),g==null||g(a,{node:r,expanded:K,nativeEvent:t.nativeEvent}),K&&y){var N=e.onNodeLoad(r);N&&N.then(function(){var E=Kt(e.state.treeData,a,f);e.setUncontrolledState({flattenNodes:E})}).catch(function(){var E=e.state.expandedKeys,S=Oe(E,C);e.setExpandedKeys(S)})}}}),(0,m.Z)((0,x.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,m.Z)((0,x.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,m.Z)((0,x.Z)(e),"onActiveChange",function(t){var r=e.state.activeKey,a=e.props,l=a.onActiveChange,u=a.itemScrollOffset,f=u===void 0?0:u;r!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:f}),l==null||l(t))}),(0,m.Z)((0,x.Z)(e),"getActiveItem",function(){var t=e.state,r=t.activeKey,a=t.flattenNodes;return r===null?null:a.find(function(l){var u=l.key;return u===r})||null}),(0,m.Z)((0,x.Z)(e),"offsetActiveKey",function(t){var r=e.state,a=r.flattenNodes,l=r.activeKey,u=a.findIndex(function(g){var y=g.key;return y===l});u===-1&&t<0&&(u=a.length),u=(u+t+a.length)%a.length;var f=a[u];if(f){var v=f.key;e.onActiveChange(v)}else e.onActiveChange(null)}),(0,m.Z)((0,x.Z)(e),"onKeyDown",function(t){var r=e.state,a=r.activeKey,l=r.expandedKeys,u=r.checkedKeys,f=r.fieldNames,v=e.props,g=v.onKeyDown,y=v.checkable,p=v.selectable;switch(t.which){case Ne.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case Ne.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var C=e.getActiveItem();if(C&&C.data){var k=e.getTreeNodeRequiredProps(),K=C.data.isLeaf===!1||!!(C.data[f.children]||[]).length,N=J((0,F.Z)((0,F.Z)({},nt(a,k)),{},{data:C.data,active:!0}));switch(t.which){case Ne.Z.LEFT:{K&&l.includes(a)?e.onNodeExpand({},N):C.parent&&e.onActiveChange(C.parent.key),t.preventDefault();break}case Ne.Z.RIGHT:{K&&!l.includes(a)?e.onNodeExpand({},N):C.children&&C.children.length&&e.onActiveChange(C.children[0].key),t.preventDefault();break}case Ne.Z.ENTER:case Ne.Z.SPACE:{y&&!N.disabled&&N.checkable!==!1&&!N.disableCheckbox?e.onNodeCheck({},N,!u.includes(a)):!y&&p&&!N.disabled&&N.selectable!==!1&&e.onNodeSelect({},N);break}}}g==null||g(t)}),(0,m.Z)((0,x.Z)(e),"setUncontrolledState",function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var l=!1,u=!0,f={};Object.keys(t).forEach(function(v){if(v in e.props){u=!1;return}l=!0,f[v]=t[v]}),l&&(!r||u)&&e.setState((0,F.Z)((0,F.Z)({},f),a))}}),(0,m.Z)((0,x.Z)(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return(0,Bt.Z)(d,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var o=this.props,s=o.activeKey,c=o.itemScrollOffset,t=c===void 0?0:c;s!==void 0&&s!==this.state.activeKey&&(this.setState({activeKey:s}),s!==null&&this.scrollTo({key:s,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var o=this.state,s=o.focused,c=o.flattenNodes,t=o.keyEntities,r=o.draggingNodeKey,a=o.activeKey,l=o.dropLevelOffset,u=o.dropContainerKey,f=o.dropTargetKey,v=o.dropPosition,g=o.dragOverNodeKey,y=o.indent,p=this.props,C=p.prefixCls,k=p.className,K=p.style,N=p.showLine,E=p.focusable,S=p.tabIndex,w=S===void 0?0:S,Z=p.selectable,P=p.showIcon,D=p.icon,T=p.switcherIcon,O=p.draggable,A=p.checkable,H=p.checkStrictly,j=p.disabled,Y=p.motion,M=p.loadData,Q=p.filterTreeNode,le=p.height,te=p.itemHeight,Se=p.virtual,_=p.titleRender,pe=p.dropIndicatorRender,X=p.onContextMenu,B=p.onScroll,Ee=p.direction,ne=p.rootClassName,ke=p.rootStyle,de=(0,Yt.Z)(this.props,{aria:!0,data:!0}),q;return O&&((0,dt.Z)(O)==="object"?q=O:typeof O=="function"?q={nodeDraggable:O}:q={}),h.createElement(St.Provider,{value:{prefixCls:C,selectable:Z,showIcon:P,icon:D,switcherIcon:T,draggable:q,draggingNodeKey:r,checkable:A,checkStrictly:H,disabled:j,keyEntities:t,dropLevelOffset:l,dropContainerKey:u,dropTargetKey:f,dropPosition:v,dragOverNodeKey:g,indent:y,direction:Ee,dropIndicatorRender:pe,loadData:M,filterTreeNode:Q,titleRender:_,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},h.createElement("div",{role:"tree",className:Ke()(C,k,ne,(0,m.Z)((0,m.Z)((0,m.Z)({},"".concat(C,"-show-line"),N),"".concat(C,"-focused"),s),"".concat(C,"-active-focused"),a!==null)),style:ke},h.createElement(or,(0,Pe.Z)({ref:this.listRef,prefixCls:C,style:K,data:c,disabled:j,selectable:Z,checkable:!!A,motion:Y,dragging:r!==null,height:le,itemHeight:te,virtual:Se,focusable:E,focused:s,tabIndex:w,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:X,onScroll:B},this.getTreeNodeRequiredProps(),de))))}}],[{key:"getDerivedStateFromProps",value:function(o,s){var c=s.prevProps,t={prevProps:o};function r(S){return!c&&S in o||c&&c[S]!==o[S]}var a,l=s.fieldNames;if(r("fieldNames")&&(l=st(o.fieldNames),t.fieldNames=l),r("treeData")?a=o.treeData:r("children")&&((0,xe.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),a=In(o.children)),a){t.treeData=a;var u=Ht(a,{fieldNames:l});t.keyEntities=(0,F.Z)((0,m.Z)({},Ge,tn),u.keyEntities)}var f=t.keyEntities||s.keyEntities;if(r("expandedKeys")||c&&r("autoExpandParent"))t.expandedKeys=o.autoExpandParent||!c&&o.defaultExpandParent?sn(o.expandedKeys,f):o.expandedKeys;else if(!c&&o.defaultExpandAll){var v=(0,F.Z)({},f);delete v[Ge],t.expandedKeys=Object.keys(v).map(function(S){return v[S].key})}else!c&&o.defaultExpandedKeys&&(t.expandedKeys=o.autoExpandParent||o.defaultExpandParent?sn(o.defaultExpandedKeys,f):o.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,a||t.expandedKeys){var g=Kt(a||s.treeData,t.expandedKeys||s.expandedKeys,l);t.flattenNodes=g}if(o.selectable&&(r("selectedKeys")?t.selectedKeys=dn(o.selectedKeys,o):!c&&o.defaultSelectedKeys&&(t.selectedKeys=dn(o.defaultSelectedKeys,o))),o.checkable){var y;if(r("checkedKeys")?y=Dt(o.checkedKeys)||{}:!c&&o.defaultCheckedKeys?y=Dt(o.defaultCheckedKeys)||{}:a&&(y=Dt(o.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),y){var p=y,C=p.checkedKeys,k=C===void 0?[]:C,K=p.halfCheckedKeys,N=K===void 0?[]:K;if(!o.checkStrictly){var E=Qe(k,!0,f);k=E.checkedKeys,N=E.halfCheckedKeys}t.checkedKeys=k,t.halfCheckedKeys=N}}return r("loadedKeys")&&(t.loadedKeys=o.loadedKeys),t}}]),d}(h.Component);(0,m.Z)(Pt,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Un,allowDrop:function(){return!0},expandAction:!1}),(0,m.Z)(Pt,"TreeNode",Et);var vr=Pt,pr=vr,hr=b(56982),gr=h.createContext(null),cn=gr;function yr(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}function mr(n){var i=n||{},d=i.label,e=i.value,o=i.children,s=e||"value";return{_title:d?[d]:["title","label"],value:s,key:s,children:o||"children"}}function Tt(n){return!n||n.disabled||n.disableCheckbox||n.checkable===!1}function Cr(n,i){var d=[];function e(o){o.forEach(function(s){var c=s[i.children];c&&(d.push(s[i.value]),e(c))})}return e(n),d}function un(n){return n==null}var Kr={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},xr=function(i,d){var e=(0,Lt.lk)(),o=e.prefixCls,s=e.multiple,c=e.searchValue,t=e.toggleOpen,r=e.open,a=e.notFoundContent,l=h.useContext(cn),u=l.virtual,f=l.listHeight,v=l.listItemHeight,g=l.listItemScrollOffset,y=l.treeData,p=l.fieldNames,C=l.onSelect,k=l.dropdownMatchSelectWidth,K=l.treeExpandAction,N=l.treeTitleRender,E=l.onPopupScroll,S=h.useContext(Ut),w=S.checkable,Z=S.checkedKeys,P=S.halfCheckedKeys,D=S.treeExpandedKeys,T=S.treeDefaultExpandAll,O=S.treeDefaultExpandedKeys,A=S.onTreeExpand,H=S.treeIcon,j=S.showTreeIcon,Y=S.switcherIcon,M=S.treeLine,Q=S.treeNodeFilterProp,le=S.loadData,te=S.treeLoadedKeys,Se=S.treeMotion,_=S.onTreeLoad,pe=S.keyEntities,X=h.useRef(),B=(0,hr.Z)(function(){return y},[r,y],function(W,I){return I[0]&&W[1]!==I[1]}),Ee=h.useState(null),ne=(0,ie.Z)(Ee,2),ke=ne[0],de=ne[1],q=pe[ke],Ze=h.useMemo(function(){return w?{checked:Z,halfChecked:P}:null},[w,Z,P]);h.useEffect(function(){if(r&&!s&&Z.length){var W;(W=X.current)===null||W===void 0||W.scrollTo({key:Z[0]}),de(Z[0])}},[r]);var Ie=String(c).toLowerCase(),be=function(I){return Ie?String(I[Q]).toLowerCase().includes(Ie):!1},Le=h.useState(O),he=(0,ie.Z)(Le,2),Me=he[0],Re=he[1],We=h.useState(null),se=(0,ie.Z)(We,2),De=se[0],Te=se[1],L=h.useMemo(function(){return D?(0,oe.Z)(D):c?De:Me},[Me,De,D,c]);h.useEffect(function(){c&&Te(Cr(y,p))},[c]);var ce=function(I){Re(I),Te(I),A&&A(I)},ue=function(I){I.preventDefault()},re=function(I,ge){var ee=ge.node;w&&Tt(ee)||(C(ee.key,{selected:!Z.includes(ee.key)}),s||t(!1))};if(h.useImperativeHandle(d,function(){var W;return{scrollTo:(W=X.current)===null||W===void 0?void 0:W.scrollTo,onKeyDown:function(ge){var ee,$e=ge.which;switch($e){case Ne.Z.UP:case Ne.Z.DOWN:case Ne.Z.LEFT:case Ne.Z.RIGHT:(ee=X.current)===null||ee===void 0||ee.onKeyDown(ge);break;case Ne.Z.ENTER:{if(q){var Ye=(q==null?void 0:q.node)||{},at=Ye.selectable,Ae=Ye.value;at!==!1&&re(null,{node:{key:ke},selected:!Z.includes(Ae)})}break}case Ne.Z.ESC:t(!1)}},onKeyUp:function(){}}}),B.length===0)return h.createElement("div",{role:"listbox",className:"".concat(o,"-empty"),onMouseDown:ue},a);var fe={fieldNames:p};return te&&(fe.loadedKeys=te),L&&(fe.expandedKeys=L),h.createElement("div",{onMouseDown:ue},q&&r&&h.createElement("span",{style:Kr,"aria-live":"assertive"},q.node.value),h.createElement(pr,(0,Pe.Z)({ref:X,focusable:!1,prefixCls:"".concat(o,"-tree"),treeData:B,height:f,itemHeight:v,itemScrollOffset:g,virtual:u!==!1&&k!==!1,multiple:s,icon:H,showIcon:j,switcherIcon:Y,showLine:M,loadData:c?null:le,motion:Se,activeKey:ke,checkable:w,checkStrictly:!0,checkedKeys:Ze,selectedKeys:w?[]:Z,defaultExpandAll:T,titleRender:N},fe,{onActiveChange:de,onSelect:re,onCheck:re,onExpand:ce,onLoad:_,filterTreeNode:be,expandAction:K,onScroll:E})))},Nr=h.forwardRef(xr),Sr=Nr,wt="SHOW_ALL",Ot="SHOW_PARENT",ut="SHOW_CHILD";function fn(n,i,d,e){var o=new Set(n);return i===ut?n.filter(function(s){var c=d[s];return!(c&&c.children&&c.children.some(function(t){var r=t.node;return o.has(r[e.value])})&&c.children.every(function(t){var r=t.node;return Tt(r)||o.has(r[e.value])}))}):i===Ot?n.filter(function(s){var c=d[s],t=c?c.parent:null;return!(t&&!Tt(t.node)&&o.has(t.key))}):n}function da(n){var i=n.searchPlaceholder,d=n.treeCheckStrictly,e=n.treeCheckable,o=n.labelInValue,s=n.value,c=n.multiple;warning(!i,"`searchPlaceholder` has been removed."),d&&o===!1&&warning(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(o||d)&&warning(toArray(s).every(function(t){return t&&_typeof(t)==="object"&&"value"in t}),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),d||c||e?warning(!s||Array.isArray(s),"`value` should be an array when `TreeSelect` is checkable or multiple."):warning(!Array.isArray(s),"`value` should not be array when `TreeSelect` is single mode.")}var sa=null,kr=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function Er(n){return!n||(0,dt.Z)(n)!=="object"}var Zr=h.forwardRef(function(n,i){var d=n.id,e=n.prefixCls,o=e===void 0?"rc-tree-select":e,s=n.value,c=n.defaultValue,t=n.onChange,r=n.onSelect,a=n.onDeselect,l=n.searchValue,u=n.inputValue,f=n.onSearch,v=n.autoClearSearchValue,g=v===void 0?!0:v,y=n.filterTreeNode,p=n.treeNodeFilterProp,C=p===void 0?"value":p,k=n.showCheckedStrategy,K=n.treeNodeLabelProp,N=n.multiple,E=n.treeCheckable,S=n.treeCheckStrictly,w=n.labelInValue,Z=n.fieldNames,P=n.treeDataSimpleMode,D=n.treeData,T=n.children,O=n.loadData,A=n.treeLoadedKeys,H=n.onTreeLoad,j=n.treeDefaultExpandAll,Y=n.treeExpandedKeys,M=n.treeDefaultExpandedKeys,Q=n.onTreeExpand,le=n.treeExpandAction,te=n.virtual,Se=n.listHeight,_=Se===void 0?200:Se,pe=n.listItemHeight,X=pe===void 0?20:pe,B=n.listItemScrollOffset,Ee=B===void 0?0:B,ne=n.onDropdownVisibleChange,ke=n.dropdownMatchSelectWidth,de=ke===void 0?!0:ke,q=n.treeLine,Ze=n.treeIcon,Ie=n.showTreeIcon,be=n.switcherIcon,Le=n.treeMotion,he=n.treeTitleRender,Me=n.onPopupScroll,Re=(0,Je.Z)(n,kr),We=(0,En.ZP)(d),se=E&&!S,De=E||S,Te=S||w,L=De||N,ce=(0,Rt.Z)(c,{value:s}),ue=(0,ie.Z)(ce,2),re=ue[0],fe=ue[1],W=h.useMemo(function(){return E?k||ut:wt},[k,E]),I=h.useMemo(function(){return mr(Z)},[JSON.stringify(Z)]),ge=(0,Rt.Z)("",{value:l!==void 0?l:u,postState:function(R){return R||""}}),ee=(0,ie.Z)(ge,2),$e=ee[0],Ye=ee[1],at=function(R){Ye(R),f==null||f(R)},Ae=Fn(D,T,P),ft=Mn(Ae,I),ye=ft.keyEntities,Ve=ft.valueEntities,vt=h.useCallback(function($){var R=[],V=[];return $.forEach(function(G){Ve.has(G)?V.push(G):R.push(G)}),{missingRawValues:R,existRawValues:V}},[Ve]),pt=Vn(Ae,$e,{fieldNames:I,treeNodeFilterProp:C,filterTreeNode:y}),ht=h.useCallback(function($){if($){if(K)return $[K];for(var R=I._title,V=0;V<R.length;V+=1){var G=$[R[V]];if(G!==void 0)return G}}},[I,K]),He=h.useCallback(function($){var R=yr($);return R.map(function(V){return Er(V)?{value:V}:V})},[]),Ue=h.useCallback(function($){var R=He($);return R.map(function(V){var G=V.label,me=V.value,ae=V.halfChecked,z,U=Ve.get(me);if(U){var Ce;G=he?he(U.node):(Ce=G)!==null&&Ce!==void 0?Ce:ht(U.node),z=U.node.disabled}else if(G===void 0){var je=He(re).find(function(ot){return ot.value===me});G=je.label}return{label:G,value:me,halfChecked:ae,disabled:z}})},[Ve,ht,He,re]),Cn=h.useMemo(function(){return He(re)},[He,re]),Qr=h.useMemo(function(){var $=[],R=[];return Cn.forEach(function(V){V.halfChecked?R.push(V):$.push(V)}),[$,R]},[Cn]),Kn=(0,ie.Z)(Qr,2),qe=Kn[0],xn=Kn[1],Nn=h.useMemo(function(){return qe.map(function($){return $.value})},[qe]),qr=Tn(qe,xn,se,ye),Sn=(0,ie.Z)(qr,2),_e=Sn[0],gt=Sn[1],_r=h.useMemo(function(){var $=fn(_e,W,ye,I),R=$.map(function(ae){var z,U;return(z=(U=ye[ae])===null||U===void 0||(U=U.node)===null||U===void 0?void 0:U[I.value])!==null&&z!==void 0?z:ae}),V=R.map(function(ae){var z=qe.find(function(Ce){return Ce.value===ae}),U;return w&&z.label!==void 0?U=z.label:!w&&he&&(U=he(z)),{value:ae,label:U}}),G=Ue(V),me=G[0];return!L&&me&&un(me.value)&&un(me.label)?[]:G.map(function(ae){var z;return(0,F.Z)((0,F.Z)({},ae),{},{label:(z=ae.label)!==null&&z!==void 0?z:ae.value})})},[I,L,_e,qe,Ue,W,ye]),ea=Pn(_r),ta=(0,ie.Z)(ea,1),na=ta[0],yt=Wt(function($,R,V){var G=Ue($);if(fe(G),g&&Ye(""),t){var me=$;if(se){var ae=fn($,W,ye,I);me=ae.map(function(we){var Be=Ve.get(we);return Be?Be.node[I.value]:we})}var z=R||{triggerValue:void 0,selected:void 0},U=z.triggerValue,Ce=z.selected,je=me;if(S){var ot=xn.filter(function(we){return!me.includes(we.value)});je=[].concat((0,oe.Z)(je),(0,oe.Z)(ot))}var it=Ue(je),Xe={preValue:qe,triggerValue:U},et=!0;(S||V==="selection"&&!Ce)&&(et=!1),An(Xe,U,$,Ae,et,I),De?Xe.checked=Ce:Xe.selected=Ce;var mt=Te?it:it.map(function(we){return we.value});t(L?mt:mt[0],Te?null:it.map(function(we){return we.label}),Xe)}}),It=h.useCallback(function($,R){var V,G=R.selected,me=R.source,ae=ye[$],z=ae==null?void 0:ae.node,U=(V=z==null?void 0:z[I.value])!==null&&V!==void 0?V:$;if(!L)yt([U],{selected:!0,triggerValue:U},"option");else{var Ce=G?[].concat((0,oe.Z)(Nn),[U]):_e.filter(function(Be){return Be!==U});if(se){var je=vt(Ce),ot=je.missingRawValues,it=je.existRawValues,Xe=it.map(function(Be){return Ve.get(Be).key}),et;if(G){var mt=Qe(Xe,!0,ye);et=mt.checkedKeys}else{var we=Qe(Xe,{checked:!1,halfCheckedKeys:gt},ye);et=we.checkedKeys}Ce=[].concat((0,oe.Z)(ot),(0,oe.Z)(et.map(function(Be){return ye[Be].node[I.value]})))}yt(Ce,{selected:G,triggerValue:U},me||"option")}G||!L?r==null||r(U,Nt(z)):a==null||a(U,Nt(z))},[vt,Ve,ye,I,L,Nn,yt,se,r,a,_e,gt]),ra=h.useCallback(function($){if(ne){var R={};Object.defineProperty(R,"documentClickClose",{get:function(){return(0,xe.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),ne($,R)}},[ne]),aa=Wt(function($,R){var V=$.map(function(G){return G.value});if(R.type==="clear"){yt(V,{},"selection");return}R.values.length&&It(R.values[0].value,{selected:!1,source:"selection"})}),oa=h.useMemo(function(){return{virtual:te,dropdownMatchSelectWidth:de,listHeight:_,listItemHeight:X,listItemScrollOffset:Ee,treeData:pt,fieldNames:I,onSelect:It,treeExpandAction:le,treeTitleRender:he,onPopupScroll:Me}},[te,de,_,X,Ee,pt,I,It,le,he,Me]),ia=h.useMemo(function(){return{checkable:De,loadData:O,treeLoadedKeys:A,onTreeLoad:H,checkedKeys:_e,halfCheckedKeys:gt,treeDefaultExpandAll:j,treeExpandedKeys:Y,treeDefaultExpandedKeys:M,onTreeExpand:Q,treeIcon:Ze,treeMotion:Le,showTreeIcon:Ie,switcherIcon:be,treeLine:q,treeNodeFilterProp:C,keyEntities:ye}},[De,O,A,H,_e,gt,j,Y,M,Q,Ze,Le,Ie,be,q,C,ye]);return h.createElement(cn.Provider,{value:oa},h.createElement(Ut.Provider,{value:ia},h.createElement(Lt.Ac,(0,Pe.Z)({ref:i},Re,{id:We,prefixCls:o,mode:L?"multiple":void 0,displayValues:na,onDisplayValuesChange:aa,searchValue:$e,onSearch:at,OptionList:Sr,emptyOptions:!Ae.length,onDropdownVisibleChange:ra,dropdownMatchSelectWidth:de}))))}),rt=Zr;rt.TreeNode=xt,rt.SHOW_ALL=wt,rt.SHOW_PARENT=Ot,rt.SHOW_CHILD=ut;var br=rt,Dr=br,Pr=b(87263),vn=b(33603),Tr=b(8745),pn=b(9708),wr=b(53124),Or=b(88258),Ir=b(98866),hn=b(35792),Lr=b(98675),Mr=b(65223),Rr=b(27833),$r=b(30307),Ar=b(15030),Vr=b(43277),Hr=b(78642),Fr=b(4173),Wr=b(23797),gn=b(11568),Ur=b(63185),yn=b(83262),jr=b(83559),mn=b(32157);const Br=n=>{const{componentCls:i,treePrefixCls:d,colorBgElevated:e}=n,o=`.${d}`;return[{[`${i}-dropdown`]:[{padding:`${(0,gn.bf)(n.paddingXS)} ${(0,gn.bf)(n.calc(n.paddingXS).div(2).equal())}`},(0,mn.Yk)(d,(0,yn.IX)(n,{colorBgContainer:e})),{[o]:{borderRadius:0,[`${o}-list-holder-inner`]:{alignItems:"stretch",[`${o}-treenode`]:{[`${o}-node-content-wrapper`]:{flex:"auto"}}}}},(0,Ur.C2)(`${d}-checkbox`,n),{"&-rtl":{direction:"rtl",[`${o}-switcher${o}-switcher_close`]:{[`${o}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]},ca=null;function Gr(n,i,d){return(0,jr.I$)("TreeSelect",e=>{const o=(0,yn.IX)(e,{treePrefixCls:i});return[Br(o)]},mn.TM)(n,d)}var zr=function(n,i){var d={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&i.indexOf(e)<0&&(d[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(n);o<e.length;o++)i.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(n,e[o])&&(d[e[o]]=n[e[o]]);return d};const Yr=(n,i)=>{var d;const{prefixCls:e,size:o,disabled:s,bordered:c=!0,className:t,rootClassName:r,treeCheckable:a,multiple:l,listHeight:u=256,listItemHeight:f=26,placement:v,notFoundContent:g,switcherIcon:y,treeLine:p,getPopupContainer:C,popupClassName:k,dropdownClassName:K,treeIcon:N=!1,transitionName:E,choiceTransitionName:S="",status:w,treeExpandAction:Z,builtinPlacements:P,dropdownMatchSelectWidth:D,popupMatchSelectWidth:T,allowClear:O,variant:A,dropdownStyle:H,tagRender:j}=n,Y=zr(n,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender"]),{getPopupContainer:M,getPrefixCls:Q,renderEmpty:le,direction:te,virtual:Se,popupMatchSelectWidth:_,popupOverflow:pe}=h.useContext(wr.E_),X=Q(),B=Q("select",e),Ee=Q("select-tree",e),ne=Q("tree-select",e),{compactSize:ke,compactItemClassnames:de}=(0,Fr.ri)(B,te),q=(0,hn.Z)(B),Ze=(0,hn.Z)(ne),[Ie,be,Le]=(0,Ar.Z)(B,q),[he]=Gr(ne,Ee,Ze),[Me,Re]=(0,Rr.Z)("treeSelect",A,c),We=Ke()(k||K,`${ne}-dropdown`,{[`${ne}-dropdown-rtl`]:te==="rtl"},r,Le,q,Ze,be),se=!!(a||l),De=(0,Hr.Z)(n.suffixIcon,n.showArrow),Te=(d=T!=null?T:D)!==null&&d!==void 0?d:_,{status:L,hasFeedback:ce,isFormItemInput:ue,feedbackIcon:re}=h.useContext(Mr.aM),fe=(0,pn.F)(L,w),{suffixIcon:W,removeIcon:I,clearIcon:ge}=(0,Vr.Z)(Object.assign(Object.assign({},Y),{multiple:se,showSuffixIcon:De,hasFeedback:ce,feedbackIcon:re,prefixCls:B,componentName:"TreeSelect"})),ee=O===!0?{clearIcon:ge}:O;let $e;g!==void 0?$e=g:$e=(le==null?void 0:le("Select"))||h.createElement(Or.Z,{componentName:"Select"});const Ye=(0,At.Z)(Y,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),at=h.useMemo(()=>v!==void 0?v:te==="rtl"?"bottomRight":"bottomLeft",[v,te]),Ae=(0,Lr.Z)(He=>{var Ue;return(Ue=o!=null?o:ke)!==null&&Ue!==void 0?Ue:He}),ft=h.useContext(Ir.Z),ye=s!=null?s:ft,Ve=Ke()(!e&&ne,{[`${B}-lg`]:Ae==="large",[`${B}-sm`]:Ae==="small",[`${B}-rtl`]:te==="rtl",[`${B}-${Me}`]:Re,[`${B}-in-form-item`]:ue},(0,pn.Z)(B,fe,ce),de,t,r,Le,q,Ze,be),vt=He=>h.createElement(Wr.Z,{prefixCls:Ee,switcherIcon:y,treeNodeProps:He,showLine:p}),[pt]=(0,Pr.Cn)("SelectLike",H==null?void 0:H.zIndex),ht=h.createElement(Dr,Object.assign({virtual:Se,disabled:ye},Ye,{dropdownMatchSelectWidth:Te,builtinPlacements:(0,$r.Z)(P,pe),ref:i,prefixCls:B,className:Ve,listHeight:u,listItemHeight:f,treeCheckable:a&&h.createElement("span",{className:`${B}-tree-checkbox-inner`}),treeLine:!!p,suffixIcon:W,multiple:se,placement:at,removeIcon:I,allowClear:ee,switcherIcon:vt,showTreeIcon:N,notFoundContent:$e,getPopupContainer:C||M,treeMotion:null,dropdownClassName:We,dropdownStyle:Object.assign(Object.assign({},H),{zIndex:pt}),choiceTransitionName:(0,vn.m)(X,"",S),transitionName:(0,vn.m)(X,"slide-up",E),treeExpandAction:Z,tagRender:se?j:void 0}));return Ie(he(ht))},ze=h.forwardRef(Yr),Xr=(0,Tr.Z)(ze);ze.TreeNode=xt,ze.SHOW_ALL=wt,ze.SHOW_PARENT=Ot,ze.SHOW_CHILD=ut,ze._InternalPanelDoNotUseOrYouWillBeFired=Xr;var Jr=ze},36459:function(kn,Ct,b){b.d(Ct,{Z:function(){return h}});function h(lt){if(lt==null)throw new TypeError("Cannot destructure "+lt)}}}]);
