"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7318],{7180:function(q,N,t){t.r(N),t.d(N,{default:function(){return H}});var U=t(5574),C=t.n(U),g=t(46629),d=t(15741),E=t(98185),W=t(77249),A=t(97975),F=t(96074),K=t(40411),c=t(13275),j=t(78957),D=t(83062),f=t(14726),p=t(4393),Z=t(80799),S=t(67294),Y=t(19632),z=t.n(Y),T=t(34041),_=t(65233),B=t(85576),O=t(26412),R=t(24435),P=t(96864),I=t(70278),e=t(85893),k=function(x){var y=x.open,M=x.close,m=x.ok,v=(0,S.useState)([{},{}]),a=C()(v,2),i=a[0],l=a[1],u=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(p.Z,{title:"Criteria Group",size:"small",extra:(0,e.jsx)(f.ZP,{type:"dashed",size:"small",danger:!0,children:"Remove This Criteria Group"}),children:(0,e.jsxs)(j.Z,{style:{width:"100%"},direction:"vertical",children:[i.map(function(Q,V){return(0,e.jsx)("div",{children:(0,e.jsxs)(j.Z,{direction:"horizontal",children:[(0,e.jsxs)("span",{className:"text-overline",children:["filter - ",V+1]}),(0,e.jsx)(T.Z,{style:{minWidth:300},placeholder:"please select",options:[{label:"Meter Manufactured Date",value:"1"},{label:"Meter Size",value:"2"},{label:"Meter Location",value:"3"},{label:"Meter Water Consumption Amount",value:"4"}],defaultValue:void 0}),(0,e.jsx)(T.Z,{style:{minWidth:80},options:[{label:"equal to",value:"0"},{label:"not equal to",value:"1"},{label:"less than",value:"2"},{label:"greater than",value:"3"},{label:"between",value:"4"},{label:"before",value:"5"},{label:"after",value:"6"}],defaultValue:"0"}),(0,e.jsx)(_.Z,{placeholder:"please input value"}),(0,e.jsx)(D.Z,{title:"delete this filter",children:(0,e.jsx)(f.ZP,{type:"dashed",shape:"circle",size:"small",icon:(0,e.jsx)(I.Z,{stroke:1,size:15}),danger:!0,onClick:function(){l(z()(i).filter(function(ee,X){return X!=V}))}})})]})},V)}),(0,e.jsx)(f.ZP,{type:"default",size:"small",onClick:function(){l([].concat(z()(i),[{}]))},children:"Add More Filters"})]})})})};return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(B.Z,{width:"80%",open:y,onCancel:function(){M()},title:"Edit Plan",onOk:function(){},children:(0,e.jsx)(j.Z,{direction:"vertical",style:{width:"100%"},children:(0,e.jsx)(O.Z,{column:2,bordered:!0,items:[{label:"Plan Name",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(_.Z,{})})},{label:"Target Count",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(R.Z,{defaultValue:1e4})})},{label:"Start & End Date",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.default.RangePicker,{})})},{label:"",children:(0,e.jsx)(e.Fragment,{})},{span:2,label:"Query Filters",children:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(j.Z,{direction:"vertical",split:(0,e.jsx)(F.Z,{type:"horizontal",dashed:!0,children:"Or"}),style:{width:"100%"},children:[u(),u()]}),(0,e.jsx)("div",{className:"py-2",children:(0,e.jsx)(f.ZP,{type:"dashed",block:!0,onClick:function(){},children:"Add [Or] Criteria"})})]})}]})})})})},$=t(84567),L=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(p.Z,{title:"Search",children:(0,e.jsx)(O.Z,{column:2,bordered:!0,items:[{label:"Plan ID",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{className:"flex-row-left gap-2",children:(0,e.jsx)(_.Z,{value:"6541316817646",disabled:!0})})})},{label:"Plan Status",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(T.Z,{style:{minWidth:300},options:[{label:"Complete",value:"1"}],defaultValue:"1"})})},{label:"Schedule Date from",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.default,{})})},{label:"Schedule Date to",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.default,{})})},{label:"Include Completed",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)($.Z,{checked:!0})})},{label:"",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(j.Z,{direction:"horizontal",children:[(0,e.jsx)(f.ZP,{type:"primary",children:"Search"}),(0,e.jsx)(f.ZP,{type:"link",children:"Reset"})]})})}]})})})},b=t(63920),G=function(x){var y=x.open,M=x.close,m=x.ok,v=[{title:"Meter Number",render:function(l,u){return"4561321"}},{title:"Region",render:function(l,u){return"Hong Kong Island"}},{title:"Location ID",render:function(l,u){return"3252050427"}},{title:"Meter Type",render:function(l,u){return"MKT15"}},{title:"Meter Serial Number",render:function(l,u){return"MKP10314663"}},{title:"Latest Meter Reading",render:function(l,u){return"15000.456"}},{title:"Meter Manufactured Date",render:function(l,u){return"2010-08-12"}},{title:"Meter Install Age(Year)",render:function(l,u){return"10"}},{render:function(){return(0,e.jsx)(D.Z,{title:"Add to plan list",children:(0,e.jsx)(f.ZP,{icon:(0,e.jsx)(A.Z,{stroke:1}),type:"dashed",size:"small"})})}}],a=[{title:"Meter Number",render:function(l,u){return"4561321"}},{title:"Region",render:function(l,u){return"Hong Kong Island"}},{title:"Location ID",render:function(l,u){return"3252050427"}},{title:"Meter Type",render:function(l,u){return"MKT15"}},{title:"Meter Serial Number",render:function(l,u){return"MKP10314663"}},{title:"Latest Meter Reading",render:function(l,u){return"15000.456"}},{title:"Meter Manufactured Date",render:function(l,u){return"2010-08-12"}},{title:"Meter Install Age(Year)",render:function(l,u){return"10"}},{render:function(){return(0,e.jsx)(D.Z,{title:"remove from plan list",children:(0,e.jsx)(f.ZP,{icon:(0,e.jsx)(b.Z,{stroke:1}),type:"dashed",danger:!0,size:"small"})})}}];return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(B.Z,{width:"80%",open:y,onCancel:function(){M()},title:"Generate Plan Step",onOk:function(){},children:(0,e.jsxs)(j.Z,{direction:"vertical",style:{width:"100%"},children:[(0,e.jsx)(p.Z,{title:"Meters List That Matched The Plan Query Filters",children:(0,e.jsx)(Z.Z,{columns:v,dataSource:[{},{},{}],pagination:!1})}),(0,e.jsxs)("div",{className:"flex-row-center gap-3",children:[(0,e.jsx)("b",{children:"Pick"}),(0,e.jsx)(R.Z,{defaultValue:1e3}),(0,e.jsx)("b",{children:"Meters from plan query range randomly & put into Step List"}),(0,e.jsx)(f.ZP,{type:"primary",children:"Execute"})]}),(0,e.jsxs)(p.Z,{title:"Step List",children:[(0,e.jsx)(O.Z,{bordered:!0,column:2,items:[{label:"Step Name",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(_.Z,{})})},{label:"Step Executing Time Range",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.default.RangePicker,{})})}]}),(0,e.jsx)(Z.Z,{columns:a,dataSource:[{},{}],pagination:!1})]})]})})})},w=function(){var x=(0,S.useState)(!1),y=C()(x,2),M=y[0],m=y[1],v=[{title:"Step Name",render:function(i,l){return(0,e.jsx)("div",{className:"text-overline",children:"2024#3"})}},{title:"Pending",render:function(i,l){return"800"}},{title:"Processing",render:function(i,l){return"93"}},{title:"Total",render:function(i,l){return"893"}},{title:"Plan Status",render:function(i,l){return"Complete"}},{title:"Start Date/Time",render:function(i,l){return g.ND.utc().format(g.dq)}},{title:"End Date/Time",render:function(i,l){return g.ND.utc().format(g.dq)}},{title:"Progress",render:function(i,l){return(0,e.jsx)(c.Z,{percent:parseInt((100*Math.random()).toString()),size:"small"})}},{title:"Actions",render:function(i,l){return(0,e.jsx)("div",{children:(0,e.jsxs)(j.Z,{direction:"horizontal",children:[(0,e.jsx)(D.Z,{title:"edit",children:(0,e.jsx)(f.ZP,{size:"small",icon:(0,e.jsx)(d.Z,{stroke:1}),type:"dashed",onClick:function(){m(!0)}})}),(0,e.jsx)(f.ZP,{size:"small",icon:(0,e.jsx)(E.Z,{stroke:1,size:15}),type:"dashed",children:"Export"})]})})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(G,{open:M,ok:function(){return m(!1)},close:function(){return m(!1)}}),(0,e.jsx)(j.Z,{direction:"vertical",style:{width:"100%"},children:(0,e.jsx)(p.Z,{title:"Plan Steps",extra:(0,e.jsx)(f.ZP,{size:"small",icon:(0,e.jsx)(A.Z,{stroke:1}),onClick:function(){return m(!0)}}),children:(0,e.jsx)(Z.Z,{columns:v,dataSource:[{id:"",type:""},{id:"",type:""},{id:"",type:""}]})})})]})},H=function(){var x=(0,S.useState)(!1),y=C()(x,2),M=y[0],m=y[1],v=[{title:"Plan ID",render:function(i,l){return(0,e.jsx)("a",{className:"text-blue-600",children:"#123"})}},{title:"Plan Name",render:function(i,l){return(0,e.jsxs)("div",{className:"text-overline",children:[(0,e.jsx)("div",{className:"text-body",children:"#2024"}),(0,e.jsx)("div",{className:"text-overline",children:"3 steps"})]})}},{title:"Target Count",render:function(i,l){return"93"}},{title:"Plan Count",render:function(i,l){return"893"}},{title:"Query Filters",render:function(i,l){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex-col-top",children:[(0,e.jsx)("div",{className:"text-overline",children:"1.Installed before 2008"}),(0,e.jsx)("div",{className:"text-overline",children:"2.Located in NTE"})]}),(0,e.jsx)(F.Z,{type:"horizontal",dashed:!0,children:"Or"}),(0,e.jsx)("div",{className:"flex-col-top",children:(0,e.jsx)("div",{className:"text-overline",children:"1.Located in NTW"})}),(0,e.jsx)("div",{className:"text-caption",children:"68765 Meters Matched"})]})}},{title:"Plan Status",render:function(i,l){return(0,e.jsx)(K.Z,{status:"success",size:"small",text:"Complete"})}},{title:"Start Date/Time",render:function(i,l){return g.ND.utc().format(g.dq)}},{title:"End Date/Time",render:function(i,l){return g.ND.utc().format(g.dq)}},{title:"Progress",render:function(i,l){return(0,e.jsx)(c.Z,{percent:parseInt((100*Math.random()).toString()),size:"small"})}},{title:"Actions",width:150,fixed:"right",render:function(i,l){return(0,e.jsx)("div",{children:(0,e.jsxs)(j.Z,{direction:"horizontal",wrap:!0,children:[(0,e.jsx)(D.Z,{title:"edit",children:(0,e.jsx)(f.ZP,{size:"small",icon:(0,e.jsx)(d.Z,{stroke:1}),type:"dashed",onClick:function(){m(!0)},children:"Edit"})}),(0,e.jsx)(f.ZP,{size:"small",icon:(0,e.jsx)(E.Z,{stroke:1,size:15}),type:"dashed",children:"Export"}),(0,e.jsx)(f.ZP,{size:"small",type:"dashed",icon:(0,e.jsx)(W.Z,{stroke:1}),children:"Mark As Started"})]})})}}];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(k,{open:M,ok:function(){return m(!1)},close:function(){return m(!1)}}),(0,e.jsxs)(j.Z,{direction:"vertical",style:{width:"100%"},children:[(0,e.jsx)(L,{}),(0,e.jsx)(p.Z,{title:"Annual Replacement Plan",extra:(0,e.jsx)(f.ZP,{size:"small",icon:(0,e.jsx)(A.Z,{stroke:1}),onClick:function(){return m(!0)}}),children:(0,e.jsx)(Z.Z,{rowKey:function(i){return i.id},columns:v,dataSource:[{id:"1",type:""},{id:"2",type:""},{id:"4",type:""}],expandable:{expandedRowRender:function(){return(0,e.jsx)("div",{children:(0,e.jsx)(w,{})})}}})})]})]})}},46629:function(q,N,t){t.d(N,{AK:function(){return $},Gl:function(){return H},Kt:function(){return w},Mg:function(){return I},ND:function(){return P},On:function(){return G},bF:function(){return e},dq:function(){return L},jV:function(){return y},mg:function(){return x},t9:function(){return b},vc:function(){return k}});var U=t(33852),C=t.n(U),g=t(27484),d=t.n(g),E=t(10285),W=t.n(E),A=t(7124),F=t.n(A),K=t(49133),c=t.n(K),j=t(50356),D=t.n(j),f=t(66607),p=t.n(f),Z=t(96036),S=t.n(Z),Y=t(56176),z=t.n(Y),T=t(84110),_=t.n(T),B=t(70178),O=t.n(B),R=t(66419);d().extend(S()),d().extend(_()),d().extend(z()),d().extend(W()),d().extend(F()),d().extend(D()),d().extend(c()),d().extend(p()),d().extend(O()),d().locale("zh-cn");var P=d(),I=8,e="HH:mm",k="YYYY-MM-DD",$="MM-DD",L="YYYY-MM-DD HH:mm",b="YYYY-MM-DD HH:mm:ss",G="dddd",w="MMMM DD A h:mm",H=function(m){var v,a=(v=x(m))===null||v===void 0?void 0:v.add(I,"hour");if(!a)return null;var i=d().utc().add(I,"hour");a.isToday(),a.isYesterday(),a.isBetween(i.startOf("week"),i.endOf("week"));var l=a.diff(i,"day");return Math.abs(l)>7?a.format(L):a.fromNow()},x=function(m){if((0,R.Wq)(m))return null;try{return d()(m)}catch(v){return null}},y=function(m){var v;return(v=x(m))===null||v===void 0?void 0:v.isBefore(P().utc())}},66419:function(q,N,t){t.d(N,{C6:function(){return T},C7:function(){return B},CB:function(){return m},G5:function(){return j},Gk:function(){return $},IS:function(){return w},JR:function(){return f},Jp:function(){return X},K1:function(){return A},LW:function(){return k},M8:function(){return R},MK:function(){return ae},OB:function(){return D},Te:function(){return p},Ti:function(){return u},W9:function(){return Z},Wq:function(){return c},ZQ:function(){return K},Zp:function(){return G},_y:function(){return Y},cQ:function(){return J},gB:function(){return i},hP:function(){return P},hU:function(){return v},iI:function(){return E},iu:function(){return ee},kv:function(){return a},kw:function(){return x},lb:function(){return V},lj:function(){return ie},lk:function(){return I},mD:function(){return L},qW:function(){return F},tq:function(){return H},uw:function(){return S},zO:function(){return l},zd:function(){return W}});var U=t(19632),C=t.n(U),g=t(42268),d=t(91845),E={message:void 0,store:void 0,setGoodsDetailId:void 0},W=function(){var n;return self!=top||window.frames.length!=parent.frames.length||((n=self.frameElement)===null||n===void 0||(n=n.tagName)===null||n===void 0?void 0:n.toLowerCase())=="iframe"},A=function(){return/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i.test(navigator.userAgent)},F=function(n,r,o){var h=n.at(r);return n[r]=n.at(o),n[o]=h,n},K=function(n,r,o){var h=C()(n);return o>n.length-1||o<0?h.push(r):h=[].concat(C()(h.slice(0,o)),[r],C()(h.slice(o,void 0))),h},c=function(n){return!n||n.length<=0},j=function(n){return!n||n.length<=0},D=function(n){return!n||n<=0},f=function(n){if(!(!n||n.length<=0)){var r=p(n);if(!c(r))return r==null?void 0:r.substring(0,1)}},p=function(n){var r=(0,d.N9)(n,{type:"array",pattern:"first",toneType:"none"});return r.filter(function(o){return!c(o)}).join("")},Z=function(n){var r=(0,d.N9)(n,{type:"array",pattern:"pinyin",toneType:"none"});return r.filter(function(o){return!c(o)}).join("")},S=function(n){var r=(0,d.N9)(n,{type:"array",pattern:"pinyin",toneType:"none"});return r.filter(function(o){return!c(o)}).join("-").toLowerCase()},Y=function(n,r,o){var h;return(h=n.data.Error)!==null&&h!==void 0&&h.Message?(u(n.data.Error.Message||"\u64CD\u4F5C\u672A\u80FD\u5982\u671F\u5B8C\u6210"),o&&o(),!1):(r&&r(),!0)},z=function(n,r){for(var o=n,h=function(){var ne=!1;if(r.forEach(function(le){var te=(0,g.Z)(o,le);te!=o&&(ne=!0,o=te)}),!ne)return 1};!h(););return o},T=function(n){return n.map(function(r){return r||""}).map(function(r){return z(r,["/","\\"])}).filter(function(r){return r.length>0}).join("/")},_=function(n){return n=n.toLowerCase(),n=(0,g.Z)(n,"/"),n},B=function(n,r){return n=n||"",r=r||"",_(n)===_(r)},O="access_token",R=function(n){return localStorage.setItem(O,n)},P=function(){return localStorage.getItem(O)},I=function(){return!c(P())},e="sales-selected-store-id",k=function(n){localStorage.setItem(e,n)},$=function(){return localStorage.getItem(e)},L=function(n){var r=(n==null?void 0:n.split("."))||[];if(!(r.length<=0))return r.at(r.length-1)},b=function(n){return!c(n)&&/^[a-zA-Z]+$/.test(n)},G=function(n){return!c(n)&&/^\s*data:(?:[a-z]+\/[a-z0-9-+.]+(?:;[a-z-]+=[a-z0-9-]+)?)?(?:;base64)?,([a-z0-9!$&',()*+;=\-._~:@/?%\s]*?)\s*$/i.test(n)};function w(){return/MicroMessenger/i.test(window.navigator.userAgent)}var H=function(n){return!c(n)&&/^(?:(?:\+|00)86)?1[3-9]\d{9}$/.test(n)},x=function(n){if(n)return n.match(/\b1\d{10}\b/g)||void 0},y=function(n){return!c(n)&&/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/.test(n)},M=function(n){return!c(n)&&/^\d{6}((((((19|20)\d{2})(0[13-9]|1[012])(0[1-9]|[12]\d|30))|(((19|20)\d{2})(0[13578]|1[02])31)|((19|20)\d{2})02(0[1-9]|1\d|2[0-8])|((((19|20)([13579][26]|[2468][048]|0[48]))|(2000))0229))\d{3})|((((\d{2})(0[13-9]|1[012])(0[1-9]|[12]\d|30))|((\d{2})(0[13578]|1[02])31)|((\d{2})02(0[1-9]|1\d|2[0-8]))|(([13579][26]|[2468][048]|0[048])0229))\d{2}))(\d|X|x)$/.test(n)},m=function(n){return!c(n)&&/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/.test(n)},v=function(n){return!c(n)&&/^https?:\/\/(.+\/)+.+(\.(gif|png|jpg|jpeg|webp|svg|psd|bmp|tif))$/i.test(n)},a=function(n){if(n&&!c(n))return n},i=function(n){var r=n.filter(function(o){return!c(o)}).at(0);return r||void 0},l=function(n,r){return n.length<=r?n:"".concat(n.substring(0,r),"...")},u=function(n){var r;if(E.message==null){alert(n);return}(r=E.message)===null||r===void 0||r.error(n)},J=function(n){var r;if(E.message==null){alert(n);return}(r=E.message)===null||r===void 0||r.success(n)},Q=new Intl.NumberFormat("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}),V=function(n){return"\uFFE5".concat(Q.format(n))},re=function(n){return n.toFixed(2)},ee=function(n){return JSON.parse(JSON.stringify(n))},X=function(n){try{if(n)return JSON.parse(n)}catch(r){console.log(r)}return null},ie=function(n,r){var o=b(n),h=b(r);return o&&!h?-1:!o&&h?1:n.localeCompare(r)},ae=function(){return new Promise(function(n,r){try{navigator.geolocation.getCurrentPosition(function(o){n(o)},function(o){r(o)})}catch(o){r(o)}})}}}]);
