"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1717],{99270:function(B,f,n){n.d(f,{Z:function(){return t}});var h=n(34863),i=n(85893);function t(){return(0,i.jsx)("div",{style:{minHeight:300,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center"},children:(0,i.jsx)(h.c,{size:"sm",color:"default"})})}},43937:function(B,f,n){var h=n(95564),i=n(85893);f.Z=function(t){var m=t.open,x=t.onClose,o=t.children;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(h.Z,{open:m,onClose:function(){x&&x()},props:{placement:"bottom"},pureBody:!0,showCloseButton:!0,children:o})})}},95564:function(B,f,n){var h=n(97857),i=n.n(h),t=n(38787),m=n(94087),x=n(78967),o=n(87740),P=n(86597),T=n(96476),_=n(77373),r=n(85893);f.Z=function(u){var A=u.open,p=u.onClose,e=u.children,M=u.title,O=u.action,y=u.pureBody,W=u.showCloseButton,g=u.bodyStyle,R=u.props,S=function(){return W?(0,r.jsx)("div",{style:{position:"relative"},children:(0,r.jsx)(t.A,{style:{position:"absolute",display:"inline",right:"20px",top:"20px",zIndex:1},isIconOnly:!0,size:"sm",radius:"full",color:"danger",onClick:function(){p&&p()},children:(0,r.jsx)(_.Z,{stroke:1})})}):null};return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(m.R,i()(i()({className:"overflow-hidden",backdrop:"blur",isOpen:A,onClose:p,hideCloseButton:!0,isDismissable:!0,scrollBehavior:"outside"},R),{},{children:(0,r.jsxs)(x.A,{children:[S(),M==null||(0,r.jsx)(o.k,{className:"flex flex-col gap-1",children:M}),y&&e,y||(0,r.jsx)(P.I,{style:g,children:(0,r.jsx)("div",{style:{minHeight:300},children:e})}),O&&(0,r.jsx)(T.R,{children:O})]})}))})}},37026:function(B,f,n){n.r(f),n.d(f,{default:function(){return Q}});var h=n(49677),i=n.n(h),t=n(67294),m=n(76021),x=n(38295),o=n(95813),P=n(52938),T=n(5574),_=n.n(T),r=n(45360),u=n(28459),A=n(31418),p=n(37029),e=n(85893);function M(s){var l=s.children,a=r.ZP.useMessage(),d=_()(a,2),c=d[0],v=d[1];return(0,t.useEffect)(function(){return o.iI.message=c,function(){o.iI.message=void 0}},[c]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(u.ZP,{locale:p.Z,componentSize:"middle",theme:{token:{colorPrimary:"#006AB4",colorError:"#ff5722",colorWarning:"#ffb800"},components:{Message:{zIndexPopup:9999999},Tooltip:{zIndexBase:9999999,zIndexPopupBase:9999999}}},children:(0,e.jsxs)(A.Z,{message:{maxCount:10},notification:{placement:"top"},children:[v,l]})})})}var O=n(68421),y=n(99270),W=n(30699),g=n(35291),R=function(s){var l=s.children,a=(0,x.o)(),d=(0,O.Z)(W.x1.mall.settingGetMallSettings,{manual:!0,onSuccess:function(v,C){a.mallSettings=v.data.Data||{}}});return(0,t.useEffect)(function(){(0,g.Ss)()||d.run()},[]),d.loading?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(y.Z,{})}):(0,e.jsx)(e.Fragment,{children:l})},S=n(43937),U=n(44300);function L(s){var l=s.detailId,a=s.onClose,d=!(0,o.Wq)(l),c=window.innerHeight||600;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(S.Z,{open:d,onClose:a,children:(0,e.jsx)("div",{style:{minHeight:c*.8},children:(0,e.jsx)(U.Z,{goodsId:l})})})})}var F=n(73778);function H(s){i()(s);var l=(0,x.o)();return l.loading?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{style:{position:"fixed",zIndex:9999,top:0,left:0,right:0},children:(0,e.jsx)(F.W,{size:"sm",isIndeterminate:!0,className:"w-full"})})}):null}var N=function(s){var l=s.children,a=(0,t.useState)(void 0),d=_()(a,2),c=d[0],v=d[1],C=(0,m.TH)(),E=(0,g.dD)(C.search)||{};return(0,t.useEffect)(function(){E.preview_goods_id&&v(E.preview_goods_id)},[E.preview_goods_id]),(0,t.useEffect)(function(){return o.iI.setGoodsDetailId=function(D){return v(D||void 0)},function(){o.iI.setGoodsDetailId=void 0}},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(L,{detailId:c||void 0,onClose:function(){v(void 0)}}),(0,e.jsx)(H,{}),l]})},G=n(97857),Z=n.n(G),Y=n(85134),$=function(s){var l=s.children,a=(0,m.TH)(),d=(0,t.useState)(!1),c=_()(d,2),v=c[0],C=c[1],E=(0,o.gB)([Y.v.external_token_key])||"external_token",D="external_token_type",V=function(){var I=(0,g.dD)(a.search),z=I[D],j=I[E];if(!(0,o.Wq)(z)){var K;j=((K=j)===null||K===void 0?void 0:K.split("@").at(0))||"",j="".concat(j,"@").concat(z)}(0,o.Wq)(j)?C(!0):((0,o.M8)(j),setTimeout(function(){C(!0)},200),I[E]=null,I[D]=null,(0,g.bj)(Z()(Z()({},I),{},{use_external_token:!0})))};return(0,t.useEffect)(function(){V()},[]),v?(0,e.jsx)(e.Fragment,{children:l}):null};function Q(s){i()(s);var l=(0,m.pC)(),a=(0,x.o)();return(0,t.useEffect)(function(){return o.iI.store=a,function(){o.iI.store=void 0}},[a]),(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(P.w,{locale:"zh-CN",children:(0,e.jsx)(M,{children:(0,e.jsx)($,{children:(0,e.jsx)(R,{children:(0,e.jsx)(N,{children:l})})})})})})}}}]);
