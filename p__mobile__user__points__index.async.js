"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5074],{66386:function(B,g,e){e.d(g,{Z:function(){return E}});var h=e(10843),s=e(85893);function E(){return(0,s.jsxs)("div",{className:"py-3",children:[(0,s.jsx)("div",{children:(0,s.jsx)(h.X,{className:"flex h-12 w-12 rounded-full"})}),(0,s.jsxs)("div",{className:"flex w-full flex-col gap-2",children:[(0,s.jsx)(h.X,{className:"h-3 w-3/5 rounded-lg"}),(0,s.jsx)(h.X,{className:"h-3 w-4/5 rounded-lg"})]})]})}},64080:function(B,g,e){var h=e(21274),s=e(85893);g.Z=function(E){var o=E.loading,y=E.hasMore;return o?(0,s.jsx)(h.Z,{}):y?null:(0,s.jsx)("div",{className:"flex flex-row items-center justify-center gap-2",children:(0,s.jsx)("span",{className:"text-slate-400",children:"\u6CA1\u6709\u66F4\u591A\u4E86"})})}},85685:function(B,g,e){e.d(g,{Z:function(){return D}});var h=e(38295),s=e(47650),E=e(66419),o=e(38787),y=e(48135),c=e(85893);function D(d){var j=d.children,p=d.rightButtons,M=d.leftButtons,R=(0,h.o)(),x=function(){window.history.length>1?s.m8.back():s.m8.push({pathname:"/"})},_=function(){return(0,c.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,E.G5)(M)&&(0,c.jsxs)("div",{className:"flex-row-center cursor-pointer gap-1",onClick:function(f){f.preventDefault(),f.stopPropagation(),x()},children:[(0,c.jsx)(o.A,{size:"lg",color:"default",radius:"full",variant:"light",isIconOnly:!0,onClick:function(f){f.preventDefault(),f.stopPropagation(),x()},children:(0,c.jsx)(y.Z,{stroke:1})}),(0,c.jsx)("h1",{className:"text-title m-0 p-0",children:window.document.title||R.getAppName()})]}),M==null?void 0:M.map(function(P){return P})]})};return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"container max-w-lg",children:[(0,c.jsxs)("div",{className:"flex-row-between py-1",children:[_(),(0,c.jsx)("div",{className:"flex-row-center gap-2",children:p==null?void 0:p.map(function(m){return m})})]}),(0,c.jsx)("div",{children:j})]})})}},99872:function(B,g,e){var h=e(5574),s=e.n(h),E=e(68421),o=e(67294),y=e(66386),c=e(30699),D=e(47650),d=e(66419),j=e(45837),p=e(19314),M=e(82354),R=e(1461),x=e(80570),_=e(85893);g.Z=function(){var m,P=(0,o.useState)(!1),f=s()(P,2),I=f[0],i=f[1],C=(0,E.Z)(c.x1.mall.userUserBalanceAndPoints,{manual:!0}),U=((m=C.data)===null||m===void 0||(m=m.data)===null||m===void 0?void 0:m.Data)||{};(0,o.useEffect)(function(){C.run({})},[]);var A=function(l){return(0,_.jsx)(j.w,{isPressable:!0,isHoverable:!0,className:"h-full w-full",onClick:function(){l.action&&l.action(),l.pathname&&D.m8.push({pathname:l.pathname})},children:(0,_.jsxs)(p.G,{className:"flex h-full w-full flex-col items-center justify-center py-2",children:[l.icon,(0,_.jsx)("h3",{className:"mb-1 text-nowrap font-bold",children:l.title}),(0,_.jsx)("span",{className:"text-sm text-slate-600",style:{visibility:(0,d.Wq)(l.subtitle)?"hidden":"visible"},children:l.subtitle||"--"})]})})};return C.loading?(0,_.jsx)(y.Z,{}):(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{className:"my-4 grid grid-flow-row grid-cols-3 gap-2 px-2",children:[A({icon:(0,_.jsx)(M.Z,{stroke:1,size:35}),title:"\u4F59\u989D",subtitle:"".concat((0,d.lb)(U.Balance||0)),pathname:"/ucenter/balance"}),A({icon:(0,_.jsx)(R.Z,{stroke:1,size:35}),title:"\u4ED8\u6B3E",action:function(){i(!0)}}),A({icon:(0,_.jsx)(x.Z,{stroke:1,size:35}),title:"\u79EF\u5206",subtitle:"".concat(U.Points==null?"--":U.Points),pathname:"/ucenter/points"})]})})}},13163:function(B,g,e){e.r(g),e.d(g,{default:function(){return U}});var h=e(15009),s=e.n(h),E=e(97857),o=e.n(E),y=e(99289),c=e.n(y),D=e(5574),d=e.n(D),j=e(68770),p=e(67294),M=e(64080),R=e(85685),x=e(30699),_=e(99872),m=e(46629),P=e(66419),f=e(75968),I=e(84367),i=e(85893),C=function(A){var v=A.model;if(!v||v.Points==0)return null;var l=function(){var n=v.Points,a=v.ActionType;return a==1?(0,i.jsx)(f.z,{color:"danger",variant:"bordered",size:"sm",children:"+".concat(n)}):a==-1?(0,i.jsx)(f.z,{color:"success",variant:"bordered",size:"sm",children:"-".concat(n)}):(0,i.jsx)(f.z,{variant:"bordered",size:"sm",children:n})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"p-2",children:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)("div",{children:l()}),(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"end"},children:[(0,i.jsx)("div",{className:"text-slate-400",children:(0,m.Gl)(v.CreationTime)}),(0,P.Wq)(v.Message)||(0,i.jsx)("div",{className:"py-1 text-blue-500",children:v.Message})]})]})}),(0,i.jsx)(I.j,{})]})};function U(){var A=p.useState({}),v=d()(A,2),l=v[0],L=v[1],n=(0,j.Z)(function(){var W=c()(s()().mark(function O(S){var K,w;return s()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,x.x1.mall.userQueryPointsPaging(o()(o()({},l),{},{Page:((S==null||(K=S.res)===null||K===void 0?void 0:K.PageIndex)||0)+1}));case 2:return w=T.sent,T.abrupt("return",{list:w.data.Items||[],res:w.data});case 4:case"end":return T.stop()}},O)}));return function(O){return W.apply(this,arguments)}}(),{target:window.document,isNoMore:function(O){var S;return(O==null||(S=O.res)===null||S===void 0?void 0:S.IsEmpty)||!1},reloadDeps:[l]}),a=n.loading,u=n.loadingMore,r=n.mutate,t=n.noMore,N=n.data,b=(N==null?void 0:N.list)||[];return p.useEffect(function(){r({list:[]})},[l]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(R.Z,{children:[(0,i.jsx)("div",{className:"my-2",children:(0,i.jsx)(_.Z,{})}),(0,i.jsx)("div",{className:"bg-white",children:b.map(function(W,O){return(0,i.jsx)("div",{children:(0,i.jsx)(C,{model:W})},O)})}),(0,i.jsx)(M.Z,{loading:a||u,hasMore:!t})]})})}},38295:function(B,g,e){e.d(g,{o:function(){return L}});var h=e(15009),s=e.n(h),E=e(99289),o=e.n(E),y=e(19632),c=e.n(y),D=e(47650),d=e(30699),j=e(85134),p=e(66419),M=function(a){var u=l.mallSettings||{},r=[u.StoreNickName,u.StoreEnglishName];a?r=[u.StoreOfficialName,u.StoreOfficialEnglishName].concat(c()(r)):r=[].concat(c()(r),[u.StoreOfficialName,u.StoreOfficialEnglishName]);var t=r.filter(function(N){return!(0,p.Wq)(N)}).at(0);return t||j.v.app.name||j.v.app.englishName},R=function(){var n=o()(s()().mark(function a(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.x1.mall.notificationUnReadCount().then(function(t){l.notificationCount=t.data.Data||0});case 2:case"end":return r.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),x=function(){var n=o()(s()().mark(function a(){var u;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.x1.mallAdmin.gradeListGrades();case 2:u=t.sent,l.grades=u.data.Data||[];case 4:case"end":return t.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),_=function(){var n=o()(s()().mark(function a(){var u;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.x1.mallAdmin.storeQueryStores();case 2:u=t.sent,l.stores=u.data.Data||[];case 4:case"end":return t.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),m=function(){var n=o()(s()().mark(function a(){var u;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.x1.mall.shoppingCartCount();case 2:u=t.sent,l.shoppingCartCount=u.data.Data||0;case 4:case"end":return t.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),P=function(){var n=o()(s()().mark(function a(){var u;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.x1.mall.storeGetCurrentStore();case 2:u=t.sent,l.currentStore=u.data.Data||{};case 4:case"end":return t.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),f=function(){var n=o()(s()().mark(function a(){var u;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.x1.mall.storeMostNearbyStore();case 2:u=t.sent,l.mostNearbyStore=u.data.Data||{};case 4:case"end":return t.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),I=function(){var n=o()(s()().mark(function a(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.x1.platform.userAuth().then(function(t){l.userAuthResult=t.data||{}});case 2:case"end":return r.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),i=function(){var n=o()(s()().mark(function a(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.x1.sys.adminAuth().then(function(t){l.adminAuthResult=t.data||{}});case 2:case"end":return r.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),C=function(){var n=o()(s()().mark(function a(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.x1.sys.manageAdminQueryAdminPermissions().then(function(t){l.adminPermissions=t.data||{}});case 2:case"end":return r.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),U=function(){var n=o()(s()().mark(function a(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.x1.mallManager.storeManagerPermissionGetMyPermission().then(function(t){l.managerPermissions=t.data||{}});case 2:case"end":return r.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),A=function(){var n=o()(s()().mark(function a(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.x1.mallManager.storeManagerAuth().then(function(t){l.storeManagerAuthResult=t.data||{}});case 2:case"end":return r.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),v=function(){var n=o()(s()().mark(function a(){return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,d.x1.mall.userStoreUserAuth().then(function(t){l.storeUserAuthResult=t.data||{}});case 2:case"end":return r.stop()}},a)}));return function(){return n.apply(this,arguments)}}(),l=(0,D.sj)({queryUserAuthResult:I,getAppName:M,queryAdminAuthResult:i,queryStoreManagerAuthResult:A,queryStoreUserAuthResult:v,queryAdminPermission:C,queryStoreManagerPermission:U,queryGrades:x,queryStores:_,queryNotificationCount:R,queryShoppingCartCount:m,queryCurrentStore:P,queryMostNearbyStore:f,messageHistory:[],grades:[],stores:[],notificationCount:0,headerHeight:0,bottomHeight:0,mallSettings:{},shoppingCartCount:0,currentStore:void 0,mostNearbyStore:void 0,userAuthResult:void 0,adminAuthResult:void 0,adminPermissions:void 0,storeUserAuthResult:void 0,storeManagerAuthResult:void 0,managerPermissions:void 0,get user(){var n;return(n=this.userAuthResult)===null||n===void 0?void 0:n.User},get admin(){var n;return(n=this.adminAuthResult)===null||n===void 0?void 0:n.Admin},get storeUser(){var n;return(n=this.storeUserAuthResult)===null||n===void 0?void 0:n.StoreUser},get storeManager(){var n;return(n=this.storeManagerAuthResult)===null||n===void 0?void 0:n.StoreManager}}),L=function(){return(0,D.ey)(l)}}}]);
