"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4337],{23806:function(R,E,t){var y=t(1288),e=t(85893);E.Z=function(l){var r=l.model,m=l.fallback;if(r==null||r==null)return null;var h=r==null?void 0:r.CreationTime,M=r==null?void 0:r.LastModificationTime;return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{style:{},children:[(0,e.jsx)("div",{children:(0,e.jsx)(y.Z,{prefix:(0,e.jsx)("span",{children:"\u521B\u5EFA\uFF1A"}),onlyDate:!0,timeStr:h,fallback:m})}),(0,e.jsx)("div",{children:(0,e.jsx)(y.Z,{prefix:(0,e.jsx)("span",{children:"\u4FEE\u6539\uFF1A"}),onlyDate:!0,timeStr:M,fallback:m})})]})})}},1288:function(R,E,t){var y=t(78957),e=t(83062),l=t(46629),r=t(85893);E.Z=function(m){var h,M=m.timeStr,O=m.fallback,p=m.onlyDate,Q=m.prefix,s=(h=(0,l.mg)(M))===null||h===void 0?void 0:h.add(l.Mg,"hour");if(!s)return O||null;var K=(0,l.ND)().utc().add(l.Mg,"hour"),L=s.isSame(K,"year"),U=s.diff(K,"day"),B=L?s.format(l.AK):s.format(l.vc),z=function(){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(y.Z,{direction:"horizontal",children:[(0,r.jsx)("div",{children:s.fromNow()}),(0,r.jsx)("div",{children:s.format(l.On)})]}),(0,r.jsx)("div",{children:s.format(l.t9)})]})};return(0,r.jsx)(e.Z,{title:z(),children:(0,r.jsxs)(y.Z,{direction:"horizontal",children:[Q,(0,r.jsx)("div",{className:"inline-block cursor-pointer hover:bg-orange-500",children:p?s.format(l.vc):s.format(l.dq)})]})})}},84380:function(R,E,t){t.r(E),t.d(E,{default:function(){return X}});var y=t(97857),e=t.n(y),l=t(5574),r=t.n(l),m=t(68421),h=t(40411),M=t(66309),O=t(14726),p=t(4393),Q=t(80799),s=t(67294),K=t(23806),L=t(35291),U=t(30699),B=t(66419),z=t(45360),W=t(85576),G=t(57381),g=t(11346),T=t(24435),b=t(72269),n=t(85893),H=function(f){var Z=f.show,C=f.hide,D=f.data,P=f.ok,a=(0,s.useState)({}),d=r()(a,2),u=d[0],o=d[1],k=(0,m.Z)(U.x1.mallManager.skuUpdate,{manual:!0,onSuccess:function(j,v){(0,B._y)(j,function(){z.ZP.success("\u4FDD\u5B58\u6210\u529F"),P()})}}),F=function(j){k.run(j)};return(0,s.useEffect)(function(){o(e()({},D||{}))},[D]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(W.Z,{title:"\u5546\u54C1",open:Z,onCancel:function(){return C()},onOk:function(){return F(u)},children:(0,n.jsx)(G.Z,{spinning:k.loading,children:(0,n.jsxs)(g.Z,{onFinish:function(j){return F(j)},labelCol:{flex:"110px"},labelAlign:"right",wrapperCol:{flex:1},children:[(0,n.jsx)(g.Z.Item,{label:"\u5E93\u5B58",children:(0,n.jsx)(T.Z,{value:u.StockQuantity,onChange:function(j){o(e()(e()({},u),{},{StockQuantity:j||0}))}})}),(0,n.jsx)(g.Z.Item,{label:"\u72B6\u6001",children:(0,n.jsx)(b.Z,{checked:u.Active||!1,onChange:function(j){o(e()(e()({},u),{},{Active:j}))}})})]})})})})},J=t(71230),A=t(15746),$=t(65233),N=t(78957),V=function(f){var Z=f.query,C=f.onSearch,D=(0,s.useState)({}),P=r()(D,2),a=P[0],d=P[1];return(0,s.useEffect)(function(){d(e()(e()({},a),Z))},[Z]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(p.Z,{bordered:!1,style:{marginBottom:10},children:(0,n.jsx)(g.Z,{onFinish:function(){C(e()(e()({},a),{},{Page:1}))},children:(0,n.jsxs)(J.Z,{gutter:10,children:[(0,n.jsx)(A.Z,{span:6,children:(0,n.jsx)(g.Z.Item,{label:"Sku",children:(0,n.jsx)($.Z,{value:a.Sku||"",onChange:function(o){d(e()(e()({},a),{},{Sku:o.target.value}))}})})}),(0,n.jsx)(A.Z,{span:6,children:(0,n.jsx)(g.Z.Item,{label:"\u5173\u952E\u8BCD",children:(0,n.jsx)($.Z,{value:a.Keywords||"",onChange:function(o){d(e()(e()({},a),{},{Keywords:o.target.value}))}})})}),(0,n.jsx)(A.Z,{span:6,children:(0,n.jsx)(g.Z.Item,{label:"\u53EF\u7528\u72B6\u6001",children:(0,n.jsx)(b.Z,{checked:a.Active||!1,onChange:function(o){d(e()(e()({},a),{},{Active:o}))}})})}),(0,n.jsx)(A.Z,{span:6,children:(0,n.jsx)(g.Z.Item,{label:"\u6700\u4F4E\u4EF7",children:(0,n.jsxs)(N.Z,{direction:"horizontal",split:(0,n.jsx)("b",{children:"~"}),children:[(0,n.jsx)(T.Z,{value:a.MinPrice,onChange:function(o){d(e()(e()({},a),{},{MinPrice:o}))}}),(0,n.jsx)(T.Z,{value:a.MaxPrice,onChange:function(o){d(e()(e()({},a),{},{MaxPrice:o}))}})]})})}),(0,n.jsx)(A.Z,{span:6,children:(0,n.jsx)(g.Z.Item,{label:"\u6700\u4F4E\u5E93\u5B58",children:(0,n.jsxs)(N.Z,{direction:"horizontal",split:(0,n.jsx)("b",{children:"~"}),children:[(0,n.jsx)(T.Z,{value:a.MinStockQuantity,onChange:function(o){d(e()(e()({},a),{},{MinStockQuantity:o}))}}),(0,n.jsx)(T.Z,{value:a.MaxStockQuantity,onChange:function(o){d(e()(e()({},a),{},{MaxStockQuantity:o}))}})]})})}),(0,n.jsx)(A.Z,{span:6,children:(0,n.jsx)(g.Z.Item,{children:(0,n.jsx)(O.ZP,{htmlType:"submit",type:"primary",children:"\u641C\u7D22"})})})]})})})})},X=function(){var f,Z=(0,m.Z)(U.x1.mallManager.skuQueryPaging,{manual:!0}),C=((f=Z.data)===null||f===void 0?void 0:f.data)||{},D=(0,s.useState)({}),P=r()(D,2),a=P[0],d=P[1],u=(0,s.useState)(void 0),o=r()(u,2),k=o[0],F=o[1],x=function(c){Z.run(c)},j=[{title:"\u540D\u79F0",render:function(c,i){return"".concat((0,L.CQ)(i.Sku||{}))}},{title:"\u5E93\u5B58",render:function(c,i){return(i.StockQuantity||0)<=0?(0,n.jsx)(h.Z,{status:"error",text:(0,n.jsx)("span",{children:i.StockQuantity})}):i.StockQuantity}},{title:"\u4EF7\u683C",render:function(c,i){var S;return i.OverridePrice?(0,n.jsxs)(M.Z,{color:"green",children:["\u95E8\u5E97\u5B9A\u4EF7\uFF1A",(0,B.lb)(i.Price||0)]}):(0,n.jsx)(M.Z,{color:"warning",children:(0,n.jsx)("b",{children:(0,B.lb)(((S=i.Sku)===null||S===void 0?void 0:S.Price)||0)})})}},{title:"\u5728\u552E\u72B6\u6001",render:function(c,i){var S,I;return(S=i.Sku)!==null&&S!==void 0&&S.IsActive?(I=i.Sku)!==null&&I!==void 0&&(I=I.Goods)!==null&&I!==void 0&&I.Published?(0,n.jsxs)(n.Fragment,{children:[i.Active&&(0,n.jsx)(h.Z,{status:"success",text:"\u53EF\u7528"}),i.Active||(0,n.jsx)(h.Z,{status:"error",text:"\u4E0D\u53EF\u7528"})]}):(0,n.jsx)(h.Z,{status:"error",text:"\u57FA\u7840\u5546\u54C1\u4E0D\u53EF\u7528"}):(0,n.jsx)(h.Z,{status:"error",text:"SKU\u4E0D\u53EF\u7528"})}},{title:"\u65F6\u95F4",render:function(c,i){return(0,n.jsx)(K.Z,{model:i})}},{title:"\u64CD\u4F5C",width:200,render:function(c,i){return(0,n.jsx)(O.ZP.Group,{children:(0,n.jsx)(O.ZP,{type:"link",onClick:function(){F(i)},children:"\u7F16\u8F91"})})}}];return(0,s.useEffect)(function(){x(e()(e()({},a),{},{Page:1}))},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(H,{show:k!=null,hide:function(){return F(void 0)},data:k||{},ok:function(){F(void 0),x({Page:1})}}),(0,n.jsx)(V,{query:a,onSearch:function(c){d(c),x(c)}}),(0,n.jsx)(p.Z,{title:"\u5728\u552E\u5546\u54C1",children:(0,n.jsx)(Q.Z,{rowKey:function(c){return c.Id||""},loading:Z.loading,columns:j,dataSource:C.Items||[],pagination:{total:C.TotalCount,pageSize:C.PageSize,onChange:function(c){var i=e()(e()({},a),{},{Page:c});d(i),x(i)}}})})]})}}}]);
