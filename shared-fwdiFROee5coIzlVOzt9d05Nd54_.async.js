"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2724],{22638:function(B,w,h){var u=h(67294),m=h(92770),E=h(31663);function R(P){E.Z&&((0,m.mf)(P)||console.error("useMemoizedFn expected parameter is a function, got ".concat(typeof P)));var M=(0,u.useRef)(P);M.current=(0,u.useMemo)(function(){return P},[P]);var T=(0,u.useRef)();return T.current||(T.current=function(){for(var C=[],y=0;y<arguments.length;y++)C[y]=arguments[y];return M.current.apply(this,C)}),T.current}w.Z=R},68421:function(B,w,h){h.d(w,{Z:function(){return Le}});var u=h(97582),m=h(67294),E=h(77598),R=function(e,n){var r=n.manual,t=n.ready,i=t===void 0?!0:t,o=n.defaultParams,s=o===void 0?[]:o,v=n.refreshDeps,c=v===void 0?[]:v,l=n.refreshDepsAction,g=(0,m.useRef)(!1);return g.current=!1,(0,E.Z)(function(){!r&&i&&(g.current=!0,e.run.apply(e,(0,u.ev)([],(0,u.CR)(s),!1)))},[i]),(0,E.Z)(function(){g.current||r||(g.current=!0,l?l():e.refresh())},(0,u.ev)([],(0,u.CR)(c),!1)),{onBefore:function(){if(!i)return{stopNow:!0}}}};R.onInit=function(e){var n=e.ready,r=n===void 0?!0:n,t=e.manual;return{loading:!t&&r}};var P=R,M=h(8224);function T(e,n){var r=(0,m.useRef)({deps:n,obj:void 0,initialized:!1}).current;return(r.initialized===!1||!(0,M.Z)(r.deps,n))&&(r.deps=n,r.obj=e(),r.initialized=!0),r.obj}var C=h(45210),y=new Map,Y=function(e,n,r){var t=y.get(e);t!=null&&t.timer&&clearTimeout(t.timer);var i=void 0;n>-1&&(i=setTimeout(function(){y.delete(e)},n)),y.set(e,(0,u.pi)((0,u.pi)({},r),{timer:i}))},$=function(e){return y.get(e)},xe=function(e){if(e){var n=Array.isArray(e)?e:[e];n.forEach(function(r){return y.delete(r)})}else y.clear()},L=new Map,I=function(e){return L.get(e)},q=function(e,n){L.set(e,n),n.then(function(r){return L.delete(e),r}).catch(function(){L.delete(e)})},A={},k=function(e,n){A[e]&&A[e].forEach(function(r){return r(n)})},U=function(e,n){return A[e]||(A[e]=[]),A[e].push(n),function(){var t=A[e].indexOf(n);A[e].splice(t,1)}},_=function(e,n){var r=n.cacheKey,t=n.cacheTime,i=t===void 0?5*60*1e3:t,o=n.staleTime,s=o===void 0?0:o,v=n.setCache,c=n.getCache,l=(0,m.useRef)(),g=(0,m.useRef)(),a=function(f,d){v?v(d):Y(f,i,d),k(f,d.data)},p=function(f,d){return d===void 0&&(d=[]),c?c(d):$(f)};return T(function(){if(r){var f=p(r);f&&Object.hasOwnProperty.call(f,"data")&&(e.state.data=f.data,e.state.params=f.params,(s===-1||new Date().getTime()-f.time<=s)&&(e.state.loading=!1)),l.current=U(r,function(d){e.setState({data:d})})}},[]),(0,C.Z)(function(){var f;(f=l.current)===null||f===void 0||f.call(l)}),r?{onBefore:function(f){var d=p(r,f);return!d||!Object.hasOwnProperty.call(d,"data")?{}:s===-1||new Date().getTime()-d.time<=s?{loading:!1,data:d==null?void 0:d.data,error:void 0,returnNow:!0}:{data:d==null?void 0:d.data,error:void 0}},onRequest:function(f,d){var b=I(r);return b&&b!==g.current?{servicePromise:b}:(b=f.apply(void 0,(0,u.ev)([],(0,u.CR)(d),!1)),g.current=b,q(r,b),{servicePromise:b})},onSuccess:function(f,d){var b;r&&((b=l.current)===null||b===void 0||b.call(l),a(r,{data:f,params:d,time:new Date().getTime()}),l.current=U(r,function(j){e.setState({data:j})}))},onMutate:function(f){var d;r&&((d=l.current)===null||d===void 0||d.call(l),a(r,{data:f,params:e.state.params,time:new Date().getTime()}),l.current=U(r,function(b){e.setState({data:b})}))}}:{}},ee=_,ne=h(23279),re=h.n(ne),te=function(e,n){var r=n.debounceWait,t=n.debounceLeading,i=n.debounceTrailing,o=n.debounceMaxWait,s=(0,m.useRef)(),v=(0,m.useMemo)(function(){var c={};return t!==void 0&&(c.leading=t),i!==void 0&&(c.trailing=i),o!==void 0&&(c.maxWait=o),c},[t,i,o]);return(0,m.useEffect)(function(){if(r){var c=e.runAsync.bind(e);return s.current=re()(function(l){l()},r,v),e.runAsync=function(){for(var l=[],g=0;g<arguments.length;g++)l[g]=arguments[g];return new Promise(function(a,p){var f;(f=s.current)===null||f===void 0||f.call(s,function(){c.apply(void 0,(0,u.ev)([],(0,u.CR)(l),!1)).then(a).catch(p)})})},function(){var l;(l=s.current)===null||l===void 0||l.cancel(),e.runAsync=c}}},[r,v]),r?{onCancel:function(){var c;(c=s.current)===null||c===void 0||c.cancel()}}:{}},ue=te,ie=function(e,n){var r=n.loadingDelay,t=n.ready,i=(0,m.useRef)();if(!r)return{};var o=function(){i.current&&clearTimeout(i.current)};return{onBefore:function(){return o(),t!==!1&&(i.current=setTimeout(function(){e.setState({loading:!0})},r)),{loading:!1}},onFinally:function(){o()},onCancel:function(){o()}}},ae=ie,x=h(52982);function N(){return x.Z?document.visibilityState!=="hidden":!0}var S=[];function oe(e){return S.push(e),function(){var r=S.indexOf(e);S.splice(r,1)}}if(x.Z){var se=function(){if(N())for(var e=0;e<S.length;e++){var n=S[e];n()}};window.addEventListener("visibilitychange",se,!1)}var ce=oe,fe=function(e,n){var r=n.pollingInterval,t=n.pollingWhenHidden,i=t===void 0?!0:t,o=n.pollingErrorRetryCount,s=o===void 0?-1:o,v=(0,m.useRef)(),c=(0,m.useRef)(),l=(0,m.useRef)(0),g=function(){var a;v.current&&clearTimeout(v.current),(a=c.current)===null||a===void 0||a.call(c)};return(0,E.Z)(function(){r||g()},[r]),r?{onBefore:function(){g()},onError:function(){l.current+=1},onSuccess:function(){l.current=0},onFinally:function(){s===-1||s!==-1&&l.current<=s?v.current=setTimeout(function(){!i&&!N()?c.current=ce(function(){e.refresh()}):e.refresh()},r):l.current=0},onCancel:function(){g()}}:{}},le=fe;function de(e,n){var r=!1;return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];r||(r=!0,e.apply(void 0,(0,u.ev)([],(0,u.CR)(t),!1)),setTimeout(function(){r=!1},n))}}function ve(){return x.Z&&typeof navigator.onLine!="undefined"?navigator.onLine:!0}var F=[];function me(e){return F.push(e),function(){var r=F.indexOf(e);r>-1&&F.splice(r,1)}}if(x.Z){var K=function(){if(!(!N()||!ve()))for(var e=0;e<F.length;e++){var n=F[e];n()}};window.addEventListener("visibilitychange",K,!1),window.addEventListener("focus",K,!1)}var he=me,ge=function(e,n){var r=n.refreshOnWindowFocus,t=n.focusTimespan,i=t===void 0?5e3:t,o=(0,m.useRef)(),s=function(){var v;(v=o.current)===null||v===void 0||v.call(o)};return(0,m.useEffect)(function(){if(r){var v=de(e.refresh.bind(e),i);o.current=he(function(){v()})}return function(){s()}},[r,i]),(0,C.Z)(function(){s()}),{}},pe=ge,be=function(e,n){var r=n.retryInterval,t=n.retryCount,i=(0,m.useRef)(),o=(0,m.useRef)(0),s=(0,m.useRef)(!1);return t?{onBefore:function(){s.current||(o.current=0),s.current=!1,i.current&&clearTimeout(i.current)},onSuccess:function(){o.current=0},onError:function(){if(o.current+=1,t===-1||o.current<=t){var v=r!=null?r:Math.min(1e3*Math.pow(2,o.current),3e4);i.current=setTimeout(function(){s.current=!0,e.refresh()},v)}else o.current=0},onCancel:function(){o.current=0,i.current&&clearTimeout(i.current)}}:{}},Re=be,ye=h(23493),Pe=h.n(ye),Ce=function(e,n){var r=n.throttleWait,t=n.throttleLeading,i=n.throttleTrailing,o=(0,m.useRef)(),s={};return t!==void 0&&(s.leading=t),i!==void 0&&(s.trailing=i),(0,m.useEffect)(function(){if(r){var v=e.runAsync.bind(e);return o.current=Pe()(function(c){c()},r,s),e.runAsync=function(){for(var c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];return new Promise(function(g,a){var p;(p=o.current)===null||p===void 0||p.call(o,function(){v.apply(void 0,(0,u.ev)([],(0,u.CR)(c),!1)).then(g).catch(a)})})},function(){var c;e.runAsync=v,(c=o.current)===null||c===void 0||c.cancel()}}},[r,t,i]),r?{onCancel:function(){var v;(v=o.current)===null||v===void 0||v.cancel()}}:{}},we=Ce,Ee=h(3930),D=h(22638),G=h(92770),J=h(31663),Te=function(e){J.Z&&((0,G.mf)(e)||console.error('useMount: parameter `fn` expected to be a function, but got "'.concat(typeof e,'".'))),(0,m.useEffect)(function(){e==null||e()},[])},Ae=Te,Ze=function(){var e=(0,u.CR)((0,m.useState)({}),2),n=e[1];return(0,m.useCallback)(function(){return n({})},[])},Oe=Ze,Me=function(){function e(n,r,t,i){i===void 0&&(i={}),this.serviceRef=n,this.options=r,this.subscribe=t,this.initState=i,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,u.pi)((0,u.pi)((0,u.pi)({},this.state),{loading:!r.manual}),i)}return e.prototype.setState=function(n){n===void 0&&(n={}),this.state=(0,u.pi)((0,u.pi)({},this.state),n),this.subscribe()},e.prototype.runPluginHandler=function(n){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var i=this.pluginImpls.map(function(o){var s;return(s=o[n])===null||s===void 0?void 0:s.call.apply(s,(0,u.ev)([o],(0,u.CR)(r),!1))}).filter(Boolean);return Object.assign.apply(Object,(0,u.ev)([{}],(0,u.CR)(i),!1))},e.prototype.runAsync=function(){for(var n,r,t,i,o,s,v,c,l,g,a=[],p=0;p<arguments.length;p++)a[p]=arguments[p];return(0,u.mG)(this,void 0,void 0,function(){var f,d,b,j,z,Q,V,H,Z,O,X;return(0,u.Jh)(this,function(W){switch(W.label){case 0:if(this.count+=1,f=this.count,d=this.runPluginHandler("onBefore",a),b=d.stopNow,j=b===void 0?!1:b,z=d.returnNow,Q=z===void 0?!1:z,V=(0,u._T)(d,["stopNow","returnNow"]),j)return[2,new Promise(function(){})];if(this.setState((0,u.pi)({loading:!0,params:a},V)),Q)return[2,Promise.resolve(V.data)];(r=(n=this.options).onBefore)===null||r===void 0||r.call(n,a),W.label=1;case 1:return W.trys.push([1,3,,4]),H=this.runPluginHandler("onRequest",this.serviceRef.current,a).servicePromise,H||(H=(X=this.serviceRef).current.apply(X,(0,u.ev)([],(0,u.CR)(a),!1))),[4,H];case 2:return Z=W.sent(),f!==this.count?[2,new Promise(function(){})]:(this.setState({data:Z,error:void 0,loading:!1}),(i=(t=this.options).onSuccess)===null||i===void 0||i.call(t,Z,a),this.runPluginHandler("onSuccess",Z,a),(s=(o=this.options).onFinally)===null||s===void 0||s.call(o,a,Z,void 0),f===this.count&&this.runPluginHandler("onFinally",a,Z,void 0),[2,Z]);case 3:if(O=W.sent(),f!==this.count)return[2,new Promise(function(){})];throw this.setState({error:O,loading:!1}),(c=(v=this.options).onError)===null||c===void 0||c.call(v,O,a),this.runPluginHandler("onError",O,a),(g=(l=this.options).onFinally)===null||g===void 0||g.call(l,a,void 0,O),f===this.count&&this.runPluginHandler("onFinally",a,void 0,O),O;case 4:return[2]}})})},e.prototype.run=function(){for(var n=this,r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];this.runAsync.apply(this,(0,u.ev)([],(0,u.CR)(r),!1)).catch(function(i){n.options.onError||console.error(i)})},e.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},e.prototype.refresh=function(){this.run.apply(this,(0,u.ev)([],(0,u.CR)(this.state.params||[]),!1))},e.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,u.ev)([],(0,u.CR)(this.state.params||[]),!1))},e.prototype.mutate=function(n){var r=(0,G.mf)(n)?n(this.state.data):n;this.runPluginHandler("onMutate",r),this.setState({data:r})},e}(),De=Me;function Se(e,n,r){n===void 0&&(n={}),r===void 0&&(r=[]);var t=n.manual,i=t===void 0?!1:t,o=n.ready,s=o===void 0?!0:o,v=(0,u._T)(n,["manual","ready"]);J.Z&&n.defaultParams&&!Array.isArray(n.defaultParams)&&console.warn("expected defaultParams is array, got ".concat(typeof n.defaultParams));var c=(0,u.pi)({manual:i,ready:s},v),l=(0,Ee.Z)(e),g=Oe(),a=T(function(){var p=r.map(function(f){var d;return(d=f==null?void 0:f.onInit)===null||d===void 0?void 0:d.call(f,c)}).filter(Boolean);return new De(l,c,g,Object.assign.apply(Object,(0,u.ev)([{}],(0,u.CR)(p),!1)))},[]);return a.options=c,a.pluginImpls=r.map(function(p){return p(a,c)}),Ae(function(){if(!i&&s){var p=a.state.params||n.defaultParams||[];a.run.apply(a,(0,u.ev)([],(0,u.CR)(p),!1))}}),(0,C.Z)(function(){a.cancel()}),{loading:a.state.loading,data:a.state.data,error:a.state.error,params:a.state.params||[],cancel:(0,D.Z)(a.cancel.bind(a)),refresh:(0,D.Z)(a.refresh.bind(a)),refreshAsync:(0,D.Z)(a.refreshAsync.bind(a)),run:(0,D.Z)(a.run.bind(a)),runAsync:(0,D.Z)(a.runAsync.bind(a)),mutate:(0,D.Z)(a.mutate.bind(a))}}var Fe=Se;function We(e,n,r){return Fe(e,n,(0,u.ev)((0,u.ev)([],(0,u.CR)(r||[]),!1),[ue,ae,le,pe,we,P,ee,Re],!1))}var Be=We,Le=Be},77598:function(B,w,h){h.d(w,{Z:function(){return R}});var u=h(67294),m=function(P){return function(M,T){var C=(0,u.useRef)(!1);P(function(){return function(){C.current=!1}},[]),P(function(){if(!C.current)C.current=!0;else return M()},T)}},E=null,R=m(u.useEffect)},8224:function(B,w,h){h.d(w,{Z:function(){return u}});function u(m,E){if(m===E)return!0;for(var R=0;R<m.length;R++)if(!Object.is(m[R],E[R]))return!1;return!0}},52982:function(B,w){var h=!!(typeof window!="undefined"&&window.document&&window.document.createElement);w.Z=h}}]);
