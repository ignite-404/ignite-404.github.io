"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4579],{1288:function(At,ot,N){var f=N(78957),Ve=N(83062),U=N(46629),z=N(85893);ot.Z=function(J){var M,re=J.timeStr,$e=J.fallback,Qe=J.onlyDate,vt=J.prefix,xe=(M=(0,U.mg)(re))===null||M===void 0?void 0:M.add(U.Mg,"hour");if(!xe)return $e||null;var ae=(0,U.ND)().utc().add(U.Mg,"hour"),oe=xe.isSame(ae,"year"),Ct=xe.diff(ae,"day"),Zt=oe?xe.format(U.AK):xe.format(U.vc),xt=function(){return(0,z.jsxs)("div",{children:[(0,z.jsxs)(f.Z,{direction:"horizontal",children:[(0,z.jsx)("div",{children:xe.fromNow()}),(0,z.jsx)("div",{children:xe.format(U.On)})]}),(0,z.jsx)("div",{children:xe.format(U.t9)})]})};return(0,z.jsx)(Ve.Z,{title:xt(),children:(0,z.jsxs)(f.Z,{direction:"horizontal",children:[vt,(0,z.jsx)("div",{className:"inline-block cursor-pointer hover:bg-orange-500",children:Qe?xe.format(U.vc):xe.format(U.dq)})]})})}},85576:function(At,ot,N){N.d(ot,{Z:function(){return Vt}});var f=N(56080),Ve=N(38657),U=N(56745),z=N(67294),J=N(93967),M=N.n(J),re=N(40974),$e=N(8745),Qe=N(53124),vt=N(35792),xe=N(32409),ae=N(4941),oe=N(71194),Ct=function(_,ie){var qe={};for(var Ne in _)Object.prototype.hasOwnProperty.call(_,Ne)&&ie.indexOf(Ne)<0&&(qe[Ne]=_[Ne]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var se=0,Ne=Object.getOwnPropertySymbols(_);se<Ne.length;se++)ie.indexOf(Ne[se])<0&&Object.prototype.propertyIsEnumerable.call(_,Ne[se])&&(qe[Ne[se]]=_[Ne[se]]);return qe};const Zt=_=>{const{prefixCls:ie,className:qe,closeIcon:Ne,closable:se,type:pt,title:it,children:lt,footer:en}=_,Ht=Ct(_,["prefixCls","className","closeIcon","closable","type","title","children","footer"]),{getPrefixCls:ht}=z.useContext(Qe.E_),Dt=ht(),Fe=ie||ht("modal"),_e=(0,vt.Z)(Dt),[Q,Ft,m]=(0,oe.ZP)(Fe,_e),Kt=`${Fe}-confirm`;let dt={};return pt?dt={closable:se!=null?se:!1,title:"",footer:"",children:z.createElement(xe.O,Object.assign({},_,{prefixCls:Fe,confirmPrefixCls:Kt,rootPrefixCls:Dt,content:lt}))}:dt={closable:se!=null?se:!0,title:it,footer:en!==null&&z.createElement(ae.$,Object.assign({},_)),children:lt},Q(z.createElement(re.s,Object.assign({prefixCls:Fe,className:M()(Ft,`${Fe}-pure-panel`,pt&&Kt,pt&&`${Kt}-${pt}`,qe,m,_e)},Ht,{closeIcon:(0,ae.b)(Fe,Ne),closable:se},dt)))};var xt=(0,$e.i)(Zt),bt=N(94423);function He(_){return(0,f.ZP)((0,f.uW)(_))}const Ke=U.Z;Ke.useModal=bt.Z,Ke.info=function(ie){return(0,f.ZP)((0,f.cw)(ie))},Ke.success=function(ie){return(0,f.ZP)((0,f.vq)(ie))},Ke.error=function(ie){return(0,f.ZP)((0,f.AQ)(ie))},Ke.warning=He,Ke.warn=He,Ke.confirm=function(ie){return(0,f.ZP)((0,f.Au)(ie))},Ke.destroyAll=function(){for(;Ve.Z.length;){const ie=Ve.Z.pop();ie&&ie()}},Ke.config=f.ai,Ke._InternalPanelDoNotUseOrYouWillBeFired=xt;var Vt=Ke},39019:function(At,ot,N){N.d(ot,{Z:function(){return Qr}});var f=N(67294),Ve=N(93967),U=N.n(Ve),z=N(87462),J=N(74902),M=N(1413),re=N(97685),$e=N(45987),Qe=N(71002),vt=N(82275),xe=N(88708),ae=N(80334);function oe(n,i){return n[i]}function Ct(n,i){var d=new Set;return n.forEach(function(e){i.has(e)||d.add(e)}),d}function Zt(n){var i=n||{},d=i.disabled,e=i.disableCheckbox,o=i.checkable;return!!(d||e)||o===!1}function xt(n,i,d,e){for(var o=new Set(n),s=new Set,c=0;c<=d;c+=1){var t=i.get(c)||new Set;t.forEach(function(u){var v=u.key,p=u.node,g=u.children,y=g===void 0?[]:g;o.has(v)&&!e(p)&&y.filter(function(h){return!e(h.node)}).forEach(function(h){o.add(h.key)})})}for(var r=new Set,a=d;a>=0;a-=1){var l=i.get(a)||new Set;l.forEach(function(u){var v=u.parent,p=u.node;if(!(e(p)||!u.parent||r.has(u.parent.key))){if(e(u.parent.node)){r.add(v.key);return}var g=!0,y=!1;(v.children||[]).filter(function(h){return!e(h.node)}).forEach(function(h){var C=h.key,k=o.has(C);g&&!k&&(g=!1),!y&&(k||s.has(C))&&(y=!0)}),g&&o.add(v.key),y&&s.add(v.key),r.add(v.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(Ct(s,o))}}function bt(n,i,d,e,o){for(var s=new Set(n),c=new Set(i),t=0;t<=e;t+=1){var r=d.get(t)||new Set;r.forEach(function(v){var p=v.key,g=v.node,y=v.children,h=y===void 0?[]:y;!s.has(p)&&!c.has(p)&&!o(g)&&h.filter(function(C){return!o(C.node)}).forEach(function(C){s.delete(C.key)})})}c=new Set;for(var a=new Set,l=e;l>=0;l-=1){var u=d.get(l)||new Set;u.forEach(function(v){var p=v.parent,g=v.node;if(!(o(g)||!v.parent||a.has(v.parent.key))){if(o(v.parent.node)){a.add(p.key);return}var y=!0,h=!1;(p.children||[]).filter(function(C){return!o(C.node)}).forEach(function(C){var k=C.key,x=s.has(k);y&&!x&&(y=!1),!h&&(x||c.has(k))&&(h=!0)}),y||s.delete(p.key),h&&c.add(p.key),a.add(p.key)}})}return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(Ct(c,s))}}function He(n,i,d,e){var o=[],s;e?s=e:s=Zt;var c=new Set(n.filter(function(l){var u=!!oe(d,l);return u||o.push(l),u})),t=new Map,r=0;Object.keys(d).forEach(function(l){var u=d[l],v=u.level,p=t.get(v);p||(p=new Set,t.set(v,p)),p.add(u),r=Math.max(r,v)}),(0,ae.ZP)(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(l){return"'".concat(l,"'")}).join(", ")));var a;return i===!0?a=xt(c,t,r,s):a=bt(c,i.halfCheckedKeys,t,r,s),a}var Ke=N(21770),Vt=function(n){var i=f.useRef({valueLabels:new Map});return f.useMemo(function(){var d=i.current.valueLabels,e=new Map,o=n.map(function(s){var c,t=s.value,r=(c=s.label)!==null&&c!==void 0?c:d.get(t);return e.set(t,r),(0,M.Z)((0,M.Z)({},s),{},{label:r})});return i.current.valueLabels=e,[o]},[n])},_=function(n,i,d,e){return f.useMemo(function(){var o=n.map(function(r){var a=r.value;return a}),s=i.map(function(r){var a=r.value;return a}),c=o.filter(function(r){return!e[r]});if(d){var t=He(o,!0,e);o=t.checkedKeys,s=t.halfCheckedKeys}return[Array.from(new Set([].concat((0,J.Z)(c),(0,J.Z)(o)))),s]},[n,i,d,e])},ie=N(50344),qe=N(98423),Ne=["children"];function se(n,i){return"".concat(n,"-").concat(i)}function pt(n){return n&&n.type&&n.type.isTreeNode}function it(n,i){return n!=null?n:i}function lt(n){var i=n||{},d=i.title,e=i._title,o=i.key,s=i.children,c=d||"title";return{title:c,_title:e||[c],key:o||"key",children:s||"children"}}function en(n,i){var d=new Map;function e(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";(o||[]).forEach(function(c){var t=c[i.key],r=c[i.children];warning(t!=null,"Tree node must have a certain key: [".concat(s).concat(t,"]"));var a=String(t);warning(!d.has(a)||t===null||t===void 0,"Same 'key' exist in the Tree: ".concat(a)),d.set(a,!0),e(r,"".concat(s).concat(a," > "))})}e(n)}function Ht(n){function i(d){var e=(0,ie.Z)(d);return e.map(function(o){if(!pt(o))return(0,ae.ZP)(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var s=o.key,c=o.props,t=c.children,r=(0,$e.Z)(c,Ne),a=(0,M.Z)({key:s},r),l=i(t);return l.length&&(a.children=l),a}).filter(function(o){return o})}return i(n)}function ht(n,i,d){var e=lt(d),o=e._title,s=e.key,c=e.children,t=new Set(i===!0?[]:i),r=[];function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return l.map(function(v,p){for(var g=se(u?u.pos:"0",p),y=it(v[s],g),h,C=0;C<o.length;C+=1){var k=o[C];if(v[k]!==void 0){h=v[k];break}}var x=Object.assign((0,qe.Z)(v,[].concat((0,J.Z)(o),[s,c])),{title:h,key:y,parent:u,pos:g,children:null,data:v,isStart:[].concat((0,J.Z)(u?u.isStart:[]),[p===0]),isEnd:[].concat((0,J.Z)(u?u.isEnd:[]),[p===l.length-1])});return r.push(x),i===!0||t.has(y)?x.children=a(v[c]||[],x):x.children=[],x})}return a(n),r}function Dt(n,i,d){var e={};(0,Qe.Z)(d)==="object"?e=d:e={externalGetKey:d},e=e||{};var o=e,s=o.childrenPropName,c=o.externalGetKey,t=o.fieldNames,r=lt(t),a=r.key,l=r.children,u=s||l,v;c?typeof c=="string"?v=function(y){return y[c]}:typeof c=="function"&&(v=function(y){return c(y)}):v=function(y,h){return it(y[a],h)};function p(g,y,h,C){var k=g?g[u]:n,x=g?se(h.pos,y):"0",S=g?[].concat((0,J.Z)(C),[g]):[];if(g){var Z=v(g,x),E={node:g,index:y,pos:x,key:Z,parentPos:h.node?h.pos:null,level:h.level+1,nodes:S};i(E)}k&&k.forEach(function(O,b){p(O,b,{node:g,pos:x,level:h?h.level+1:-1},S)})}p(null)}function Fe(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},d=i.initWrapper,e=i.processEntity,o=i.onProcessFinished,s=i.externalGetKey,c=i.childrenPropName,t=i.fieldNames,r=arguments.length>2?arguments[2]:void 0,a=s||r,l={},u={},v={posEntities:l,keyEntities:u};return d&&(v=d(v)||v),Dt(n,function(p){var g=p.node,y=p.index,h=p.pos,C=p.key,k=p.parentPos,x=p.level,S=p.nodes,Z={node:g,nodes:S,index:y,key:C,pos:h,level:x},E=it(C,h);l[h]=Z,u[E]=Z,Z.parent=l[k],Z.parent&&(Z.parent.children=Z.parent.children||[],Z.parent.children.push(Z)),e&&e(Z,v)},{externalGetKey:a,childrenPropName:c,fieldNames:t}),o&&o(v),v}function _e(n,i){var d=i.expandedKeys,e=i.selectedKeys,o=i.loadedKeys,s=i.loadingKeys,c=i.checkedKeys,t=i.halfCheckedKeys,r=i.dragOverNodeKey,a=i.dropPosition,l=i.keyEntities,u=oe(l,n),v={eventKey:n,expanded:d.indexOf(n)!==-1,selected:e.indexOf(n)!==-1,loaded:o.indexOf(n)!==-1,loading:s.indexOf(n)!==-1,checked:c.indexOf(n)!==-1,halfChecked:t.indexOf(n)!==-1,pos:String(u?u.pos:""),dragOver:r===n&&a===0,dragOverGapTop:r===n&&a===-1,dragOverGapBottom:r===n&&a===1};return v}function Q(n){var i=n.data,d=n.expanded,e=n.selected,o=n.checked,s=n.loaded,c=n.loading,t=n.halfChecked,r=n.dragOver,a=n.dragOverGapTop,l=n.dragOverGapBottom,u=n.pos,v=n.active,p=n.eventKey,g=(0,M.Z)((0,M.Z)({},i),{},{expanded:d,selected:e,checked:o,loaded:s,loading:c,halfChecked:t,dragOver:r,dragOverGapTop:a,dragOverGapBottom:l,pos:u,active:v,key:p});return"props"in g||Object.defineProperty(g,"props",{get:function(){return(0,ae.ZP)(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),g}var Ft=function(n,i){return f.useMemo(function(){var d=Fe(n,{fieldNames:i,initWrapper:function(o){return(0,M.Z)((0,M.Z)({},o),{},{valueEntities:new Map})},processEntity:function(o,s){var c=o.node[i.value];if(0)var t;s.valueEntities.set(c,o)}});return d},[n,i])},m=N(4942),Kt=function(){return null},dt=Kt,An=["children","value"];function tn(n){return(0,ie.Z)(n).map(function(i){if(!f.isValidElement(i)||!i.type)return null;var d=i,e=d.key,o=d.props,s=o.children,c=o.value,t=(0,$e.Z)(o,An),r=(0,M.Z)({key:e,value:c},t),a=tn(s);return a.length&&(r.children=a),r}).filter(function(i){return i})}function Wt(n){if(!n)return n;var i=(0,M.Z)({},n);return"props"in i||Object.defineProperty(i,"props",{get:function(){return(0,ae.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),i}}),i}function Vn(n,i,d,e,o,s){var c=null,t=null;function r(){function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return l.map(function(p,g){var y="".concat(u,"-").concat(g),h=p[s.value],C=d.includes(h),k=a(p[s.children]||[],y,C),x=f.createElement(dt,p,k.map(function(Z){return Z.node}));if(i===h&&(c=x),C){var S={pos:y,node:x,children:k};return v||t.push(S),S}return null}).filter(function(p){return p})}t||(t=[],a(e),t.sort(function(l,u){var v=l.node.props.value,p=u.node.props.value,g=d.indexOf(v),y=d.indexOf(p);return g-y}))}Object.defineProperty(n,"triggerNode",{get:function(){return(0,ae.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),r(),c}}),Object.defineProperty(n,"allCheckedNodes",{get:function(){return(0,ae.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),r(),o?t:t.map(function(l){var u=l.node;return u})}})}var Hn=function(n,i,d){var e=d.treeNodeFilterProp,o=d.filterTreeNode,s=d.fieldNames,c=s.children;return f.useMemo(function(){if(!i||o===!1)return n;var t;if(typeof o=="function")t=o;else{var r=i.toUpperCase();t=function(u,v){var p=v[e];return String(p).toUpperCase().includes(r)}}function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return l.reduce(function(v,p){var g=p[c],y=u||t(i,Wt(p)),h=a(g||[],y);return(y||h.length)&&v.push((0,M.Z)((0,M.Z)({},p),{},(0,m.Z)({isLeaf:void 0},c,h))),v},[])}return a(n)},[n,i,c,e,o])};function nn(n){var i=f.useRef();i.current=n;var d=f.useCallback(function(){return i.current.apply(i,arguments)},[]);return d}function Fn(n,i){var d=i.id,e=i.pId,o=i.rootPId,s={},c=[],t=n.map(function(r){var a=(0,M.Z)({},r),l=a[d];return s[l]=a,a.key=a.key||l,a});return t.forEach(function(r){var a=r[e],l=s[a];l&&(l.children=l.children||[],l.children.push(r)),(a===o||!l&&o===null)&&c.push(r)}),c}function Wn(n,i,d){return f.useMemo(function(){return n?d?Fn(n,(0,M.Z)({id:"id",pId:"pId",rootPId:null},d!==!0?d:{})):n:tn(i)},[i,d,n])}var jn=f.createContext(null),rn=jn,an=N(15671),on=N(43144),K=N(97326),ln=N(60136),dn=N(73568),Pe=N(15105),sn=N(64217),jt=f.createContext(null);function Un(n){var i=n.dropPosition,d=n.dropLevelOffset,e=n.indent,o={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(i){case-1:o.top=0,o.left=-d*e;break;case 1:o.bottom=0,o.left=-d*e;break;case 0:o.bottom=0,o.left=e;break}return f.createElement("div",{style:o})}var cn=N(36459),Pt=N(8410),Bn=N(85344),Gn=N(29372),zn=function(i){for(var d=i.prefixCls,e=i.level,o=i.isStart,s=i.isEnd,c="".concat(d,"-indent-unit"),t=[],r=0;r<e;r+=1)t.push(f.createElement("span",{key:r,className:U()(c,(0,m.Z)((0,m.Z)({},"".concat(c,"-start"),o[r]),"".concat(c,"-end"),s[r]))}));return f.createElement("span",{"aria-hidden":"true",className:"".concat(d,"-indent")},t)},Yn=f.memo(zn),Xn=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],un="open",fn="close",Jn="---",Qn=function(n){(0,ln.Z)(d,n);var i=(0,dn.Z)(d);function d(){var e;(0,an.Z)(this,d);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return e=i.call.apply(i,[this].concat(s)),(0,m.Z)((0,K.Z)(e),"state",{dragNodeHighlight:!1}),(0,m.Z)((0,K.Z)(e),"selectHandle",void 0),(0,m.Z)((0,K.Z)(e),"cacheIndent",void 0),(0,m.Z)((0,K.Z)(e),"onSelectorClick",function(t){var r=e.props.context.onNodeClick;r(t,Q(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)}),(0,m.Z)((0,K.Z)(e),"onSelectorDoubleClick",function(t){var r=e.props.context.onNodeDoubleClick;r(t,Q(e.props))}),(0,m.Z)((0,K.Z)(e),"onSelect",function(t){if(!e.isDisabled()){var r=e.props.context.onNodeSelect;r(t,Q(e.props))}}),(0,m.Z)((0,K.Z)(e),"onCheck",function(t){if(!e.isDisabled()){var r=e.props,a=r.disableCheckbox,l=r.checked,u=e.props.context.onNodeCheck;if(!(!e.isCheckable()||a)){var v=!l;u(t,Q(e.props),v)}}}),(0,m.Z)((0,K.Z)(e),"onMouseEnter",function(t){var r=e.props.context.onNodeMouseEnter;r(t,Q(e.props))}),(0,m.Z)((0,K.Z)(e),"onMouseLeave",function(t){var r=e.props.context.onNodeMouseLeave;r(t,Q(e.props))}),(0,m.Z)((0,K.Z)(e),"onContextMenu",function(t){var r=e.props.context.onNodeContextMenu;r(t,Q(e.props))}),(0,m.Z)((0,K.Z)(e),"onDragStart",function(t){var r=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),r(t,(0,K.Z)(e));try{t.dataTransfer.setData("text/plain","")}catch(a){}}),(0,m.Z)((0,K.Z)(e),"onDragEnter",function(t){var r=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),r(t,(0,K.Z)(e))}),(0,m.Z)((0,K.Z)(e),"onDragOver",function(t){var r=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),r(t,(0,K.Z)(e))}),(0,m.Z)((0,K.Z)(e),"onDragLeave",function(t){var r=e.props.context.onNodeDragLeave;t.stopPropagation(),r(t,(0,K.Z)(e))}),(0,m.Z)((0,K.Z)(e),"onDragEnd",function(t){var r=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,(0,K.Z)(e))}),(0,m.Z)((0,K.Z)(e),"onDrop",function(t){var r=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),r(t,(0,K.Z)(e))}),(0,m.Z)((0,K.Z)(e),"onExpand",function(t){var r=e.props,a=r.loading,l=r.context.onNodeExpand;a||l(t,Q(e.props))}),(0,m.Z)((0,K.Z)(e),"setSelectHandle",function(t){e.selectHandle=t}),(0,m.Z)((0,K.Z)(e),"getNodeState",function(){var t=e.props.expanded;return e.isLeaf()?null:t?un:fn}),(0,m.Z)((0,K.Z)(e),"hasChildren",function(){var t=e.props.eventKey,r=e.props.context.keyEntities,a=oe(r,t)||{},l=a.children;return!!(l||[]).length}),(0,m.Z)((0,K.Z)(e),"isLeaf",function(){var t=e.props,r=t.isLeaf,a=t.loaded,l=e.props.context.loadData,u=e.hasChildren();return r===!1?!1:r||!l&&!u||l&&a&&!u}),(0,m.Z)((0,K.Z)(e),"isDisabled",function(){var t=e.props.disabled,r=e.props.context.disabled;return!!(r||t)}),(0,m.Z)((0,K.Z)(e),"isCheckable",function(){var t=e.props.checkable,r=e.props.context.checkable;return!r||t===!1?!1:r}),(0,m.Z)((0,K.Z)(e),"syncLoadData",function(t){var r=t.expanded,a=t.loading,l=t.loaded,u=e.props.context,v=u.loadData,p=u.onNodeLoad;a||v&&r&&!e.isLeaf()&&!l&&p(Q(e.props))}),(0,m.Z)((0,K.Z)(e),"isDraggable",function(){var t=e.props,r=t.data,a=t.context.draggable;return!!(a&&(!a.nodeDraggable||a.nodeDraggable(r)))}),(0,m.Z)((0,K.Z)(e),"renderDragHandler",function(){var t=e.props.context,r=t.draggable,a=t.prefixCls;return r!=null&&r.icon?f.createElement("span",{className:"".concat(a,"-draggable-icon")},r.icon):null}),(0,m.Z)((0,K.Z)(e),"renderSwitcherIconDom",function(t){var r=e.props.switcherIcon,a=e.props.context.switcherIcon,l=r||a;return typeof l=="function"?l((0,M.Z)((0,M.Z)({},e.props),{},{isLeaf:t})):l}),(0,m.Z)((0,K.Z)(e),"renderSwitcher",function(){var t=e.props.expanded,r=e.props.context.prefixCls;if(e.isLeaf()){var a=e.renderSwitcherIconDom(!0);return a!==!1?f.createElement("span",{className:U()("".concat(r,"-switcher"),"".concat(r,"-switcher-noop"))},a):null}var l=U()("".concat(r,"-switcher"),"".concat(r,"-switcher_").concat(t?un:fn)),u=e.renderSwitcherIconDom(!1);return u!==!1?f.createElement("span",{onClick:e.onExpand,className:l},u):null}),(0,m.Z)((0,K.Z)(e),"renderCheckbox",function(){var t=e.props,r=t.checked,a=t.halfChecked,l=t.disableCheckbox,u=e.props.context.prefixCls,v=e.isDisabled(),p=e.isCheckable();if(!p)return null;var g=typeof p!="boolean"?p:null;return f.createElement("span",{className:U()("".concat(u,"-checkbox"),r&&"".concat(u,"-checkbox-checked"),!r&&a&&"".concat(u,"-checkbox-indeterminate"),(v||l)&&"".concat(u,"-checkbox-disabled")),onClick:e.onCheck},g)}),(0,m.Z)((0,K.Z)(e),"renderIcon",function(){var t=e.props.loading,r=e.props.context.prefixCls;return f.createElement("span",{className:U()("".concat(r,"-iconEle"),"".concat(r,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(r,"-icon_loading"))})}),(0,m.Z)((0,K.Z)(e),"renderSelector",function(){var t=e.state.dragNodeHighlight,r=e.props,a=r.title,l=a===void 0?Jn:a,u=r.selected,v=r.icon,p=r.loading,g=r.data,y=e.props.context,h=y.prefixCls,C=y.showIcon,k=y.icon,x=y.loadData,S=y.titleRender,Z=e.isDisabled(),E="".concat(h,"-node-content-wrapper"),O;if(C){var b=v||k;O=b?f.createElement("span",{className:U()("".concat(h,"-iconEle"),"".concat(h,"-icon__customize"))},typeof b=="function"?b(e.props):b):e.renderIcon()}else x&&p&&(O=e.renderIcon());var P;typeof l=="function"?P=l(g):S?P=S(g):P=l;var D=f.createElement("span",{className:"".concat(h,"-title")},P);return f.createElement("span",{ref:e.setSelectHandle,title:typeof l=="string"?l:"",className:U()("".concat(E),"".concat(E,"-").concat(e.getNodeState()||"normal"),!Z&&(u||t)&&"".concat(h,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},O,D,e.renderDropIndicator())}),(0,m.Z)((0,K.Z)(e),"renderDropIndicator",function(){var t=e.props,r=t.disabled,a=t.eventKey,l=e.props.context,u=l.draggable,v=l.dropLevelOffset,p=l.dropPosition,g=l.prefixCls,y=l.indent,h=l.dropIndicatorRender,C=l.dragOverNodeKey,k=l.direction,x=!!u,S=!r&&x&&C===a,Z=y!=null?y:e.cacheIndent;return e.cacheIndent=y,S?h({dropPosition:p,dropLevelOffset:v,indent:Z,prefixCls:g,direction:k}):null}),e}return(0,on.Z)(d,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var o=this.props.selectable,s=this.props.context.selectable;return typeof o=="boolean"?o:s}},{key:"render",value:function(){var o,s=this.props,c=s.eventKey,t=s.className,r=s.style,a=s.dragOver,l=s.dragOverGapTop,u=s.dragOverGapBottom,v=s.isLeaf,p=s.isStart,g=s.isEnd,y=s.expanded,h=s.selected,C=s.checked,k=s.halfChecked,x=s.loading,S=s.domRef,Z=s.active,E=s.data,O=s.onMouseMove,b=s.selectable,P=(0,$e.Z)(s,Xn),D=this.props.context,T=D.prefixCls,I=D.filterTreeNode,V=D.keyEntities,F=D.dropContainerKey,B=D.dropTargetKey,q=D.draggingNodeKey,$=this.isDisabled(),te=(0,sn.Z)(P,{aria:!0,data:!0}),pe=oe(V,c)||{},ce=pe.level,Te=g[g.length-1],le=this.isDraggable(),Se=!$&&le,ee=q===c,G=b!==void 0?{"aria-selected":!!b}:void 0;return f.createElement("div",(0,z.Z)({ref:S,className:U()(t,"".concat(T,"-treenode"),(o={},(0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)(o,"".concat(T,"-treenode-disabled"),$),"".concat(T,"-treenode-switcher-").concat(y?"open":"close"),!v),"".concat(T,"-treenode-checkbox-checked"),C),"".concat(T,"-treenode-checkbox-indeterminate"),k),"".concat(T,"-treenode-selected"),h),"".concat(T,"-treenode-loading"),x),"".concat(T,"-treenode-active"),Z),"".concat(T,"-treenode-leaf-last"),Te),"".concat(T,"-treenode-draggable"),le),"dragging",ee),(0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)((0,m.Z)(o,"drop-target",B===c),"drop-container",F===c),"drag-over",!$&&a),"drag-over-gap-top",!$&&l),"drag-over-gap-bottom",!$&&u),"filter-node",I&&I(Q(this.props))))),style:r,draggable:Se,"aria-grabbed":ee,onDragStart:Se?this.onDragStart:void 0,onDragEnter:le?this.onDragEnter:void 0,onDragOver:le?this.onDragOver:void 0,onDragLeave:le?this.onDragLeave:void 0,onDrop:le?this.onDrop:void 0,onDragEnd:le?this.onDragEnd:void 0,onMouseMove:O},G,te),f.createElement(Yn,{prefixCls:T,level:ce,isStart:p,isEnd:g}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),d}(f.Component),Ut=function(i){return f.createElement(jt.Consumer,null,function(d){return f.createElement(Qn,(0,z.Z)({},i,{context:d}))})};Ut.displayName="TreeNode",Ut.isTreeNode=1;var Bt=Ut;function qn(n,i){var d=f.useState(!1),e=(0,re.Z)(d,2),o=e[0],s=e[1];(0,Pt.Z)(function(){if(o)return n(),function(){i()}},[o]),(0,Pt.Z)(function(){return s(!0),function(){s(!1)}},[])}var _n=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],vn=function(i,d){var e=i.className,o=i.style,s=i.motion,c=i.motionNodes,t=i.motionType,r=i.onMotionStart,a=i.onMotionEnd,l=i.active,u=i.treeNodeRequiredProps,v=(0,$e.Z)(i,_n),p=f.useState(!0),g=(0,re.Z)(p,2),y=g[0],h=g[1],C=f.useContext(jt),k=C.prefixCls,x=c&&t!=="hide";(0,Pt.Z)(function(){c&&x!==y&&h(x)},[c]);var S=function(){c&&r()},Z=f.useRef(!1),E=function(){c&&!Z.current&&(Z.current=!0,a())};qn(S,E);var O=function(P){x===P&&E()};return c?f.createElement(Gn.ZP,(0,z.Z)({ref:d,visible:y},s,{motionAppear:t==="show",onVisibleChanged:O}),function(b,P){var D=b.className,T=b.style;return f.createElement("div",{ref:P,className:U()("".concat(k,"-treenode-motion"),D),style:T},c.map(function(I){var V=Object.assign({},((0,cn.Z)(I.data),I.data)),F=I.title,B=I.key,q=I.isStart,$=I.isEnd;delete V.children;var te=_e(B,u);return f.createElement(Bt,(0,z.Z)({},V,te,{title:F,active:l,data:I.data,key:B,isStart:q,isEnd:$}))}))}):f.createElement(Bt,(0,z.Z)({domRef:d,className:e,style:o},v,{active:l}))};vn.displayName="MotionTreeNode";var er=f.forwardRef(vn),tr=er;function nr(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],d=n.length,e=i.length;if(Math.abs(d-e)!==1)return{add:!1,key:null};function o(s,c){var t=new Map;s.forEach(function(a){t.set(a,!0)});var r=c.filter(function(a){return!t.has(a)});return r.length===1?r[0]:null}return d<e?{add:!0,key:o(n,i)}:{add:!1,key:o(i,n)}}function pn(n,i,d){var e=n.findIndex(function(t){return t.key===d}),o=n[e+1],s=i.findIndex(function(t){return t.key===d});if(o){var c=i.findIndex(function(t){return t.key===o.key});return i.slice(s+1,c)}return i.slice(s+1)}var rr=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],hn={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},ar=function(){},st="RC_TREE_MOTION_".concat(Math.random()),Gt={key:st},gn={key:st,level:0,index:0,pos:"0",node:Gt,nodes:[Gt]},yn={parent:null,children:[],pos:gn.pos,data:Gt,title:null,key:st,isStart:[],isEnd:[]};function mn(n,i,d,e){return i===!1||!d?n:n.slice(0,Math.ceil(d/e)+1)}function Cn(n){var i=n.key,d=n.pos;return it(i,d)}function or(n){for(var i=String(n.data.key),d=n;d.parent;)d=d.parent,i="".concat(d.data.key," > ").concat(i);return i}var xn=f.forwardRef(function(n,i){var d=n.prefixCls,e=n.data,o=n.selectable,s=n.checkable,c=n.expandedKeys,t=n.selectedKeys,r=n.checkedKeys,a=n.loadedKeys,l=n.loadingKeys,u=n.halfCheckedKeys,v=n.keyEntities,p=n.disabled,g=n.dragging,y=n.dragOverNodeKey,h=n.dropPosition,C=n.motion,k=n.height,x=n.itemHeight,S=n.virtual,Z=n.focusable,E=n.activeItem,O=n.focused,b=n.tabIndex,P=n.onKeyDown,D=n.onFocus,T=n.onBlur,I=n.onActiveChange,V=n.onListChangeStart,F=n.onListChangeEnd,B=(0,$e.Z)(n,rr),q=f.useRef(null),$=f.useRef(null);f.useImperativeHandle(i,function(){return{scrollTo:function(ye){q.current.scrollTo(ye)},getIndentWidth:function(){return $.current.offsetWidth}}});var te=f.useState(c),pe=(0,re.Z)(te,2),ce=pe[0],Te=pe[1],le=f.useState(e),Se=(0,re.Z)(le,2),ee=Se[0],G=Se[1],Ie=f.useState(e),ue=(0,re.Z)(Ie,2),Oe=ue[0],he=ue[1],ne=f.useState([]),we=(0,re.Z)(ne,2),je=we[0],Le=we[1],Ue=f.useState(null),Ee=(0,re.Z)(Ue,2),Be=Ee[0],Ge=Ee[1],tt=f.useRef(e);tt.current=e;function ge(){var L=tt.current;G(L),he(L),Le([]),Ge(null),F()}(0,Pt.Z)(function(){Te(c);var L=nr(ce,c);if(L.key!==null)if(L.add){var ye=ee.findIndex(function(ke){var de=ke.key;return de===L.key}),me=mn(pn(ee,e,L.key),S,k,x),fe=ee.slice();fe.splice(ye+1,0,yn),he(fe),Le(me),Ge("show")}else{var Ce=e.findIndex(function(ke){var de=ke.key;return de===L.key}),W=mn(pn(e,ee,L.key),S,k,x),w=e.slice();w.splice(Ce+1,0,yn),he(w),Le(W),Ge("hide")}else ee!==e&&(G(e),he(e))},[c,e]),f.useEffect(function(){g||ge()},[g]);var Me=C?Oe:e,Re={expandedKeys:c,selectedKeys:t,loadedKeys:a,loadingKeys:l,checkedKeys:r,halfCheckedKeys:u,dragOverNodeKey:y,dropPosition:h,keyEntities:v};return f.createElement(f.Fragment,null,O&&E&&f.createElement("span",{style:hn,"aria-live":"assertive"},or(E)),f.createElement("div",null,f.createElement("input",{style:hn,disabled:Z===!1||p,tabIndex:Z!==!1?b:null,onKeyDown:P,onFocus:D,onBlur:T,value:"",onChange:ar,"aria-label":"for screen reader"})),f.createElement("div",{className:"".concat(d,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},f.createElement("div",{className:"".concat(d,"-indent")},f.createElement("div",{ref:$,className:"".concat(d,"-indent-unit")}))),f.createElement(Bn.Z,(0,z.Z)({},B,{data:Me,itemKey:Cn,height:k,fullHeight:!1,virtual:S,itemHeight:x,prefixCls:"".concat(d,"-list"),ref:q,onVisibleChange:function(ye,me){var fe=new Set(ye),Ce=me.filter(function(W){return!fe.has(W)});Ce.some(function(W){return Cn(W)===st})&&ge()}}),function(L){var ye=L.pos,me=Object.assign({},((0,cn.Z)(L.data),L.data)),fe=L.title,Ce=L.key,W=L.isStart,w=L.isEnd,ke=it(Ce,ye);delete me.key,delete me.children;var de=_e(ke,Re);return f.createElement(tr,(0,z.Z)({},me,de,{title:fe,active:!!E&&Ce===E.key,pos:ye,data:L.data,isStart:W,isEnd:w,motion:C,motionNodes:Ce===st?je:null,motionType:Be,onMotionStart:V,onMotionEnd:ge,treeNodeRequiredProps:Re,onMouseMove:function(){I(null)}}))}))});xn.displayName="NodeList";var ir=xn,lr=null;function We(n,i){if(!n)return[];var d=n.slice(),e=d.indexOf(i);return e>=0&&d.splice(e,1),d}function et(n,i){var d=(n||[]).slice();return d.indexOf(i)===-1&&d.push(i),d}function zt(n){return n.split("-")}function dr(n,i){var d=[],e=oe(i,n);function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(c){var t=c.key,r=c.children;d.push(t),o(r)})}return o(e.children),d}function sr(n){if(n.parent){var i=zt(n.pos);return Number(i[i.length-1])===n.parent.children.length-1}return!1}function cr(n){var i=zt(n.pos);return Number(i[i.length-1])===0}function Kn(n,i,d,e,o,s,c,t,r,a){var l,u=n.clientX,v=n.clientY,p=n.target.getBoundingClientRect(),g=p.top,y=p.height,h=(a==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-u),C=(h-12)/e,k=r.filter(function(q){var $;return($=t[q])===null||$===void 0||($=$.children)===null||$===void 0?void 0:$.length}),x=oe(t,d.props.eventKey);if(v<g+y/2){var S=c.findIndex(function(q){return q.key===x.key}),Z=S<=0?0:S-1,E=c[Z].key;x=oe(t,E)}var O=x.key,b=x,P=x.key,D=0,T=0;if(!k.includes(O))for(var I=0;I<C&&sr(x);I+=1)x=x.parent,T+=1;var V=i.props.data,F=x.node,B=!0;return cr(x)&&x.level===0&&v<g+y/2&&s({dragNode:V,dropNode:F,dropPosition:-1})&&x.key===d.props.eventKey?D=-1:(b.children||[]).length&&k.includes(P)?s({dragNode:V,dropNode:F,dropPosition:0})?D=0:B=!1:T===0?C>-1.5?s({dragNode:V,dropNode:F,dropPosition:1})?D=1:B=!1:s({dragNode:V,dropNode:F,dropPosition:0})?D=0:s({dragNode:V,dropNode:F,dropPosition:1})?D=1:B=!1:s({dragNode:V,dropNode:F,dropPosition:1})?D=1:B=!1,{dropPosition:D,dropLevelOffset:T,dropTargetKey:x.key,dropTargetPos:x.pos,dragOverNodeKey:P,dropContainerKey:D===0?null:((l=x.parent)===null||l===void 0?void 0:l.key)||null,dropAllowed:B}}function Nn(n,i){if(n){var d=i.multiple;return d?n.slice():n.length?[n[0]]:n}}var ur=function(i){return i};function fr(n,i){if(!n)return[];var d=i||{},e=d.processProps,o=e===void 0?ur:e,s=Array.isArray(n)?n:[n];return s.map(function(c){var t=c.children,r=_objectWithoutProperties(c,lr),a=fr(t,i);return React.createElement(TreeNode,_extends({key:r.key},o(r)),a)})}function Yt(n){if(!n)return null;var i;if(Array.isArray(n))i={checkedKeys:n,halfCheckedKeys:void 0};else if((0,Qe.Z)(n)==="object")i={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return(0,ae.ZP)(!1,"`checkedKeys` is not an array or an object"),null;return i}function Sn(n,i){var d=new Set;function e(o){if(!d.has(o)){var s=oe(i,o);if(s){d.add(o);var c=s.parent,t=s.node;t.disabled||c&&e(c.key)}}}return(n||[]).forEach(function(o){e(o)}),(0,J.Z)(d)}var vr=10,Xt=function(n){(0,ln.Z)(d,n);var i=(0,dn.Z)(d);function d(){var e;(0,an.Z)(this,d);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return e=i.call.apply(i,[this].concat(s)),(0,m.Z)((0,K.Z)(e),"destroyed",!1),(0,m.Z)((0,K.Z)(e),"delayedDragEnterLogic",void 0),(0,m.Z)((0,K.Z)(e),"loadingRetryTimes",{}),(0,m.Z)((0,K.Z)(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:lt()}),(0,m.Z)((0,K.Z)(e),"dragStartMousePosition",null),(0,m.Z)((0,K.Z)(e),"dragNode",void 0),(0,m.Z)((0,K.Z)(e),"currentMouseOverDroppableNodeKey",null),(0,m.Z)((0,K.Z)(e),"listRef",f.createRef()),(0,m.Z)((0,K.Z)(e),"onNodeDragStart",function(t,r){var a=e.state,l=a.expandedKeys,u=a.keyEntities,v=e.props.onDragStart,p=r.props.eventKey;e.dragNode=r,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var g=We(l,p);e.setState({draggingNodeKey:p,dragChildrenKeys:dr(p,u),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(g),window.addEventListener("dragend",e.onWindowDragEnd),v==null||v({event:t,node:Q(r.props)})}),(0,m.Z)((0,K.Z)(e),"onNodeDragEnter",function(t,r){var a=e.state,l=a.expandedKeys,u=a.keyEntities,v=a.dragChildrenKeys,p=a.flattenNodes,g=a.indent,y=e.props,h=y.onDragEnter,C=y.onExpand,k=y.allowDrop,x=y.direction,S=r.props,Z=S.pos,E=S.eventKey,O=(0,K.Z)(e),b=O.dragNode;if(e.currentMouseOverDroppableNodeKey!==E&&(e.currentMouseOverDroppableNodeKey=E),!b){e.resetDragState();return}var P=Kn(t,b,r,g,e.dragStartMousePosition,k,p,u,l,x),D=P.dropPosition,T=P.dropLevelOffset,I=P.dropTargetKey,V=P.dropContainerKey,F=P.dropTargetPos,B=P.dropAllowed,q=P.dragOverNodeKey;if(v.indexOf(I)!==-1||!B){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function($){clearTimeout(e.delayedDragEnterLogic[$])}),b.props.eventKey!==r.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[Z]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var $=(0,J.Z)(l),te=oe(u,r.props.eventKey);te&&(te.children||[]).length&&($=et(l,r.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys($),C==null||C($,{node:Q(r.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),b.props.eventKey===I&&T===0){e.resetDragState();return}e.setState({dragOverNodeKey:q,dropPosition:D,dropLevelOffset:T,dropTargetKey:I,dropContainerKey:V,dropTargetPos:F,dropAllowed:B}),h==null||h({event:t,node:Q(r.props),expandedKeys:l})}),(0,m.Z)((0,K.Z)(e),"onNodeDragOver",function(t,r){var a=e.state,l=a.dragChildrenKeys,u=a.flattenNodes,v=a.keyEntities,p=a.expandedKeys,g=a.indent,y=e.props,h=y.onDragOver,C=y.allowDrop,k=y.direction,x=(0,K.Z)(e),S=x.dragNode;if(S){var Z=Kn(t,S,r,g,e.dragStartMousePosition,C,u,v,p,k),E=Z.dropPosition,O=Z.dropLevelOffset,b=Z.dropTargetKey,P=Z.dropContainerKey,D=Z.dropAllowed,T=Z.dropTargetPos,I=Z.dragOverNodeKey;l.indexOf(b)!==-1||!D||(S.props.eventKey===b&&O===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():E===e.state.dropPosition&&O===e.state.dropLevelOffset&&b===e.state.dropTargetKey&&P===e.state.dropContainerKey&&T===e.state.dropTargetPos&&D===e.state.dropAllowed&&I===e.state.dragOverNodeKey||e.setState({dropPosition:E,dropLevelOffset:O,dropTargetKey:b,dropContainerKey:P,dropTargetPos:T,dropAllowed:D,dragOverNodeKey:I}),h==null||h({event:t,node:Q(r.props)}))}}),(0,m.Z)((0,K.Z)(e),"onNodeDragLeave",function(t,r){e.currentMouseOverDroppableNodeKey===r.props.eventKey&&!t.currentTarget.contains(t.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var a=e.props.onDragLeave;a==null||a({event:t,node:Q(r.props)})}),(0,m.Z)((0,K.Z)(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,m.Z)((0,K.Z)(e),"onNodeDragEnd",function(t,r){var a=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),a==null||a({event:t,node:Q(r.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),(0,m.Z)((0,K.Z)(e),"onNodeDrop",function(t,r){var a,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,u=e.state,v=u.dragChildrenKeys,p=u.dropPosition,g=u.dropTargetKey,y=u.dropTargetPos,h=u.dropAllowed;if(h){var C=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),g!==null){var k=(0,M.Z)((0,M.Z)({},_e(g,e.getTreeNodeRequiredProps())),{},{active:((a=e.getActiveItem())===null||a===void 0?void 0:a.key)===g,data:oe(e.state.keyEntities,g).node}),x=v.indexOf(g)!==-1;(0,ae.ZP)(!x,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var S=zt(y),Z={event:t,node:Q(k),dragNode:e.dragNode?Q(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(v),dropToGap:p!==0,dropPosition:p+Number(S[S.length-1])};l||C==null||C(Z),e.dragNode=null}}}),(0,m.Z)((0,K.Z)(e),"cleanDragState",function(){var t=e.state.draggingNodeKey;t!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),(0,m.Z)((0,K.Z)(e),"triggerExpandActionExpand",function(t,r){var a=e.state,l=a.expandedKeys,u=a.flattenNodes,v=r.expanded,p=r.key,g=r.isLeaf;if(!(g||t.shiftKey||t.metaKey||t.ctrlKey)){var y=u.filter(function(C){return C.key===p})[0],h=Q((0,M.Z)((0,M.Z)({},_e(p,e.getTreeNodeRequiredProps())),{},{data:y.data}));e.setExpandedKeys(v?We(l,p):et(l,p)),e.onNodeExpand(t,h)}}),(0,m.Z)((0,K.Z)(e),"onNodeClick",function(t,r){var a=e.props,l=a.onClick,u=a.expandAction;u==="click"&&e.triggerExpandActionExpand(t,r),l==null||l(t,r)}),(0,m.Z)((0,K.Z)(e),"onNodeDoubleClick",function(t,r){var a=e.props,l=a.onDoubleClick,u=a.expandAction;u==="doubleClick"&&e.triggerExpandActionExpand(t,r),l==null||l(t,r)}),(0,m.Z)((0,K.Z)(e),"onNodeSelect",function(t,r){var a=e.state.selectedKeys,l=e.state,u=l.keyEntities,v=l.fieldNames,p=e.props,g=p.onSelect,y=p.multiple,h=r.selected,C=r[v.key],k=!h;k?y?a=et(a,C):a=[C]:a=We(a,C);var x=a.map(function(S){var Z=oe(u,S);return Z?Z.node:null}).filter(function(S){return S});e.setUncontrolledState({selectedKeys:a}),g==null||g(a,{event:"select",selected:k,node:r,selectedNodes:x,nativeEvent:t.nativeEvent})}),(0,m.Z)((0,K.Z)(e),"onNodeCheck",function(t,r,a){var l=e.state,u=l.keyEntities,v=l.checkedKeys,p=l.halfCheckedKeys,g=e.props,y=g.checkStrictly,h=g.onCheck,C=r.key,k,x={event:"check",node:r,checked:a,nativeEvent:t.nativeEvent};if(y){var S=a?et(v,C):We(v,C),Z=We(p,C);k={checked:S,halfChecked:Z},x.checkedNodes=S.map(function(T){return oe(u,T)}).filter(function(T){return T}).map(function(T){return T.node}),e.setUncontrolledState({checkedKeys:S})}else{var E=He([].concat((0,J.Z)(v),[C]),!0,u),O=E.checkedKeys,b=E.halfCheckedKeys;if(!a){var P=new Set(O);P.delete(C);var D=He(Array.from(P),{checked:!1,halfCheckedKeys:b},u);O=D.checkedKeys,b=D.halfCheckedKeys}k=O,x.checkedNodes=[],x.checkedNodesPositions=[],x.halfCheckedKeys=b,O.forEach(function(T){var I=oe(u,T);if(I){var V=I.node,F=I.pos;x.checkedNodes.push(V),x.checkedNodesPositions.push({node:V,pos:F})}}),e.setUncontrolledState({checkedKeys:O},!1,{halfCheckedKeys:b})}h==null||h(k,x)}),(0,m.Z)((0,K.Z)(e),"onNodeLoad",function(t){var r,a=t.key,l=e.state.keyEntities,u=oe(l,a);if(!(u!=null&&(r=u.children)!==null&&r!==void 0&&r.length)){var v=new Promise(function(p,g){e.setState(function(y){var h=y.loadedKeys,C=h===void 0?[]:h,k=y.loadingKeys,x=k===void 0?[]:k,S=e.props,Z=S.loadData,E=S.onLoad;if(!Z||C.indexOf(a)!==-1||x.indexOf(a)!==-1)return null;var O=Z(t);return O.then(function(){var b=e.state.loadedKeys,P=et(b,a);E==null||E(P,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:P}),e.setState(function(D){return{loadingKeys:We(D.loadingKeys,a)}}),p()}).catch(function(b){if(e.setState(function(D){return{loadingKeys:We(D.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=vr){var P=e.state.loadedKeys;(0,ae.ZP)(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:et(P,a)}),p()}g(b)}),{loadingKeys:et(x,a)}})});return v.catch(function(){}),v}}),(0,m.Z)((0,K.Z)(e),"onNodeMouseEnter",function(t,r){var a=e.props.onMouseEnter;a==null||a({event:t,node:r})}),(0,m.Z)((0,K.Z)(e),"onNodeMouseLeave",function(t,r){var a=e.props.onMouseLeave;a==null||a({event:t,node:r})}),(0,m.Z)((0,K.Z)(e),"onNodeContextMenu",function(t,r){var a=e.props.onRightClick;a&&(t.preventDefault(),a({event:t,node:r}))}),(0,m.Z)((0,K.Z)(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];t==null||t.apply(void 0,a)}),(0,m.Z)((0,K.Z)(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var r=arguments.length,a=new Array(r),l=0;l<r;l++)a[l]=arguments[l];t==null||t.apply(void 0,a)}),(0,m.Z)((0,K.Z)(e),"getTreeNodeRequiredProps",function(){var t=e.state,r=t.expandedKeys,a=t.selectedKeys,l=t.loadedKeys,u=t.loadingKeys,v=t.checkedKeys,p=t.halfCheckedKeys,g=t.dragOverNodeKey,y=t.dropPosition,h=t.keyEntities;return{expandedKeys:r||[],selectedKeys:a||[],loadedKeys:l||[],loadingKeys:u||[],checkedKeys:v||[],halfCheckedKeys:p||[],dragOverNodeKey:g,dropPosition:y,keyEntities:h}}),(0,m.Z)((0,K.Z)(e),"setExpandedKeys",function(t){var r=e.state,a=r.treeData,l=r.fieldNames,u=ht(a,t,l);e.setUncontrolledState({expandedKeys:t,flattenNodes:u},!0)}),(0,m.Z)((0,K.Z)(e),"onNodeExpand",function(t,r){var a=e.state.expandedKeys,l=e.state,u=l.listChanging,v=l.fieldNames,p=e.props,g=p.onExpand,y=p.loadData,h=r.expanded,C=r[v.key];if(!u){var k=a.indexOf(C),x=!h;if((0,ae.ZP)(h&&k!==-1||!h&&k===-1,"Expand state not sync with index check"),x?a=et(a,C):a=We(a,C),e.setExpandedKeys(a),g==null||g(a,{node:r,expanded:x,nativeEvent:t.nativeEvent}),x&&y){var S=e.onNodeLoad(r);S&&S.then(function(){var Z=ht(e.state.treeData,a,v);e.setUncontrolledState({flattenNodes:Z})}).catch(function(){var Z=e.state.expandedKeys,E=We(Z,C);e.setExpandedKeys(E)})}}}),(0,m.Z)((0,K.Z)(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),(0,m.Z)((0,K.Z)(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),(0,m.Z)((0,K.Z)(e),"onActiveChange",function(t){var r=e.state.activeKey,a=e.props,l=a.onActiveChange,u=a.itemScrollOffset,v=u===void 0?0:u;r!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:v}),l==null||l(t))}),(0,m.Z)((0,K.Z)(e),"getActiveItem",function(){var t=e.state,r=t.activeKey,a=t.flattenNodes;return r===null?null:a.find(function(l){var u=l.key;return u===r})||null}),(0,m.Z)((0,K.Z)(e),"offsetActiveKey",function(t){var r=e.state,a=r.flattenNodes,l=r.activeKey,u=a.findIndex(function(g){var y=g.key;return y===l});u===-1&&t<0&&(u=a.length),u=(u+t+a.length)%a.length;var v=a[u];if(v){var p=v.key;e.onActiveChange(p)}else e.onActiveChange(null)}),(0,m.Z)((0,K.Z)(e),"onKeyDown",function(t){var r=e.state,a=r.activeKey,l=r.expandedKeys,u=r.checkedKeys,v=r.fieldNames,p=e.props,g=p.onKeyDown,y=p.checkable,h=p.selectable;switch(t.which){case Pe.Z.UP:{e.offsetActiveKey(-1),t.preventDefault();break}case Pe.Z.DOWN:{e.offsetActiveKey(1),t.preventDefault();break}}var C=e.getActiveItem();if(C&&C.data){var k=e.getTreeNodeRequiredProps(),x=C.data.isLeaf===!1||!!(C.data[v.children]||[]).length,S=Q((0,M.Z)((0,M.Z)({},_e(a,k)),{},{data:C.data,active:!0}));switch(t.which){case Pe.Z.LEFT:{x&&l.includes(a)?e.onNodeExpand({},S):C.parent&&e.onActiveChange(C.parent.key),t.preventDefault();break}case Pe.Z.RIGHT:{x&&!l.includes(a)?e.onNodeExpand({},S):C.children&&C.children.length&&e.onActiveChange(C.children[0].key),t.preventDefault();break}case Pe.Z.ENTER:case Pe.Z.SPACE:{y&&!S.disabled&&S.checkable!==!1&&!S.disableCheckbox?e.onNodeCheck({},S,!u.includes(a)):!y&&h&&!S.disabled&&S.selectable!==!1&&e.onNodeSelect({},S);break}}}g==null||g(t)}),(0,m.Z)((0,K.Z)(e),"setUncontrolledState",function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var l=!1,u=!0,v={};Object.keys(t).forEach(function(p){if(p in e.props){u=!1;return}l=!0,v[p]=t[p]}),l&&(!r||u)&&e.setState((0,M.Z)((0,M.Z)({},v),a))}}),(0,m.Z)((0,K.Z)(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return(0,on.Z)(d,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var o=this.props,s=o.activeKey,c=o.itemScrollOffset,t=c===void 0?0:c;s!==void 0&&s!==this.state.activeKey&&(this.setState({activeKey:s}),s!==null&&this.scrollTo({key:s,offset:t}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var o=this.state,s=o.focused,c=o.flattenNodes,t=o.keyEntities,r=o.draggingNodeKey,a=o.activeKey,l=o.dropLevelOffset,u=o.dropContainerKey,v=o.dropTargetKey,p=o.dropPosition,g=o.dragOverNodeKey,y=o.indent,h=this.props,C=h.prefixCls,k=h.className,x=h.style,S=h.showLine,Z=h.focusable,E=h.tabIndex,O=E===void 0?0:E,b=h.selectable,P=h.showIcon,D=h.icon,T=h.switcherIcon,I=h.draggable,V=h.checkable,F=h.checkStrictly,B=h.disabled,q=h.motion,$=h.loadData,te=h.filterTreeNode,pe=h.height,ce=h.itemHeight,Te=h.virtual,le=h.titleRender,Se=h.dropIndicatorRender,ee=h.onContextMenu,G=h.onScroll,Ie=h.direction,ue=h.rootClassName,Oe=h.rootStyle,he=(0,sn.Z)(this.props,{aria:!0,data:!0}),ne;return I&&((0,Qe.Z)(I)==="object"?ne=I:typeof I=="function"?ne={nodeDraggable:I}:ne={}),f.createElement(jt.Provider,{value:{prefixCls:C,selectable:b,showIcon:P,icon:D,switcherIcon:T,draggable:ne,draggingNodeKey:r,checkable:V,checkStrictly:F,disabled:B,keyEntities:t,dropLevelOffset:l,dropContainerKey:u,dropTargetKey:v,dropPosition:p,dragOverNodeKey:g,indent:y,direction:Ie,dropIndicatorRender:Se,loadData:$,filterTreeNode:te,titleRender:le,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},f.createElement("div",{role:"tree",className:U()(C,k,ue,(0,m.Z)((0,m.Z)((0,m.Z)({},"".concat(C,"-show-line"),S),"".concat(C,"-focused"),s),"".concat(C,"-active-focused"),a!==null)),style:Oe},f.createElement(ir,(0,z.Z)({ref:this.listRef,prefixCls:C,style:x,data:c,disabled:B,selectable:b,checkable:!!V,motion:q,dragging:r!==null,height:pe,itemHeight:ce,virtual:Te,focusable:Z,focused:s,tabIndex:O,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ee,onScroll:G},this.getTreeNodeRequiredProps(),he))))}}],[{key:"getDerivedStateFromProps",value:function(o,s){var c=s.prevProps,t={prevProps:o};function r(E){return!c&&E in o||c&&c[E]!==o[E]}var a,l=s.fieldNames;if(r("fieldNames")&&(l=lt(o.fieldNames),t.fieldNames=l),r("treeData")?a=o.treeData:r("children")&&((0,ae.ZP)(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),a=Ht(o.children)),a){t.treeData=a;var u=Fe(a,{fieldNames:l});t.keyEntities=(0,M.Z)((0,m.Z)({},st,gn),u.keyEntities)}var v=t.keyEntities||s.keyEntities;if(r("expandedKeys")||c&&r("autoExpandParent"))t.expandedKeys=o.autoExpandParent||!c&&o.defaultExpandParent?Sn(o.expandedKeys,v):o.expandedKeys;else if(!c&&o.defaultExpandAll){var p=(0,M.Z)({},v);delete p[st],t.expandedKeys=Object.keys(p).map(function(E){return p[E].key})}else!c&&o.defaultExpandedKeys&&(t.expandedKeys=o.autoExpandParent||o.defaultExpandParent?Sn(o.defaultExpandedKeys,v):o.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,a||t.expandedKeys){var g=ht(a||s.treeData,t.expandedKeys||s.expandedKeys,l);t.flattenNodes=g}if(o.selectable&&(r("selectedKeys")?t.selectedKeys=Nn(o.selectedKeys,o):!c&&o.defaultSelectedKeys&&(t.selectedKeys=Nn(o.defaultSelectedKeys,o))),o.checkable){var y;if(r("checkedKeys")?y=Yt(o.checkedKeys)||{}:!c&&o.defaultCheckedKeys?y=Yt(o.defaultCheckedKeys)||{}:a&&(y=Yt(o.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),y){var h=y,C=h.checkedKeys,k=C===void 0?[]:C,x=h.halfCheckedKeys,S=x===void 0?[]:x;if(!o.checkStrictly){var Z=He(k,!0,v);k=Z.checkedKeys,S=Z.halfCheckedKeys}t.checkedKeys=k,t.halfCheckedKeys=S}}return r("loadedKeys")&&(t.loadedKeys=o.loadedKeys),t}}]),d}(f.Component);(0,m.Z)(Xt,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Un,allowDrop:function(){return!0},expandAction:!1}),(0,m.Z)(Xt,"TreeNode",Bt);var pr=Xt,hr=pr,gr=N(56982),yr=f.createContext(null),En=yr;function mr(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}function Cr(n){var i=n||{},d=i.label,e=i.value,o=i.children,s=e||"value";return{_title:d?[d]:["title","label"],value:s,key:s,children:o||"children"}}function Jt(n){return!n||n.disabled||n.disableCheckbox||n.checkable===!1}function xr(n,i){var d=[];function e(o){o.forEach(function(s){var c=s[i.children];c&&(d.push(s[i.value]),e(c))})}return e(n),d}function kn(n){return n==null}var Kr={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Nr=function(i,d){var e=(0,vt.lk)(),o=e.prefixCls,s=e.multiple,c=e.searchValue,t=e.toggleOpen,r=e.open,a=e.notFoundContent,l=f.useContext(En),u=l.virtual,v=l.listHeight,p=l.listItemHeight,g=l.listItemScrollOffset,y=l.treeData,h=l.fieldNames,C=l.onSelect,k=l.dropdownMatchSelectWidth,x=l.treeExpandAction,S=l.treeTitleRender,Z=l.onPopupScroll,E=f.useContext(rn),O=E.checkable,b=E.checkedKeys,P=E.halfCheckedKeys,D=E.treeExpandedKeys,T=E.treeDefaultExpandAll,I=E.treeDefaultExpandedKeys,V=E.onTreeExpand,F=E.treeIcon,B=E.showTreeIcon,q=E.switcherIcon,$=E.treeLine,te=E.treeNodeFilterProp,pe=E.loadData,ce=E.treeLoadedKeys,Te=E.treeMotion,le=E.onTreeLoad,Se=E.keyEntities,ee=f.useRef(),G=(0,gr.Z)(function(){return y},[r,y],function(W,w){return w[0]&&W[1]!==w[1]}),Ie=f.useState(null),ue=(0,re.Z)(Ie,2),Oe=ue[0],he=ue[1],ne=Se[Oe],we=f.useMemo(function(){return O?{checked:b,halfChecked:P}:null},[O,b,P]);f.useEffect(function(){if(r&&!s&&b.length){var W;(W=ee.current)===null||W===void 0||W.scrollTo({key:b[0]}),he(b[0])}},[r]);var je=String(c).toLowerCase(),Le=function(w){return je?String(w[te]).toLowerCase().includes(je):!1},Ue=f.useState(I),Ee=(0,re.Z)(Ue,2),Be=Ee[0],Ge=Ee[1],tt=f.useState(null),ge=(0,re.Z)(tt,2),Me=ge[0],Re=ge[1],L=f.useMemo(function(){return D?(0,J.Z)(D):c?Me:Be},[Be,Me,D,c]);f.useEffect(function(){c&&Re(xr(y,h))},[c]);var ye=function(w){Ge(w),Re(w),V&&V(w)},me=function(w){w.preventDefault()},fe=function(w,ke){var de=ke.node;O&&Jt(de)||(C(de.key,{selected:!b.includes(de.key)}),s||t(!1))};if(f.useImperativeHandle(d,function(){var W;return{scrollTo:(W=ee.current)===null||W===void 0?void 0:W.scrollTo,onKeyDown:function(ke){var de,ze=ke.which;switch(ze){case Pe.Z.UP:case Pe.Z.DOWN:case Pe.Z.LEFT:case Pe.Z.RIGHT:(de=ee.current)===null||de===void 0||de.onKeyDown(ke);break;case Pe.Z.ENTER:{if(ne){var ut=(ne==null?void 0:ne.node)||{},St=ut.selectable,Ye=ut.value;St!==!1&&fe(null,{node:{key:Oe},selected:!b.includes(Ye)})}break}case Pe.Z.ESC:t(!1)}},onKeyUp:function(){}}}),G.length===0)return f.createElement("div",{role:"listbox",className:"".concat(o,"-empty"),onMouseDown:me},a);var Ce={fieldNames:h};return ce&&(Ce.loadedKeys=ce),L&&(Ce.expandedKeys=L),f.createElement("div",{onMouseDown:me},ne&&r&&f.createElement("span",{style:Kr,"aria-live":"assertive"},ne.node.value),f.createElement(hr,(0,z.Z)({ref:ee,focusable:!1,prefixCls:"".concat(o,"-tree"),treeData:G,height:v,itemHeight:p,itemScrollOffset:g,virtual:u!==!1&&k!==!1,multiple:s,icon:F,showIcon:B,switcherIcon:q,showLine:$,loadData:c?null:pe,motion:Te,activeKey:Oe,checkable:O,checkStrictly:!0,checkedKeys:we,selectedKeys:O?[]:b,defaultExpandAll:T,titleRender:S},Ce,{onActiveChange:he,onSelect:fe,onCheck:fe,onExpand:ye,onLoad:le,filterTreeNode:Le,expandAction:x,onScroll:Z})))},Sr=f.forwardRef(Nr),Er=Sr,Qt="SHOW_ALL",qt="SHOW_PARENT",Tt="SHOW_CHILD";function Zn(n,i,d,e){var o=new Set(n);return i===Tt?n.filter(function(s){var c=d[s];return!(c&&c.children&&c.children.some(function(t){var r=t.node;return o.has(r[e.value])})&&c.children.every(function(t){var r=t.node;return Jt(r)||o.has(r[e.value])}))}):i===qt?n.filter(function(s){var c=d[s],t=c?c.parent:null;return!(t&&!Jt(t.node)&&o.has(t.key))}):n}function da(n){var i=n.searchPlaceholder,d=n.treeCheckStrictly,e=n.treeCheckable,o=n.labelInValue,s=n.value,c=n.multiple;warning(!i,"`searchPlaceholder` has been removed."),d&&o===!1&&warning(!1,"`treeCheckStrictly` will force set `labelInValue` to `true`."),(o||d)&&warning(toArray(s).every(function(t){return t&&_typeof(t)==="object"&&"value"in t}),"Invalid prop `value` supplied to `TreeSelect`. You should use { label: string, value: string | number } or [{ label: string, value: string | number }] instead."),d||c||e?warning(!s||Array.isArray(s),"`value` should be an array when `TreeSelect` is checkable or multiple."):warning(!Array.isArray(s),"`value` should not be array when `TreeSelect` is single mode.")}var sa=null,kr=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function Zr(n){return!n||(0,Qe.Z)(n)!=="object"}var br=f.forwardRef(function(n,i){var d=n.id,e=n.prefixCls,o=e===void 0?"rc-tree-select":e,s=n.value,c=n.defaultValue,t=n.onChange,r=n.onSelect,a=n.onDeselect,l=n.searchValue,u=n.inputValue,v=n.onSearch,p=n.autoClearSearchValue,g=p===void 0?!0:p,y=n.filterTreeNode,h=n.treeNodeFilterProp,C=h===void 0?"value":h,k=n.showCheckedStrategy,x=n.treeNodeLabelProp,S=n.multiple,Z=n.treeCheckable,E=n.treeCheckStrictly,O=n.labelInValue,b=n.fieldNames,P=n.treeDataSimpleMode,D=n.treeData,T=n.children,I=n.loadData,V=n.treeLoadedKeys,F=n.onTreeLoad,B=n.treeDefaultExpandAll,q=n.treeExpandedKeys,$=n.treeDefaultExpandedKeys,te=n.onTreeExpand,pe=n.treeExpandAction,ce=n.virtual,Te=n.listHeight,le=Te===void 0?200:Te,Se=n.listItemHeight,ee=Se===void 0?20:Se,G=n.listItemScrollOffset,Ie=G===void 0?0:G,ue=n.onDropdownVisibleChange,Oe=n.dropdownMatchSelectWidth,he=Oe===void 0?!0:Oe,ne=n.treeLine,we=n.treeIcon,je=n.showTreeIcon,Le=n.switcherIcon,Ue=n.treeMotion,Ee=n.treeTitleRender,Be=n.onPopupScroll,Ge=(0,$e.Z)(n,kr),tt=(0,xe.ZP)(d),ge=Z&&!E,Me=Z||E,Re=E||O,L=Me||S,ye=(0,Ke.Z)(c,{value:s}),me=(0,re.Z)(ye,2),fe=me[0],Ce=me[1],W=f.useMemo(function(){return Z?k||Tt:Qt},[k,Z]),w=f.useMemo(function(){return Cr(b)},[JSON.stringify(b)]),ke=(0,Ke.Z)("",{value:l!==void 0?l:u,postState:function(R){return R||""}}),de=(0,re.Z)(ke,2),ze=de[0],ut=de[1],St=function(R){ut(R),v==null||v(R)},Ye=Wn(D,T,P),Ot=Ft(Ye,w),Ze=Ot.keyEntities,Xe=Ot.valueEntities,It=f.useCallback(function(A){var R=[],H=[];return A.forEach(function(Y){Xe.has(Y)?H.push(Y):R.push(Y)}),{missingRawValues:R,existRawValues:H}},[Xe]),wt=Hn(Ye,ze,{fieldNames:w,treeNodeFilterProp:C,filterTreeNode:y}),Lt=f.useCallback(function(A){if(A){if(x)return A[x];for(var R=w._title,H=0;H<R.length;H+=1){var Y=A[R[H]];if(Y!==void 0)return Y}}},[w,x]),Je=f.useCallback(function(A){var R=mr(A);return R.map(function(H){return Zr(H)?{value:H}:H})},[]),nt=f.useCallback(function(A){var R=Je(A);return R.map(function(H){var Y=H.label,be=H.value,ve=H.halfChecked,X,j=Xe.get(be);if(j){var De;Y=Ee?Ee(j.node):(De=Y)!==null&&De!==void 0?De:Lt(j.node),X=j.node.disabled}else if(Y===void 0){var rt=Je(fe).find(function(Et){return Et.value===be});Y=rt.label}return{label:Y,value:be,halfChecked:ve,disabled:X}})},[Xe,Lt,Je,fe]),wn=f.useMemo(function(){return Je(fe)},[Je,fe]),qr=f.useMemo(function(){var A=[],R=[];return wn.forEach(function(H){H.halfChecked?R.push(H):A.push(H)}),[A,R]},[wn]),Ln=(0,re.Z)(qr,2),gt=Ln[0],Mn=Ln[1],$n=f.useMemo(function(){return gt.map(function(A){return A.value})},[gt]),_r=_(gt,Mn,ge,Ze),Rn=(0,re.Z)(_r,2),yt=Rn[0],Mt=Rn[1],ea=f.useMemo(function(){var A=Zn(yt,W,Ze,w),R=A.map(function(ve){var X,j;return(X=(j=Ze[ve])===null||j===void 0||(j=j.node)===null||j===void 0?void 0:j[w.value])!==null&&X!==void 0?X:ve}),H=R.map(function(ve){var X=gt.find(function(De){return De.value===ve}),j;return O&&X.label!==void 0?j=X.label:!O&&Ee&&(j=Ee(X)),{value:ve,label:j}}),Y=nt(H),be=Y[0];return!L&&be&&kn(be.value)&&kn(be.label)?[]:Y.map(function(ve){var X;return(0,M.Z)((0,M.Z)({},ve),{},{label:(X=ve.label)!==null&&X!==void 0?X:ve.value})})},[w,L,yt,gt,nt,W,Ze]),ta=Vt(ea),na=(0,re.Z)(ta,1),ra=na[0],$t=nn(function(A,R,H){var Y=nt(A);if(Ce(Y),g&&ut(""),t){var be=A;if(ge){var ve=Zn(A,W,Ze,w);be=ve.map(function(Ae){var at=Xe.get(Ae);return at?at.node[w.value]:Ae})}var X=R||{triggerValue:void 0,selected:void 0},j=X.triggerValue,De=X.selected,rt=be;if(E){var Et=Mn.filter(function(Ae){return!be.includes(Ae.value)});rt=[].concat((0,J.Z)(rt),(0,J.Z)(Et))}var kt=nt(rt),ft={preValue:gt,triggerValue:j},mt=!0;(E||H==="selection"&&!De)&&(mt=!1),Vn(ft,j,A,Ye,mt,w),Me?ft.checked=De:ft.selected=De;var Rt=Re?kt:kt.map(function(Ae){return Ae.value});t(L?Rt:Rt[0],Re?null:kt.map(function(Ae){return Ae.label}),ft)}}),_t=f.useCallback(function(A,R){var H,Y=R.selected,be=R.source,ve=Ze[A],X=ve==null?void 0:ve.node,j=(H=X==null?void 0:X[w.value])!==null&&H!==void 0?H:A;if(!L)$t([j],{selected:!0,triggerValue:j},"option");else{var De=Y?[].concat((0,J.Z)($n),[j]):yt.filter(function(at){return at!==j});if(ge){var rt=It(De),Et=rt.missingRawValues,kt=rt.existRawValues,ft=kt.map(function(at){return Xe.get(at).key}),mt;if(Y){var Rt=He(ft,!0,Ze);mt=Rt.checkedKeys}else{var Ae=He(ft,{checked:!1,halfCheckedKeys:Mt},Ze);mt=Ae.checkedKeys}De=[].concat((0,J.Z)(Et),(0,J.Z)(mt.map(function(at){return Ze[at].node[w.value]})))}$t(De,{selected:Y,triggerValue:j},be||"option")}Y||!L?r==null||r(j,Wt(X)):a==null||a(j,Wt(X))},[It,Xe,Ze,w,L,$n,$t,ge,r,a,yt,Mt]),aa=f.useCallback(function(A){if(ue){var R={};Object.defineProperty(R,"documentClickClose",{get:function(){return(0,ae.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),ue(A,R)}},[ue]),oa=nn(function(A,R){var H=A.map(function(Y){return Y.value});if(R.type==="clear"){$t(H,{},"selection");return}R.values.length&&_t(R.values[0].value,{selected:!1,source:"selection"})}),ia=f.useMemo(function(){return{virtual:ce,dropdownMatchSelectWidth:he,listHeight:le,listItemHeight:ee,listItemScrollOffset:Ie,treeData:wt,fieldNames:w,onSelect:_t,treeExpandAction:pe,treeTitleRender:Ee,onPopupScroll:Be}},[ce,he,le,ee,Ie,wt,w,_t,pe,Ee,Be]),la=f.useMemo(function(){return{checkable:Me,loadData:I,treeLoadedKeys:V,onTreeLoad:F,checkedKeys:yt,halfCheckedKeys:Mt,treeDefaultExpandAll:B,treeExpandedKeys:q,treeDefaultExpandedKeys:$,onTreeExpand:te,treeIcon:we,treeMotion:Ue,showTreeIcon:je,switcherIcon:Le,treeLine:ne,treeNodeFilterProp:C,keyEntities:Ze}},[Me,I,V,F,yt,Mt,B,q,$,te,we,Ue,je,Le,ne,C,Ze]);return f.createElement(En.Provider,{value:ia},f.createElement(rn.Provider,{value:la},f.createElement(vt.Ac,(0,z.Z)({ref:i},Ge,{id:tt,prefixCls:o,mode:L?"multiple":void 0,displayValues:ra,onDisplayValuesChange:oa,searchValue:ze,onSearch:St,OptionList:Er,emptyOptions:!Ye.length,onDropdownVisibleChange:aa,dropdownMatchSelectWidth:he}))))}),Nt=br;Nt.TreeNode=dt,Nt.SHOW_ALL=Qt,Nt.SHOW_PARENT=qt,Nt.SHOW_CHILD=Tt;var Dr=Nt,Pr=Dr,Tr=N(87263),bn=N(33603),Or=N(8745),Dn=N(9708),Ir=N(53124),wr=N(88258),Lr=N(98866),Pn=N(35792),Mr=N(98675),$r=N(65223),Rr=N(27833),Ar=N(30307),Vr=N(15030),Hr=N(43277),Fr=N(78642),Wr=N(4173),jr=N(23797),Tn=N(11568),Ur=N(63185),On=N(83262),Br=N(83559),In=N(32157);const Gr=n=>{const{componentCls:i,treePrefixCls:d,colorBgElevated:e}=n,o=`.${d}`;return[{[`${i}-dropdown`]:[{padding:`${(0,Tn.bf)(n.paddingXS)} ${(0,Tn.bf)(n.calc(n.paddingXS).div(2).equal())}`},(0,In.Yk)(d,(0,On.IX)(n,{colorBgContainer:e})),{[o]:{borderRadius:0,[`${o}-list-holder-inner`]:{alignItems:"stretch",[`${o}-treenode`]:{[`${o}-node-content-wrapper`]:{flex:"auto"}}}}},(0,Ur.C2)(`${d}-checkbox`,n),{"&-rtl":{direction:"rtl",[`${o}-switcher${o}-switcher_close`]:{[`${o}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]},ca=null;function zr(n,i,d){return(0,Br.I$)("TreeSelect",e=>{const o=(0,On.IX)(e,{treePrefixCls:i});return[Gr(o)]},In.TM)(n,d)}var Yr=function(n,i){var d={};for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&i.indexOf(e)<0&&(d[e]=n[e]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,e=Object.getOwnPropertySymbols(n);o<e.length;o++)i.indexOf(e[o])<0&&Object.prototype.propertyIsEnumerable.call(n,e[o])&&(d[e[o]]=n[e[o]]);return d};const Xr=(n,i)=>{var d;const{prefixCls:e,size:o,disabled:s,bordered:c=!0,className:t,rootClassName:r,treeCheckable:a,multiple:l,listHeight:u=256,listItemHeight:v=26,placement:p,notFoundContent:g,switcherIcon:y,treeLine:h,getPopupContainer:C,popupClassName:k,dropdownClassName:x,treeIcon:S=!1,transitionName:Z,choiceTransitionName:E="",status:O,treeExpandAction:b,builtinPlacements:P,dropdownMatchSelectWidth:D,popupMatchSelectWidth:T,allowClear:I,variant:V,dropdownStyle:F,tagRender:B}=n,q=Yr(n,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender"]),{getPopupContainer:$,getPrefixCls:te,renderEmpty:pe,direction:ce,virtual:Te,popupMatchSelectWidth:le,popupOverflow:Se}=f.useContext(Ir.E_),ee=te(),G=te("select",e),Ie=te("select-tree",e),ue=te("tree-select",e),{compactSize:Oe,compactItemClassnames:he}=(0,Wr.ri)(G,ce),ne=(0,Pn.Z)(G),we=(0,Pn.Z)(ue),[je,Le,Ue]=(0,Vr.Z)(G,ne),[Ee]=zr(ue,Ie,we),[Be,Ge]=(0,Rr.Z)("treeSelect",V,c),tt=U()(k||x,`${ue}-dropdown`,{[`${ue}-dropdown-rtl`]:ce==="rtl"},r,Ue,ne,we,Le),ge=!!(a||l),Me=(0,Fr.Z)(n.suffixIcon,n.showArrow),Re=(d=T!=null?T:D)!==null&&d!==void 0?d:le,{status:L,hasFeedback:ye,isFormItemInput:me,feedbackIcon:fe}=f.useContext($r.aM),Ce=(0,Dn.F)(L,O),{suffixIcon:W,removeIcon:w,clearIcon:ke}=(0,Hr.Z)(Object.assign(Object.assign({},q),{multiple:ge,showSuffixIcon:Me,hasFeedback:ye,feedbackIcon:fe,prefixCls:G,componentName:"TreeSelect"})),de=I===!0?{clearIcon:ke}:I;let ze;g!==void 0?ze=g:ze=(pe==null?void 0:pe("Select"))||f.createElement(wr.Z,{componentName:"Select"});const ut=(0,qe.Z)(q,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),St=f.useMemo(()=>p!==void 0?p:ce==="rtl"?"bottomRight":"bottomLeft",[p,ce]),Ye=(0,Mr.Z)(Je=>{var nt;return(nt=o!=null?o:Oe)!==null&&nt!==void 0?nt:Je}),Ot=f.useContext(Lr.Z),Ze=s!=null?s:Ot,Xe=U()(!e&&ue,{[`${G}-lg`]:Ye==="large",[`${G}-sm`]:Ye==="small",[`${G}-rtl`]:ce==="rtl",[`${G}-${Be}`]:Ge,[`${G}-in-form-item`]:me},(0,Dn.Z)(G,Ce,ye),he,t,r,Ue,ne,we,Le),It=Je=>f.createElement(jr.Z,{prefixCls:Ie,switcherIcon:y,treeNodeProps:Je,showLine:h}),[wt]=(0,Tr.Cn)("SelectLike",F==null?void 0:F.zIndex),Lt=f.createElement(Pr,Object.assign({virtual:Te,disabled:Ze},ut,{dropdownMatchSelectWidth:Re,builtinPlacements:(0,Ar.Z)(P,Se),ref:i,prefixCls:G,className:Xe,listHeight:u,listItemHeight:v,treeCheckable:a&&f.createElement("span",{className:`${G}-tree-checkbox-inner`}),treeLine:!!h,suffixIcon:W,multiple:ge,placement:St,removeIcon:w,allowClear:de,switcherIcon:It,showTreeIcon:S,notFoundContent:ze,getPopupContainer:C||$,treeMotion:null,dropdownClassName:tt,dropdownStyle:Object.assign(Object.assign({},F),{zIndex:wt}),choiceTransitionName:(0,bn.m)(ee,"",E),transitionName:(0,bn.m)(ee,"slide-up",Z),treeExpandAction:b,tagRender:ge?B:void 0}));return je(Ee(Lt))},ct=f.forwardRef(Xr),Jr=(0,Or.Z)(ct);ct.TreeNode=dt,ct.SHOW_ALL=Qt,ct.SHOW_PARENT=qt,ct.SHOW_CHILD=Tt,ct._InternalPanelDoNotUseOrYouWillBeFired=Jr;var Qr=ct},36459:function(At,ot,N){N.d(ot,{Z:function(){return f}});function f(Ve){if(Ve==null)throw new TypeError("Cannot destructure "+Ve)}}}]);
